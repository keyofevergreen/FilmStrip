(function(e){function t(t){for(var n,a,r=t[0],l=t[1],o=t[2],b=0,d=[];b<r.length;b++)a=r[b],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,o||[]),c()}function c(){for(var e,t=0;t<s.length;t++){for(var c=s[t],n=!0,r=1;r<c.length;r++){var l=c[r];0!==i[l]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=c[0]))}return e}var n={},i={app:0},s=[];function a(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=e,a.c=n,a.d=function(e,t,c){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(c,n,function(t){return e[t]}.bind(null,n));return c},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/FilmStrip/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var o=0;o<r.length;o++)t(r[o]);var u=l;s.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"014b":function(e,t,c){},"0334":function(e,t,c){},"09f4":function(e,t,c){},"0f77":function(e,t,c){},"10f3":function(e,t,c){"use strict";c("e016")},"13ff":function(e,t,c){"use strict";c("904f")},"192e":function(e,t,c){},"1af1":function(e,t,c){"use strict";c("769a")},"1e35":function(e,t,c){},"26a2":function(e,t,c){},"272a":function(e,t,c){},2751:function(e,t,c){},"2cbb":function(e,t,c){"use strict";c("67b6")},"30b1":function(e,t,c){"use strict";c("09f4")},"41b3":function(e,t,c){"use strict";c("b9a0")},4678:function(e,t,c){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=s(e);return c(t)}function s(e){if(!c.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id="4678"},"4eef":function(e,t,c){"use strict";c("bc4f")},5112:function(e,t,c){"use strict";c("014b")},"52b7":function(e,t,c){},5487:function(e,t,c){"use strict";c("192e")},5497:function(e,t,c){"use strict";c("c164")},"54c6":function(e,t,c){"use strict";c("ba25")},5603:function(e,t,c){"use strict";c("2751")},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23");function i(e,t,c,i,s,a){var r=Object(n["V"])("my-header"),l=Object(n["V"])("router-view");return Object(n["L"])(),Object(n["m"])(n["b"],null,[Object(n["p"])(r),Object(n["p"])(l,{class:"wrap content"})],64)}var s=c("5530"),a=(c("e9c4"),{class:"cinema-header"}),r={class:"logo-line-wrap"},l={class:"wrap logo-line"},o={xmlns:"http://www.w3.org/2000/svg",class:"logo-line__logo"},u=["href"],b={class:"menu-line"},d={class:"wrap menu-line__nav"},p=["value"];function m(e,t,c,i,s,m){var f=Object(n["V"])("router-link"),j=Object(n["V"])("ProfileDropdown");return Object(n["L"])(),Object(n["m"])("header",a,[Object(n["n"])("div",r,[Object(n["n"])("div",l,[Object(n["p"])(f,{to:"/"},{default:Object(n["hb"])((function(){return[(Object(n["L"])(),Object(n["m"])("svg",o,[Object(n["n"])("use",{href:s.href},null,8,u)]))]})),_:1}),Object(n["p"])(j)])]),Object(n["n"])("div",b,[Object(n["n"])("nav",d,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(s.refs,(function(e){return Object(n["L"])(),Object(n["k"])(f,{to:e.value,key:e.value,tag:"li"},{default:Object(n["hb"])((function(){return[Object(n["n"])("button",{value:e.value,class:"btn"},Object(n["Y"])(e.label),9,p)]})),_:2},1032,["to"])})),128))])])])}var f=c("9b19"),j=c.n(f),O={class:"menu-item-wrap dropdown-menu__header"};function h(e,t,c,i,s,a){var r=Object(n["V"])("profile-icon"),l=Object(n["V"])("n-icon"),o=Object(n["V"])("n-button"),u=Object(n["V"])("a-menu-divider"),b=Object(n["V"])("a-menu-item"),d=Object(n["V"])("router-link"),p=Object(n["V"])("a-menu"),m=Object(n["V"])("a-dropdown"),f=Object(n["V"])("auth-modal");return Object(n["L"])(),Object(n["m"])(n["b"],null,[e.authAccount?(Object(n["L"])(),Object(n["k"])(m,{key:0,trigger:["click"],placement:"bottomRight"},{overlay:Object(n["hb"])((function(){return[Object(n["p"])(p,{class:"dropdown-menu",style:{"max-width":"250px"}},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",O,Object(n["Y"])(e.authAccount.mail),1),Object(n["p"])(u),(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(s.refs,(function(e){return Object(n["L"])(),Object(n["k"])(d,{to:e.value,key:e.value,tag:"li"},{default:Object(n["hb"])((function(){return[(Object(n["L"])(),Object(n["k"])(b,{key:e.value},{default:Object(n["hb"])((function(){return[Object(n["o"])(Object(n["Y"])(e.label),1)]})),_:2},1024))]})),_:2},1032,["to"])})),128)),Object(n["p"])(u),(Object(n["L"])(),Object(n["m"])("button",{key:s.refs.length,class:"menu-item-wrap btn btn-logout",onClick:t[1]||(t[1]=function(){return a.logout&&a.logout.apply(a,arguments)})}," Выход "))]})),_:1})]})),default:Object(n["hb"])((function(){return[Object(n["p"])(o,{class:"profile-btn profile-btn-after-auth",onClick:t[0]||(t[0]=function(e){return e.preventDefault()}),text:""},{default:Object(n["hb"])((function(){return[Object(n["p"])(l,null,{default:Object(n["hb"])((function(){return[Object(n["p"])(r)]})),_:1})]})),_:1})]})),_:1})):(Object(n["L"])(),Object(n["m"])("button",{key:1,class:"btn btn-green profile-btn profile-btn-before-auth",onClick:t[2]||(t[2]=function(e){return a.setModalVisible(!0)})},"Вход")),Object(n["p"])(f)],64)}var v=c("ad25"),g=c("5502"),y=function(e){return Object(n["O"])("data-v-7f5dbb4c"),e=e(),Object(n["M"])(),e},k={key:0},_={class:"registration-link-wrap"},w=y((function(){return Object(n["n"])("h2",{class:"auth-header"},"Войти",-1)})),M={key:1},F=y((function(){return Object(n["n"])("h2",{class:"auth-header"},"Регистрация",-1)}));function L(e,t,c,i,s,a){var r=Object(n["V"])("auth-form"),l=Object(n["V"])("registration-form"),o=Object(n["V"])("a-modal");return Object(n["L"])(),Object(n["k"])(o,{visible:s.isVisible,"onUpdate:visible":t[1]||(t[1]=function(e){return s.isVisible=e}),centered:!0,width:"420px",footer:null,afterClose:a.handleCancel,closable:!1,wrapClassName:"modal"},{default:Object(n["hb"])((function(){return[0===s.currentModalPage?(Object(n["L"])(),Object(n["m"])("div",k,[Object(n["n"])("div",_,[Object(n["n"])("a",{class:"auth-header auth-header-registration-link",onClick:t[0]||(t[0]=function(){return a.linkToRegistrationForm&&a.linkToRegistrationForm.apply(a,arguments)})},"Регистрация")]),w,Object(n["p"])(r)])):(Object(n["L"])(),Object(n["m"])("div",M,[F,Object(n["p"])(l)]))]})),_:1},8,["visible","afterClose"])}var C={key:0,class:"error-message"},T={key:0,class:"error-message"},S={class:"btn-wrap"};function V(e,t,c,i,s,a){var r=Object(n["V"])("a-input"),l=Object(n["V"])("a-spin");return Object(n["L"])(),Object(n["m"])("form",{class:"form-wrap",onSubmit:t[3]||(t[3]=Object(n["jb"])((function(){}),["prevent"])),novalidate:""},[Object(n["n"])("label",null,[Object(n["p"])(r,{class:"input",value:s.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return s.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"Введите вашу почту"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(n["L"])(),Object(n["m"])("p",C,Object(n["Y"])(a.userMailErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("label",null,[Object(n["p"])(r,{class:"input",value:s.form.userPassword,"onUpdate:value":t[1]||(t[1]=function(e){return s.form.userPassword=e}),type:"password",placeholder:"Введите ваш пароль"},null,8,["value"]),i.v$.form.userPassword.$error?(Object(n["L"])(),Object(n["m"])("p",T,Object(n["Y"])(a.userPasswordErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("div",S,[Object(n["p"])(l,{spinning:s.isFetching},{default:Object(n["hb"])((function(){return[Object(n["n"])("button",{class:"btn btn-auth",onClick:t[2]||(t[2]=function(){return a.handleSuccess&&a.handleSuccess.apply(a,arguments)})},"Войти")]})),_:1},8,["spinning"])])],32)}c("7db0"),c("d3b7");var P=c("25a0"),Y=c("e3e1"),$=(c("ac1f"),c("466d"),c("00b4"),c("5319"),function(e){return console.log(e.match(/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){11}(\s*)?$/)),/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){11}(\s*)?$/.test(e)}),A=function(e){var t=localStorage.getItem("users"),c=JSON.parse(t);return!c.find((function(t){return t.mail===e}))},x=function(e){var t=localStorage.getItem("users"),c=JSON.parse(t);return!!c.find((function(t){return t.mail===e}))},I=function(e){var t=localStorage.getItem("users"),c=JSON.parse(t);return!c.find((function(t){return t.phoneNumber===e.replace(/[^0-9]/g,"")}))},R={name:"AuthForm",setup:function(){return{v$:Object(P["a"])()}},data:function(){var e=JSON.parse(localStorage.users);return{users:e,isFetching:!1,form:{userMail:"",userPassword:""}}},validations:function(){return{form:{userMail:{required:Y["c"],email:Y["a"],hasRegisteredMail:x},userPassword:{required:Y["c"],sameAs:this.searchedAccount?Object(Y["d"])(this.searchedAccount.password):"",$lazy:!0}}}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({authModalVisible:function(e){return e.authModalVisible}})),{},{searchedAccount:function(){var e=this;return this.users.find((function(t){return t.mail===e.form.userMail}))},userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":this.v$.form.userMail.hasRegisteredMail.$invalid?"* Аккаунта с такой почтой не существует.":null},userPasswordErrors:function(){return this.v$.form.userPassword.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPassword.sameAs.$invalid?"* Неправильный пароль.":null}}),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setAuthModalVisible:"setAuthModalVisible",setAuthAccount:"setAuthAccount"})),{},{setFetching:function(e){this.isFetching=e},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),this.v$.$invalid?this.setFetching(!1):setTimeout((function(){e.setAuthModalVisible(!1),e.setAuthAccount(e.searchedAccount),e.setFetching(!1)}),1e3)}}),watch:{authModalVisible:function(e){!1===e&&(this.v$.$reset(),this.form.userMail="",this.form.userPassword="")}}},D=(c("bb50"),c("6b0d")),N=c.n(D);const U=N()(R,[["render",V],["__scopeId","data-v-705a4222"]]);var E=U,z=Object(n["o"])(" Электронная почта "),B={key:0,class:"error-message"},q=Object(n["o"])(" Ваш номер телефона "),G={key:0,class:"error-message"},J=Object(n["o"])(" Пароль "),H={key:0,class:"error-message"},W=Object(n["o"])(" Подтвердите пароль "),K={key:0,class:"error-message"},X={class:"btn-wrap"};function Q(e,t,c,i,s,a){var r=Object(n["V"])("a-input"),l=Object(n["V"])("a-spin");return Object(n["L"])(),Object(n["m"])("form",{class:"form-wrap",onSubmit:t[5]||(t[5]=Object(n["jb"])((function(){}),["prevent"])),novalidate:""},[Object(n["n"])("label",null,[z,Object(n["p"])(r,{class:"input",value:s.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return s.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"filmstrip@gmail.com",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(n["L"])(),Object(n["m"])("p",B,Object(n["Y"])(a.userMailErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("label",null,[q,Object(n["p"])(r,{class:"input",value:s.form.userPhoneNumber,"onUpdate:value":t[1]||(t[1]=function(e){return s.form.userPhoneNumber=e}),onBlur:i.v$.form.userPhoneNumber.$touch,type:"email",placeholder:"+7 999 666 99 99",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,8,["value","onBlur"]),i.v$.form.userPhoneNumber.$error?(Object(n["L"])(),Object(n["m"])("p",G,Object(n["Y"])(a.userPhoneNumberErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("label",null,[J,Object(n["p"])(r,{class:"input",value:s.form.userPassword,"onUpdate:value":t[2]||(t[2]=function(e){return s.form.userPassword=e}),onBlur:i.v$.form.userPassword.$touch,type:"password",placeholder:"Минимум 8 символов"},null,8,["value","onBlur"]),i.v$.form.userPassword.$error?(Object(n["L"])(),Object(n["m"])("p",H,Object(n["Y"])(a.userPasswordErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("label",null,[W,Object(n["p"])(r,{class:"input",value:s.form.userPasswordRepeat,"onUpdate:value":t[3]||(t[3]=function(e){return s.form.userPasswordRepeat=e}),onBlur:i.v$.form.userPasswordRepeat.$touch,type:"password",placeholder:"Минимум 8 символов"},null,8,["value","onBlur"]),i.v$.form.userPassword.$error?(Object(n["L"])(),Object(n["m"])("p",K,Object(n["Y"])(a.userPasswordErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("div",X,[Object(n["p"])(l,{spinning:s.isFetching},{default:Object(n["hb"])((function(){return[Object(n["n"])("button",{class:"btn btn-registration",onClick:t[4]||(t[4]=function(){return a.handleSuccess&&a.handleSuccess.apply(a,arguments)})},"Зарегистрироваться")]})),_:1},8,["spinning"])])],32)}var Z={name:"RegistrationForm",setup:function(){return{v$:Object(P["a"])()}},data:function(){return{isFetching:!1,form:{userMail:"",userPhoneNumber:"",userPassword:"",userPasswordRepeat:""}}},validations:function(){return{form:{userMail:{required:Y["c"],email:Y["a"],hasUnregisteredMail:A},userPhoneNumber:{required:Y["c"],hasValidPhoneNumber:$,hasUnregisteredPhoneNumber:I},userPassword:{required:Y["c"],minLength:Object(Y["b"])(8),sameAs:Object(Y["d"])(this.form.userPasswordRepeat)},userPasswordRepeat:{required:Y["c"]}}}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({authModalVisible:function(e){return e.authModalVisible}})),{},{userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":this.v$.form.userMail.hasUnregisteredMail.$invalid?"* Аккаунт с такой почтой уже существует.":null},userPhoneNumberErrors:function(){return this.v$.form.userPhoneNumber.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPhoneNumber.hasValidPhoneNumber.$invalid?"* Неправильный формат номера.":this.v$.form.userPhoneNumber.hasUnregisteredPhoneNumber.$invalid?"* Аккаунт с таким номером уже существует.":null},userPasswordErrors:function(){return this.v$.form.userPassword.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPassword.minLength.$invalid?"* Минимальная длинна пароля - 8 символов.":this.v$.form.userPassword.sameAs.$invalid?"* Пароли не совпадают.":null}}),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setAuthModalVisible:"setAuthModalVisible",setAuthAccount:"setAuthAccount"})),{},{setFetching:function(e){this.isFetching=e},createAccount:function(){var e=JSON.parse(localStorage.users),t={mail:this.form.userMail,phoneNumber:this.form.userPhoneNumber.replace(/[^0-9]/g,""),password:this.form.userPassword,ticketsHistory:[]};e.push(t),localStorage.setItem("users",JSON.stringify(e)),this.setAuthAccount(t)},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),this.v$.$invalid?this.setFetching(!1):setTimeout((function(){e.setAuthModalVisible(!1),e.createAccount(),e.setFetching(!1)}),1e3)}})};c("d980");const ee=N()(Z,[["render",Q],["__scopeId","data-v-7fae1317"]]);var te=ee,ce={name:"AuthModal",components:{AuthForm:E,RegistrationForm:te},data:function(){return{isVisible:!1,currentModalPage:0}},computed:Object(s["a"])({},Object(g["e"])({authModalVisible:function(e){return e.auth.authModalVisible}})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setAuthModalVisible:"setAuthModalVisible"})),{},{handleCancel:function(){this.setAuthModalVisible(!1),this.currentModalPage=0},linkToRegistrationForm:function(){this.currentModalPage=1}}),watch:{authModalVisible:function(e){this.isVisible=e}},beforeMount:function(){!0===this.isVisible&&(this.isVisible=!1,this.setAuthModalVisible(!1))}};c("5603");const ne=N()(ce,[["render",L],["__scopeId","data-v-7f5dbb4c"]]);var ie=ne,se={name:"ProfileDropdown",components:{ProfileIcon:v["a"],AuthModal:ie},data:function(){return{isModalVisible:!1,refs:[{value:"/profile",label:"Личный кабинет"},{value:"/profile/history",label:"История"}]}},computed:Object(s["a"])({},Object(g["e"])({authAccount:function(e){return e.auth.authAccount}})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setAuthModalVisible:"setAuthModalVisible",clearAuthAccount:"clearAuthAccount"})),{},{hide:function(){this.isModalVisible=!1},setModalVisible:function(e){this.setAuthModalVisible(e)},logout:function(){this.clearAuthAccount(),delete localStorage.authUser}})};c("6eb6");const ae=N()(se,[["render",h],["__scopeId","data-v-33505e0c"]]);var re=ae,le={name:"my-header",components:{ProfileDropdown:re},data:function(){return{href:"".concat(j.a,"#fillStrip-logo"),refs:[{value:"/online-cinema",label:"Онлайн-кинотеатр"},{value:"/films",label:"Фильмы"},{value:"/cinema-rent",label:"Аренда кинозала"}]}}};c("b4cf");const oe=N()(le,[["render",m],["__scopeId","data-v-d8520038"]]);var ue=oe,be={name:"App",components:{MyHeader:ue},methods:Object(s["a"])({},Object(g["b"])({setFetchedFilms:"films/fetchFilms"})),mounted:function(){this.setFetchedFilms(),localStorage.getItem("users")||localStorage.setItem("users",JSON.stringify([]))}};c("75eb");const de=N()(be,[["render",i]]);var pe=de,me=c("6c02");function fe(e,t,c,i,s,a){var r=Object(n["V"])("filmstrip-swiper"),l=Object(n["V"])("film-list");return Object(n["L"])(),Object(n["m"])("main",null,[Object(n["p"])(r),Object(n["p"])(l,{mode:"crop"})])}function je(e,t,c,i,s,a){var r=Object(n["V"])("filmstrip-item"),l=Object(n["V"])("swiper-slide"),o=Object(n["V"])("swiper");return Object(n["L"])(),Object(n["k"])(o,{slidesPerView:3,slidesPerGroup:1,spaceBetween:0,loop:!0,loopFillGroupWithBlank:!0,autoplay:{delay:4e3,disableOnInteraction:!1},breakpoints:{411:{slidesPerView:4},768:{slidesPerView:5},1026:{slidesPerView:6}}},{default:Object(n["hb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.currentPremiers,(function(e){return Object(n["L"])(),Object(n["k"])(l,{film:e,key:e.kinopoiskId},{default:Object(n["hb"])((function(){return[Object(n["p"])(r,{film:e},null,8,["film"])]})),_:2},1032,["film"])})),128))]})),_:1})}var Oe=c("8349"),he=(c("bbe3"),c("4da1")),ve=function(e){return Object(n["O"])("data-v-14fa8060"),e=e(),Object(n["M"])(),e},ge={class:"filmstrip-item"},ye=ve((function(){return Object(n["n"])("div",{class:"filmstrip-item__perforation top"},[Object(n["n"])("div"),Object(n["n"])("div")],-1)})),ke={class:"filmstrip-item__poster"},_e=["src","alt"],we=ve((function(){return Object(n["n"])("div",{class:"filmstrip-item__perforation down"},[Object(n["n"])("div"),Object(n["n"])("div")],-1)}));function Me(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div",ge,[ye,Object(n["n"])("div",ke,[Object(n["n"])("img",{src:c.film.posterUrlPreview,alt:c.film.nameRu},null,8,_e)]),we])}var Fe={name:"FilmstripItem",props:{film:Object}};c("2cbb");const Le=N()(Fe,[["render",Me],["__scopeId","data-v-14fa8060"]]);var Ce=Le;he["c"].use([he["a"],he["b"]]);var Te={name:"FilmstripSwiper",components:{Swiper:Oe["a"],SwiperSlide:Oe["b"],FilmstripItem:Ce},computed:Object(s["a"])({},Object(g["c"])({currentPremiers:"films/currentPremiers"}))};c("30b1");const Se=N()(Te,[["render",je],["__scopeId","data-v-363cd46f"]]);var Ve=Se,Pe={key:0,class:"film-list-full"},Ye={key:1,class:"film-list-crop"};function $e(e,t,c,i,s,a){var r=Object(n["V"])("sort-by-release-buttons"),l=Object(n["V"])("film-list-item"),o=Object(n["V"])("my-film-swiper");return Object(n["L"])(),Object(n["m"])(n["b"],null,[Object(n["p"])(r),"full"===c.mode?(Object(n["L"])(),Object(n["m"])("div",Pe,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.films,(function(e){return Object(n["L"])(),Object(n["k"])(l,{key:e.kinopoiskId,film:e},null,8,["film"])})),128))])):(Object(n["L"])(),Object(n["m"])("div",Ye,[Object(n["p"])(o,{filmList:e.isFetching?s.fetchingFilms:e.films},null,8,["filmList"])]))],64)}var Ae=function(e){return Object(n["O"])("data-v-232b3628"),e=e(),Object(n["M"])(),e},xe={class:"release-sort"},Ie=Ae((function(){return Object(n["n"])("span",null,"Сегодня в кино",-1)})),Re=[Ie],De=Ae((function(){return Object(n["n"])("span",null,"Скоро в кино",-1)})),Ne=[De];function Ue(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div",xe,[Object(n["n"])("div",{onClick:t[0]||(t[0]=function(t){return e.setSort("released")}),class:Object(n["C"])(["btn btn-sort-release","released"===e.isReleasedFilms?"active":"inactive"])},Re,2),Object(n["n"])("div",{onClick:t[1]||(t[1]=function(t){return e.setSort("unreleased")}),class:Object(n["C"])(["btn btn-sort-release","unreleased"===e.isReleasedFilms?"active":"inactive"])},Ne,2)])}var Ee={name:"SortByReleaseButtons",methods:Object(s["a"])({},Object(g["d"])({setSort:"setReleaseSort"})),computed:Object(s["a"])({},Object(g["e"])({isReleasedFilms:function(e){return e.selectedReleaseSort}}))};c("5497");const ze=N()(Ee,[["render",Ue],["__scopeId","data-v-232b3628"]]);var Be=ze,qe=(c("fb6a"),function(e){return Object(n["O"])("data-v-06515d44"),e=e(),Object(n["M"])(),e}),Ge={class:"dashed-card__content"},Je={xmlns:"http://www.w3.org/2000/svg"},He=["href"],We=Object(n["o"])("Все фильмы "),Ke=qe((function(){return Object(n["n"])("br",null,null,-1)}));function Xe(e,t,c,i,s,a){var r=Object(n["V"])("film-list-item"),l=Object(n["V"])("swiper-slide"),o=Object(n["V"])("router-link"),u=Object(n["V"])("swiper");return Object(n["L"])(),Object(n["k"])(u,{slidesPerView:1,slidesPerGroup:1,spaceBetween:10,centeredSlides:!0,breakpoints:{420:{slidesPerView:2,spaceBetween:20,centeredSlides:!1},768:{slidesPerView:3,spaceBetween:30,centeredSlides:!1},910:{slidesPerView:4,spaceBetween:20,centeredSlides:!1},1141:{slidesPerView:5,centeredSlides:!1}}},{default:Object(n["hb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(c.filmList.slice(0,4),(function(e){return Object(n["L"])(),Object(n["k"])(l,{key:e.kinopoiskId},{default:Object(n["hb"])((function(){return[Object(n["p"])(r,{film:e,class:"film-list__item"},null,8,["film"])]})),_:2},1024)})),128)),Object(n["p"])(l,{class:"film-list__item film-list__dashed-card"},{default:Object(n["hb"])((function(){return[Object(n["p"])(o,{to:"/films"},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",Ge,[(Object(n["L"])(),Object(n["m"])("svg",Je,[Object(n["n"])("use",{href:s.svgHref},null,8,He)])),Object(n["n"])("p",null,[We,Ke,Object(n["o"])("("+Object(n["Y"])(c.filmList.length)+")",1)])])]})),_:1})]})),_:1})]})),_:1})}c("a15b"),c("d81d");var Qe=function(e){return Object(n["O"])("data-v-77815bc9"),e=e(),Object(n["M"])(),e},Ze={key:0},et={class:"film-list__item-card"},tt={class:"item-card__premiere"},ct=["src","alt"],nt={class:"film-list__item-genres"},it={class:"film-list__item-name"},st={key:1,class:"film-list__item-fetching"},at=Qe((function(){return Object(n["n"])("div",{class:"item-fetching__premiere"},"Loading",-1)})),rt=Qe((function(){return Object(n["n"])("div",{class:"item-fetching__poster"},null,-1)})),lt=[at,rt];function ot(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div",{onClick:t[0]||(t[0]=function(){return a.linkToFilmPage&&a.linkToFilmPage.apply(a,arguments)})},[e.isFetching?(Object(n["L"])(),Object(n["m"])("div",st,lt)):(Object(n["L"])(),Object(n["m"])("div",Ze,[Object(n["n"])("div",et,[Object(n["n"])("div",tt,Object(n["Y"])(a.setRelease(c.film.premiereRu)),1),Object(n["n"])("img",{src:c.film.posterUrlPreview,alt:c.film.nameRu,class:"item-card__poster"},null,8,ct)]),Object(n["n"])("div",nt,Object(n["Y"])(c.film.genres.map((function(e){return e.genre})).join(", ")),1),Object(n["n"])("h4",it,Object(n["Y"])(c.film.nameRu),1)]))])}c("a9e3");var ut=c("c1df"),bt=c.n(ut),dt={name:"FilmListItem",props:{film:Object},methods:{setRelease:function(e){var t=bt()(),c=bt()(e,"YYYY-MM-DD"),n=Number(t.diff(c,"days",!0));return n>=0?c.calendar({sameDay:"[Премьера]",lastDay:"[Новинка]",lastWeek:"[Новинка]",sameElse:" "}):c.calendar({nextDay:"[Завтра]",nextWeek:"[В кино с] DD.MM",sameElse:"[В кино с] DD.MM"})},linkToFilmPage:function(){this.$router.push("/films/".concat(this.film.kinopoiskId)),bt()(this.film.premiereRu,"YYYY-MM-DD")}},computed:Object(s["a"])({},Object(g["e"])({isFetching:function(e){return e.films.isFetchingFilms}}))};c("f0e8");const pt=N()(dt,[["render",ot],["__scopeId","data-v-77815bc9"]]);var mt=pt,ft=c("ba2d"),jt=c.n(ft);he["c"].use([he["b"]]);var Ot={name:"FilmListSwiper",components:{Swiper:Oe["a"],SwiperSlide:Oe["b"],FilmListItem:mt},props:{filmList:Array},data:function(){return{svgHref:"".concat(jt.a,"#ticket")}}};c("10f3");const ht=N()(Ot,[["render",Xe],["__scopeId","data-v-06515d44"]]);var vt=ht,gt={name:"FilmList",props:{mode:String},components:{SortByReleaseButtons:Be,MyFilmSwiper:vt,FilmListItem:mt},data:function(){return{fetchingFilms:["fetchingFilm","fetchingFilm","fetchingFilm","fetchingFilm"]}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({isReleasedFilms:function(e){return e.selectedReleaseSort},selectedGenreSort:function(e){return e.selectedGenreSort},isFetching:function(e){return e.films.isFetchingFilms}})),Object(g["c"])({films:"films/filmsAfterSorts"}))};c("6f10");const yt=N()(gt,[["render",$e],["__scopeId","data-v-77e188cd"]]);var kt=yt,_t={name:"HomePage",components:{FilmstripSwiper:Ve,FilmList:kt}};const wt=N()(_t,[["render",fe]]);var Mt=wt;function Ft(e,t,c,i,s,a){var r=Object(n["V"])("sort-by-genres"),l=Object(n["V"])("film-list");return Object(n["L"])(),Object(n["m"])("main",null,[Object(n["p"])(r,{options:s.options},null,8,["options"]),Object(n["p"])(l,{mode:"full"})])}var Lt={class:"container"};function Ct(e,t,c,i,s,a){var r=Object(n["V"])("a-select-option"),l=Object(n["V"])("a-select");return Object(n["L"])(),Object(n["m"])("div",Lt,[Object(n["p"])(l,{"default-value":null,value:i.selectedValues,"onUpdate:value":t[0]||(t[0]=function(e){return i.selectedValues=e})},{default:Object(n["hb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(c.options,(function(e){return Object(n["L"])(),Object(n["k"])(r,{key:e.value,value:e.value},{default:Object(n["hb"])((function(){return[Object(n["o"])(Object(n["Y"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])])}var Tt={name:"SortByGenres",props:{options:{type:Array,default:function(){return[]}}},setup:function(){return{selectedValues:Object(n["R"])(null)}},methods:Object(s["a"])({},Object(g["d"])({setSort:"setGenresSort"})),watch:{selectedValues:function(e){this.setSort(e)}}};c("cef2");const St=N()(Tt,[["render",Ct],["__scopeId","data-v-55e1635b"]]);var Vt=St,Pt={name:"FilmListPage",components:{FilmList:kt,SortByGenres:Vt},data:function(){return{options:[{label:"Все фильмы",value:null},{label:"комедия",value:"комедия"},{label:"мультфильм",value:"мультфильм"},{label:"детский",value:"детский"},{label:"семейный",value:"семейный"},{label:"приключения",value:"приключения"},{label:"фантастика",value:"фантастика"},{label:"фэнтези",value:"фэнтези"},{label:"боевик",value:"боевик"},{label:"криминал",value:"криминал"},{label:"драма",value:"драма"},{label:"мелодрама",value:"мелодрама"},{label:"мюзикл",value:"мюзикл"},{label:"военный",value:"военный"},{label:"документальный",value:"документальный"},{label:"триллер",value:"триллер"},{label:"ужасы",value:"ужасы"},{label:"биография",value:"биография"},{label:"история",value:"история"},{label:"спорт",value:"спорт"},{label:"короткометражка",value:"короткометражка"},{label:"детектив",value:"детектив"},{label:"концерт",value:"концерт"}]}}};const Yt=N()(Pt,[["render",Ft]]);var $t=Yt,At=function(e){return Object(n["O"])("data-v-40a15d49"),e=e(),Object(n["M"])(),e},xt={key:0},It={class:"data-line"},Rt=At((function(){return Object(n["n"])("span",null,"Расписание на сегодня",-1)}));function Dt(e,t,c,i,s,a){var r=Object(n["V"])("film-item"),l=Object(n["V"])("date-picker"),o=Object(n["V"])("session-schedule");return e.selectedFilm&&!s.isFetching?(Object(n["L"])(),Object(n["m"])("div",xt,[Object(n["p"])(r,{film:e.selectedFilm,trailerURL:e.trailerURL},null,8,["film","trailerURL"]),Object(n["n"])("div",It,[Rt,Object(n["p"])(l)]),Object(n["p"])(o)])):Object(n["l"])("",!0)}var Nt=c("1da1"),Ut=(c("96cf"),c("4de4"),c("b0c0"),c("a4d3"),c("e01a"),{class:"film-item"}),Et=["src"],zt={key:1,class:"film-item__poster"},Bt=["src","alt"],qt={class:"film-item__content"},Gt={class:"film-item__header"},Jt={class:"film-item__country"},Ht={class:"film-item__tags"},Wt=Object(n["o"])(" Рейтинг фильма по версии Imdb "),Kt={class:"film-item__genres"},Xt={key:0,class:"film-item__duration"},Qt={class:"film-item__description"};function Zt(e,t,c,i,s,a){var r=Object(n["V"])("my-tag");return Object(n["L"])(),Object(n["m"])("div",Ut,[c.trailerURL?(Object(n["L"])(),Object(n["m"])("iframe",{key:0,class:"film-item__frame",src:c.trailerURL,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,Et)):(Object(n["L"])(),Object(n["m"])("div",zt,[Object(n["n"])("img",{src:c.film.posterUrlPreview,alt:"Постер ".concat(c.film.nameRu)},null,8,Bt)])),Object(n["n"])("div",qt,[Object(n["n"])("h1",Gt,Object(n["Y"])(c.film.nameRu),1),Object(n["n"])("p",Jt,Object(n["Y"])(c.film.nameOriginal)+" ("+Object(n["Y"])(c.film.year)+", "+Object(n["Y"])(c.film.countries.map((function(e){return e.country})).join(", "))+")",1),Object(n["n"])("div",Ht,[Object(n["p"])(r,{text:e.ageLimits,type:"dotted"},null,8,["text"]),c.film.ratingImdb?(Object(n["L"])(),Object(n["k"])(r,{key:0,text:c.film.ratingImdb,popover:!0,type:"green"},{default:Object(n["hb"])((function(){return[Wt]})),_:1},8,["text"])):Object(n["l"])("",!0)]),Object(n["n"])("p",Kt,Object(n["Y"])(c.film.genres.length>1?"Жанры: ":"Жанр: ")+" "+Object(n["Y"])(c.film.genres.map((function(e){return e.genre})).join(", ")),1),c.film.filmLength?(Object(n["L"])(),Object(n["m"])("p",Xt,"Длительность: "+Object(n["Y"])(a.setDuration(c.film.filmLength)),1)):Object(n["l"])("",!0),Object(n["n"])("p",Qt,Object(n["Y"])(c.film.description),1)])])}c("25f0"),c("99af");var ec={class:"popover-description"};function tc(e,t,c,i,s,a){var r=Object(n["V"])("a-popover");return c.popover?(Object(n["L"])(),Object(n["k"])(r,{key:0},{content:Object(n["hb"])((function(){return[Object(n["n"])("div",ec,[Object(n["U"])(e.$slots,"default",{},void 0,!0)])]})),default:Object(n["hb"])((function(){return[Object(n["n"])("div",{class:Object(n["C"])(["tag","".concat(c.isAnimated?"animated":"","\n         ").concat(c.type?c.type:"")])},Object(n["Y"])(c.text),3)]})),_:3})):(Object(n["L"])(),Object(n["m"])("div",{key:1,class:Object(n["C"])(["tag","".concat(c.type?c.type:"")])},Object(n["Y"])(c.text),3))}var cc={name:"MyTag",props:{text:{type:[String,Number],required:!0},type:{type:String,required:!0},isAnimated:{type:Boolean},popover:{type:Boolean}}};c("e528");const nc=N()(cc,[["render",tc],["__scopeId","data-v-3ed32008"]]);var ic=nc,sc={name:"FilmItem",components:{MyTag:ic},props:{trailerURL:{type:String},film:{type:Object}},computed:Object(s["a"])({},Object(g["e"])({ageLimits:function(e){return e.selectedFilm.ageLimits}})),methods:{setDuration:function(e){var t=e.toString().slice(-1);return"".concat(e,"1"===t?" минута":t>1&&t<5?" минуты":" минут")}}};c("f42e");const ac=N()(sc,[["render",Zt],["__scopeId","data-v-52684919"]]);var rc=ac,lc={class:"session-schedule__item"},oc={class:"place"},uc={class:"place__name header"},bc={class:"place__address"},dc={class:"sessions"},pc={class:"header"},mc={class:"sessions__container"};function fc(e,t,c,i,s,a){var r=Object(n["V"])("session-item"),l=Object(n["V"])("checkout-modal");return Object(n["L"])(),Object(n["m"])(n["b"],null,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.cinemas,(function(e){return Object(n["L"])(),Object(n["m"])("div",{key:e.id,class:"session-schedule"},[Object(n["n"])("div",lc,[Object(n["n"])("div",oc,[Object(n["n"])("h3",uc,Object(n["Y"])(e.name),1),Object(n["n"])("div",bc,Object(n["Y"])(e.address),1)]),Object(n["n"])("div",dc,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.formats,(function(t){return Object(n["L"])(),Object(n["m"])("div",{key:t},[Object(n["n"])("h3",pc,Object(n["Y"])(t.format),1),Object(n["n"])("div",mc,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(t.sessions,(function(c){return Object(n["L"])(),Object(n["k"])(r,{key:"".concat(c.time,"-").concat(c.hall,"-").concat(t.format),session:a.setSession(e,t,c)},null,8,["session"])})),128))])])})),128))])])])})),128)),Object(n["p"])(l)],64)}var jc={class:"session-item"},Oc={class:"session-item__price"};function hc(e,t,c,i,s,a){var r=Object(n["V"])("a-button");return Object(n["L"])(),Object(n["m"])("div",jc,[Object(n["p"])(r,{class:Object(n["C"])(["btn session-item__btn",s.isDisabled?"disabled":"available"]),disabled:s.isDisabled,onClick:t[0]||(t[0]=function(e){return a.setSession(c.session)})},{default:Object(n["hb"])((function(){return[Object(n["o"])(Object(n["Y"])(c.session.time),1)]})),_:1},8,["disabled","class"]),Object(n["n"])("span",Oc,Object(n["Y"])(c.session.price)+" ₽",1)])}var vc={name:"SessionItem",props:{session:{type:Object}},data:function(){return{interval:null,isDisabled:bt()(this.session.time,"hh:mm")<bt()()}},methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setCheckoutModalVisible:"selectedFilm/setCheckoutModalVisible",setSelectedSession:"selectedFilm/setSelectedSession"})),{},{setSession:function(e){this.setCheckoutModalVisible(!0),this.setSelectedSession(e)},startTimer:function(){this.interval=setInterval(this.isSessionStarter,1e3)},isSessionStarter:function(){bt()(this.session.time,"hh:mm")<bt()()?(this.isDisabled=!0,this.stopTimer()):this.isDisabled=!1},stopTimer:function(){clearInterval(this.interval)}}),beforeMount:function(){this.startTimer()},unmounted:function(){this.stopTimer()}};c("1af1");const gc=N()(vc,[["render",hc],["__scopeId","data-v-6c4e1417"]]);var yc=gc,kc=(c("202f"),{class:"modal-wrap"}),_c={key:1,class:"step-content"},wc={key:2,class:"step-content"},Mc={key:3,class:"step-content"},Fc=Object(n["o"])(" Назад "),Lc=Object(n["o"])(" Продолжить "),Cc=Object(n["o"])(" Перейти к оплате "),Tc=Object(n["o"])(" Вернуться к расписанию сеансов ");function Sc(e,t,c,i,s,a){var r=this,l=Object(n["V"])("a-step"),o=Object(n["V"])("a-steps"),u=Object(n["V"])("warning-step"),b=Object(n["V"])("seats-picking-step"),d=Object(n["V"])("checkout-step"),p=Object(n["V"])("a-button"),m=Object(n["V"])("chosen-seats-info"),f=Object(n["V"])("a-modal");return Object(n["L"])(),Object(n["k"])(f,{visible:s.isVisible,"onUpdate:visible":t[0]||(t[0]=function(e){return s.isVisible=e}),width:"980px",centered:!0,footer:null,wrapClassName:"modal",afterClose:a.handleCancel},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",kc,[r.isTimeExpired?Object(n["l"])("",!0):(Object(n["L"])(),Object(n["k"])(o,{key:0,current:s.currentModalPage,class:"modal__steps"},{default:Object(n["hb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(s.steps,(function(e){return Object(n["L"])(),Object(n["k"])(l,{key:e.title,title:e.title},null,8,["title"])})),128))]})),_:1},8,["current"])),0===s.currentModalPage?(Object(n["L"])(),Object(n["m"])("div",_c,[Object(n["p"])(u)])):Object(n["l"])("",!0),1===s.currentModalPage?(Object(n["L"])(),Object(n["m"])("div",wc,[Object(n["p"])(b)])):Object(n["l"])("",!0),2===s.currentModalPage?(Object(n["L"])(),Object(n["m"])("div",Mc,[Object(n["p"])(d)])):Object(n["l"])("",!0)]),Object(n["n"])("div",{class:Object(n["C"])(["steps-action",r.isTimeExpired?"centered":""])},[s.currentModalPage>1&&!e.isTimeExpired?(Object(n["L"])(),Object(n["k"])(p,{key:0,style:{"margin-left":"8px"},onClick:a.prev},{default:Object(n["hb"])((function(){return[Fc]})),_:1},8,["onClick"])):Object(n["l"])("",!0),0===s.currentModalPage?(Object(n["L"])(),Object(n["k"])(p,{key:1,type:"primary",onClick:a.next},{default:Object(n["hb"])((function(){return[Lc]})),_:1},8,["onClick"])):Object(n["l"])("",!0),1===s.currentModalPage&&e.tickets.length>0?(Object(n["L"])(),Object(n["k"])(m,{key:2,type:"crop"})):Object(n["l"])("",!0),1===s.currentModalPage?(Object(n["L"])(),Object(n["k"])(p,{key:3,type:"primary",onClick:a.next,disabled:s.isDisabled},{default:Object(n["hb"])((function(){return[Cc]})),_:1},8,["onClick","disabled"])):Object(n["l"])("",!0),s.currentModalPage==s.steps.length-1&&r.isTimeExpired?(Object(n["L"])(),Object(n["k"])(p,{key:4,type:"primary",onClick:a.handleCancel},{default:Object(n["hb"])((function(){return[Tc]})),_:1},8,["onClick"])):Object(n["l"])("",!0)],2)]})),_:1},8,["visible","afterClose"])}var Vc=function(e){return Object(n["O"])("data-v-5a4cf67c"),e=e(),Object(n["M"])(),e},Pc=Vc((function(){return Object(n["n"])("h2",null,"Дорогие гости, просим принять во внимание меры предосторожности в связи с эпидемиологической ситуацией:",-1)})),Yc=Vc((function(){return Object(n["n"])("ul",null,[Object(n["n"])("li",null,"― Соблюдайте правила личной гигиены"),Object(n["n"])("li",null,"― Пользуйтесь бесконтактными способами оплаты"),Object(n["n"])("li",null,"― Соблюдайте социальную дистанцию на расстоянии не менее 1,5 метра"),Object(n["n"])("li",null,"― Воздержитесь от посещения кинотеатра при наличии симптомов, характерных для ОРВИ")],-1)})),$c=Vc((function(){return Object(n["n"])("p",null,[Object(n["n"])("strong",null,"Для посещения кинотеатра так же необходим QR-код, подтверждающий вакцинацию от коронавируса")],-1)}));function Ac(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])(n["b"],null,[Pc,Yc,$c],64)}var xc={name:"WarningStep"};c("54c6");const Ic=N()(xc,[["render",Ac],["__scopeId","data-v-5a4cf67c"]]);var Rc=Ic,Dc=function(e){return Object(n["O"])("data-v-f3c2edba"),e=e(),Object(n["M"])(),e},Nc={key:0,class:"seats-info-wrap"},Uc=["onClick"],Ec=Dc((function(){return Object(n["n"])("g",null,[Object(n["n"])("path",{d:"M394,75.8L249.6,220.2L105.2,75.8c-8.2-8.2-21.6-8.2-29.8,0s-8.2,21.6,0,29.8L219.8,250L75.4,394.4\r\n\t\t          c-8.2,8.2-8.2,21.6,0,29.8c8.2,8.2,21.6,8.2,29.8,0l144.4-144.4L394,424.2c8.2,8.2,21.6,8.2,29.8,0c8.2-8.2,8.2-21.6,0-29.8\r\n\t\t          L279.4,250l144.4-144.4c8.2-8.2,8.2-21.6,0-29.8C415.6,67.6,402.3,67.6,394,75.8z"})],-1)})),zc=[Ec],Bc={type:"primary"},qc={key:1,class:"seats-info-wrap-full"},Gc={class:"film-name"},Jc={class:"tags-container"},Hc={class:"cinema-address"},Wc={class:"session-time"},Kc={class:"order-info"},Xc={class:"order-info__ticket-item-wrap"},Qc={class:"ticket-item__seat-info"},Zc=Dc((function(){return Object(n["n"])("div",{class:"ticket-item__dotted-line"},null,-1)})),en={class:"ticket-item__seat-price"},tn={class:"order-info__total-price"};function cn(e,t,c,i,s,a){var r=Object(n["V"])("a-popover"),l=Object(n["V"])("my-tag");return"crop"===c.type?(Object(n["L"])(),Object(n["m"])("div",Nc,[Object(n["p"])(r,{modelValue:s.visible,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.visible=e}),trigger:"click"},{content:Object(n["hb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.tickets,(function(t){return Object(n["L"])(),Object(n["m"])("div",{key:"".concat(t.row,"-").concat(t.seat),class:"seats-info"},[Object(n["n"])("span",null,"Ряд "+Object(n["Y"])(t.row)+", Место "+Object(n["Y"])(t.seat)+" ― "+Object(n["Y"])(e.session.price)+"₽",1),(Object(n["L"])(),Object(n["m"])("svg",{class:"delete-button",onClick:function(c){return e.removeTicket(t.id)},xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 500 500","xml:space":"preserve"},zc,8,Uc))])})),128))]})),default:Object(n["hb"])((function(){return[Object(n["n"])("a",Bc,Object(n["Y"])(e.getCountInfoAboutTickets),1)]})),_:1},8,["modelValue"]),Object(n["n"])("span",null,"за "+Object(n["Y"])(e.session.price*e.tickets.length)+"₽",1)])):"full"===c.type?(Object(n["L"])(),Object(n["m"])("div",qc,[Object(n["n"])("h1",Gc,Object(n["Y"])(e.film.nameRu),1),Object(n["n"])("div",Jc,[Object(n["p"])(l,{text:e.ageLimits,type:"dotted"},null,8,["text"]),Object(n["p"])(l,{text:e.session.format,type:"green","is-animated":"3D"===e.session.format,popover:"3D"===e.session.format},{default:Object(n["hb"])((function(){return[Object(n["o"])(Object(n["Y"])("3D"===e.session.format?"3D-очки выдаются перед входом в зал 🕶":null),1)]})),_:1},8,["text","is-animated","popover"])]),Object(n["n"])("div",Hc,[Object(n["n"])("p",null,Object(n["Y"])(e.session.cinema.name)+", Зал "+Object(n["Y"])(e.session.hall),1),Object(n["n"])("p",null,Object(n["Y"])(e.session.cinema.address),1)]),Object(n["n"])("p",Wc,"Сегодня в "+Object(n["Y"])(e.session.time),1),Object(n["n"])("div",Kc,[Object(n["n"])("h3",null,Object(n["Y"])(e.getCountInfoAboutTickets),1),Object(n["n"])("div",Xc,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.tickets,(function(t){return Object(n["L"])(),Object(n["m"])("div",{class:"order-info__ticket-item",key:t.id},[Object(n["n"])("div",Qc,"Ряд "+Object(n["Y"])(t.row)+", Место "+Object(n["Y"])(t.seat),1),Zc,Object(n["n"])("div",en,Object(n["Y"])(e.session.price)+"₽",1)])})),128))]),Object(n["n"])("div",tn,"Итого: "+Object(n["Y"])(e.tickets.length*e.session.price)+"₽",1)])])):Object(n["l"])("",!0)}var nn={name:"ChosenSeatsInfo",components:{MyTag:ic},props:{type:{type:String,required:!0}},data:function(){return{visible:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({tickets:function(e){return e.selectedFilm.selectedTickets},session:function(e){return e.selectedFilm.selectedSession},film:function(e){return e.selectedFilm.film},ageLimits:function(e){return e.selectedFilm.ageLimits}})),Object(g["c"])({getCountInfoAboutTickets:"selectedFilm/getCountInfoAboutTickets"})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({removeTicket:"selectedFilm/removeTicket"})),{},{hide:function(){this.visible=!1}})};c("9869");const sn=N()(nn,[["render",cn],["__scopeId","data-v-f3c2edba"]]);var an=sn,rn=function(e){return Object(n["O"])("data-v-541ac9ad"),e=e(),Object(n["M"])(),e},ln={class:"film-header"},on={class:"film-header__tags-container"},un=Object(n["o"])(" 3D-очки выдаются перед входом в зал 🕶 "),bn={class:"film-header__cinema"},dn=rn((function(){return Object(n["n"])("ul",{class:"showcase"},[Object(n["n"])("li",null,[Object(n["n"])("div",{class:"seat"}),Object(n["n"])("small",null,"Свободно")]),Object(n["n"])("li",null,[Object(n["n"])("div",{class:"seat selected"}),Object(n["n"])("small",null,"Выбрано")]),Object(n["n"])("li",null,[Object(n["n"])("div",{class:"seat occupied"}),Object(n["n"])("small",null,"Занято")])],-1)})),pn={class:"overflow-wrapper"};function mn(e,t,c,i,s,a){var r=Object(n["V"])("my-tag"),l=Object(n["V"])("seats-picker");return Object(n["L"])(),Object(n["m"])(n["b"],null,[Object(n["n"])("div",ln,[Object(n["n"])("h1",null,Object(n["Y"])(e.film.nameRu),1),Object(n["n"])("div",on,[Object(n["p"])(r,{text:e.ageLimits,type:"dotted"},null,8,["text"]),Object(n["p"])(r,{text:e.session.format,type:"green","is-animated":"3D"===e.session.format,popover:"3D"===e.session.format},{default:Object(n["hb"])((function(){return[un]})),_:1},8,["text","is-animated","popover"])]),Object(n["n"])("p",bn,Object(n["Y"])(e.session.cinema.name)+", Зал "+Object(n["Y"])(e.session.hall),1)]),dn,Object(n["n"])("div",pn,[Object(n["p"])(l)])],64)}var fn=function(e){return Object(n["O"])("data-v-56231793"),e=e(),Object(n["M"])(),e},jn={class:"container"},On=fn((function(){return Object(n["n"])("div",{class:"screen"},"Экран",-1)})),hn={class:"seats"},vn={class:"row-number"},gn={class:"row-number"};function yn(e,t,c,i,s,a){var r=this,l=Object(n["V"])("seat");return Object(n["L"])(),Object(n["m"])("div",jn,[On,Object(n["n"])("div",hn,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(a.setTypeHall,(function(e){return Object(n["L"])(),Object(n["m"])("div",{key:e,class:Object(n["C"])(["row",r.session.hallType])},[Object(n["n"])("div",vn,Object(n["Y"])(e.row),1),(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.seats,(function(t){return Object(n["L"])(),Object(n["k"])(l,{key:"".concat(e.row,"-").concat(t.seat),row:e.row,seatInRow:t.seat,isOccupied:t.isOccupied,peopleCapacity:t.peopleCapacity},null,8,["row","seatInRow","isOccupied","peopleCapacity"])})),128)),Object(n["n"])("div",gn,Object(n["Y"])(e.row),1)],2)})),128))])])}function kn(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div",{onClick:t[0]||(t[0]=function(e){return a.handleChange()}),class:Object(n["C"])(["seat","".concat(c.peopleCapacity,"\n       ").concat(a.contains(e.tickets,s.id)?"selected":"","\n       ").concat(e.isLimit?"locked":"","\n       ").concat(c.isOccupied?"occupied":"")])},Object(n["Y"])(a.contains(e.tickets,s.id)?c.seatInRow:null),3)}var _n={name:"Seat",props:{row:{type:Number,required:!0},seatInRow:{type:Number,required:!0},isOccupied:{type:Boolean,required:!0},peopleCapacity:{type:String,required:!0}},data:function(){return{id:"".concat(this.row,"-").concat(this.seatInRow)}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({tickets:function(e){return e.selectedFilm.selectedTickets}})),Object(g["c"])({isLimit:"selectedFilm/isLimitOfTickets"})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setTicket:"selectedFilm/setTicket",removeTicket:"selectedFilm/removeTicket"})),{},{contains:function(e,t){return e.find((function(e){return e.id===t}))},handleChange:function(){var e=!!this.tickets.length&&this.contains(this.tickets,this.id);this.isLimit?e&&this.removeTicket(this.id):e?this.removeTicket(this.id):this.setTicket({row:this.row,seat:this.seatInRow,id:this.id})}})};c("68b4");const wn=N()(_n,[["render",kn],["__scopeId","data-v-1ee52eb7"]]);var Mn=wn,Fn={name:"SeatsPicker",components:{Seat:Mn},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({session:function(e){return e.selectedFilm.selectedSession},halls:function(e){return e.cinemaSession.halls}})),{},{setTypeHall:function(){var e=this.session.hallType;return this.halls.find((function(t){return t.hallType===e})).layout}})};c("5112");const Ln=N()(Fn,[["render",yn],["__scopeId","data-v-56231793"]]);var Cn=Ln,Tn={name:"SeatsPickingStep",components:{SeatsPicker:Cn,MyTag:ic},computed:Object(s["a"])({},Object(g["e"])({film:function(e){return e.selectedFilm.film},ageLimits:function(e){return e.selectedFilm.ageLimits},session:function(e){return e.selectedFilm.selectedSession}}))};c("5487");const Sn=N()(Tn,[["render",mn],["__scopeId","data-v-541ac9ad"]]);var Vn=Sn,Pn=function(e){return Object(n["O"])("data-v-3e1a0f81"),e=e(),Object(n["M"])(),e},Yn={class:"popover-description"},$n={key:0,class:"checkout-step-content"},An={class:"step-header-wrap"},xn={class:"step-header"},In=Pn((function(){return Object(n["n"])("h2",{class:"step-header-description"},"Проверьте Ваш заказ и выберите удобный способ оплаты.",-1)})),Rn={class:"pay-wrap"},Dn={class:"pay-left-col"},Nn={class:"pay-right-col"},Un={key:1,class:"header-expired-wrap"},En=Pn((function(){return Object(n["n"])("h1",{class:"step-header"},"Извините, время на оплату вышло.",-1)})),zn=Pn((function(){return Object(n["n"])("h3",{class:"step-description"},"Приносим извинения за доставленные неудобства 😢",-1)})),Bn=[En,zn];function qn(e,t,c,i,s,a){var r=Object(n["V"])("my-timer"),l=Object(n["V"])("a-popover"),o=Object(n["V"])("chosen-seats-info"),u=Object(n["V"])("payment-form");return Object(n["L"])(),Object(n["m"])(n["b"],null,[Object(n["p"])(l,null,{content:Object(n["hb"])((function(){return[Object(n["n"])("div",Yn,[Object(n["n"])("p",null,"На время оплаты "+Object(n["Y"])(e.tickets.length>1?"Ваши билеты забронированы, чтобы их могли":"Ваш билет забронирован, чтобы его могли")+" купить только Вы.",1),Object(n["n"])("p",null,"Но если Вы не произведете оплату по окончанию таймера, бронь с "+Object(n["Y"])(e.tickets.length>1?"билетов":"билета")+" будет снята 😥",1)])]})),default:Object(n["hb"])((function(){return[e.isTimeExpired?Object(n["l"])("",!0):(Object(n["L"])(),Object(n["k"])(r,{key:0,duration:900,callback:a.setExpiredCallback,class:"checkout-timer"},null,8,["callback"]))]})),_:1}),!1===e.isTimeExpired?(Object(n["L"])(),Object(n["m"])("div",$n,[Object(n["n"])("div",An,[Object(n["n"])("h1",xn,Object(n["Y"])(e.tickets.length>1?"Ваши билеты почти готовы!":"Ваш билет почти готов!")+" Осталось дело за малым...",1),In]),Object(n["n"])("div",Rn,[Object(n["n"])("div",null,[Object(n["n"])("div",Dn,[Object(n["p"])(o,{type:"full"})])]),Object(n["n"])("div",Nn,[Object(n["p"])(u)])])])):(Object(n["L"])(),Object(n["m"])("div",Un,Bn))],64)}function Gn(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div",{class:Object(n["C"])(["timer",s.seconds<=45?"timer-running-out":""])},Object(n["Y"])(a.getMinutes)+":"+Object(n["Y"])(a.getSeconds),3)}var Jn={name:"MyTimer",props:{duration:{type:Number},callback:{type:Function}},data:function(){return{seconds:this.duration,interval:null}},methods:{startTimer:function(){this.interval=setInterval(this.decrementSeconds,1e3)},stopTimer:function(){clearInterval(this.interval)},decrementSeconds:function(){this.seconds>0?this.seconds--:(this.stopTimer(),this.callback())}},computed:{getMinutes:function(){var e=Math.floor(this.seconds/60);return e<10?"0".concat(e):e},getSeconds:function(){var e=this.seconds%60;return e<10?"0".concat(e):e}},mounted:function(){this.startTimer()},unmounted:function(){this.stopTimer()}};c("4eef");const Hn=N()(Jn,[["render",Gn],["__scopeId","data-v-6cfff602"]]);var Wn=Hn,Kn=function(e){return Object(n["O"])("data-v-465cf14d"),e=e(),Object(n["M"])(),e},Xn={form:"payment-form",class:"payment-form__fieldset-wrap"},Qn=Kn((function(){return Object(n["n"])("legend",null,"1. Данные для получения заказа",-1)})),Zn={key:0,class:"error-message"},ei={key:0,class:"error-message"},ti={form:"payment-form",class:"payment-form__fieldset-wrap"},ci=Kn((function(){return Object(n["n"])("legend",null,"2. Способ оплаты",-1)})),ni=Object(n["o"])(" Банковская карта "),ii=Object(n["o"])(" Google Pay "),si=Object(n["o"])(" В кассе кинотеатра перед сеансом "),ai={key:0,class:"error-message"};function ri(e,t,c,i,s,a){var r=Object(n["V"])("a-input"),l=Object(n["V"])("a-radio-button"),o=Object(n["V"])("a-radio-group"),u=Object(n["V"])("a-button"),b=Object(n["V"])("a-spin");return Object(n["L"])(),Object(n["m"])("form",{class:"payment-form",id:"payment-form",onSubmit:t[3]||(t[3]=Object(n["jb"])((function(){}),["prevent"])),novalidate:""},[Object(n["n"])("div",null,[Object(n["n"])("fieldset",Xn,[Qn,Object(n["n"])("label",null,[Object(n["p"])(r,{class:"input payment-form__input",value:s.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return s.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"Введите вашу почту"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(n["L"])(),Object(n["m"])("p",Zn,Object(n["Y"])(a.userMailErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("label",null,[Object(n["p"])(r,{class:"input payment-form__input",value:s.form.userPhoneNumber,"onUpdate:value":t[1]||(t[1]=function(e){return s.form.userPhoneNumber=e}),onBlur:i.v$.form.userPhoneNumber.$touch,type:"tel",placeholder:"Введите ваш номер телефона"},null,8,["value","onBlur"]),i.v$.form.userPhoneNumber.$error?(Object(n["L"])(),Object(n["m"])("p",ei,Object(n["Y"])(a.userPhoneNumberErrors),1)):Object(n["l"])("",!0)])]),Object(n["n"])("fieldset",ti,[ci,Object(n["n"])("label",null,[Object(n["p"])(o,{class:"payment-form__checkout-type",value:s.form.paymentMethod,"onUpdate:value":t[2]||(t[2]=function(e){return s.form.paymentMethod=e})},{default:Object(n["hb"])((function(){return[Object(n["p"])(l,{value:"Банковская карта"},{default:Object(n["hb"])((function(){return[ni]})),_:1}),Object(n["p"])(l,{value:"Google Pay"},{default:Object(n["hb"])((function(){return[ii]})),_:1}),Object(n["p"])(l,{value:"В кассе кинотеатра"},{default:Object(n["hb"])((function(){return[si]})),_:1})]})),_:1},8,["value"]),i.v$.form.paymentMethod.$error?(Object(n["L"])(),Object(n["m"])("p",ai,Object(n["Y"])(a.paymentMethodErrors),1)):Object(n["l"])("",!0)])])]),Object(n["p"])(b,{spinning:s.isFetching},{default:Object(n["hb"])((function(){return[Object(n["p"])(u,{type:"primary",class:"btn-submit",onClick:a.handleSuccess},{default:Object(n["hb"])((function(){return[Object(n["o"])("Оплатить "+Object(n["Y"])(e.tickets.length*e.session.price)+"₽ ",1)]})),_:1},8,["onClick"])]})),_:1},8,["spinning"])],32)}var li={name:"PaymentForm",setup:function(){return{v$:Object(P["a"])()}},data:function(){return{isFetching:!1,form:{userMail:"",userPhoneNumber:"",paymentMethod:""}}},validations:function(){return{form:{userMail:{required:Y["c"],email:Y["a"]},userPhoneNumber:{required:Y["c"],hasValidPhoneNumber:$},paymentMethod:{required:Y["c"]}}}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({tickets:function(e){return e.selectedFilm.selectedTickets},session:function(e){return e.selectedFilm.selectedSession}})),{},{userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":null},userPhoneNumberErrors:function(){return this.v$.form.userPhoneNumber.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPhoneNumber.hasValidPhoneNumber?"* Неправильный формат номера.":null},paymentMethodErrors:function(){return this.v$.form.paymentMethod.required.$invalid?"* Выберете способ оплаты.":null}}),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setCheckoutModalVisible:"selectedFilm/setCheckoutModalVisible",clearTickets:"selectedFilm/clearTickets"})),{},{setFetching:function(e){this.isFetching=e},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),this.v$.$invalid?this.setFetching(!1):setTimeout((function(){e.setCheckoutModalVisible(!1),console.log(e.form),e.setFetching(!1)}),500)}})};c("95b0");const oi=N()(li,[["render",ri],["__scopeId","data-v-465cf14d"]]);var ui=oi,bi={name:"CheckoutStep",components:{MyTimer:Wn,ChosenSeatsInfo:an,PaymentForm:ui},data:function(){return{}},methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setIsTimeExpired:"setIsTimeExpired",clearTickets:"selectedFilm/clearTickets"})),{},{setExpiredCallback:function(){this.setIsTimeExpired(!0),this.clearTickets()}}),computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({isTimeExpired:function(e){return e.isTimeExpired},tickets:function(e){return e.selectedFilm.selectedTickets}})),Object(g["c"])({getCountInfoAboutTickets:"selectedFilm/getCountInfoAboutTickets"})),unmounted:function(){this.setIsTimeExpired(!1)}};c("41b3");const di=N()(bi,[["render",qn],["__scopeId","data-v-3e1a0f81"]]);var pi=di,mi={name:"CheckoutModal",components:{WarningStep:Rc,SeatsPickingStep:Vn,CheckoutStep:pi,ChosenSeatsInfo:an},data:function(){return{currentModalPage:0,isVisible:!1,isDisabled:!0,steps:[{title:"Прочитайте условия"},{title:"Выберите места"},{title:"Оплатите билеты"}]}},computed:Object(s["a"])({},Object(g["e"])({checkoutModalVisible:function(e){return e.selectedFilm.checkoutModalVisible},tickets:function(e){return e.selectedFilm.selectedTickets},session:function(e){return e.selectedFilm.selectedSession},isTimeExpired:function(e){return e.isTimeExpired}})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setCheckoutModalVisible:"selectedFilm/setCheckoutModalVisible",clearTickets:"selectedFilm/clearTickets"})),{},{handleCancel:function(){this.setCheckoutModalVisible(!1)},handleSuccess:function(){this.setCheckoutModalVisible(!1)},next:function(){this.currentModalPage++},prev:function(){this.currentModalPage--}}),watch:{checkoutModalVisible:function(e){!1===e&&(this.currentModalPage=0,this.clearTickets()),this.isVisible=e},tickets:function(e){this.isDisabled=!e.length}},beforeMount:function(){!0===this.isVisible&&(this.isVisible=!1,this.setCheckoutModalVisible(!1))}};c("cfad");const fi=N()(mi,[["render",Sc]]);var ji=fi,Oi={name:"SessionSchedule",components:{CheckoutModal:ji,SessionItem:yc},computed:Object(s["a"])({},Object(g["e"])({cinemas:function(e){return e.cinemaSession.cinema}})),methods:{setSession:function(e,t,c){return{time:c.time,price:c.price,hall:c.hall,hallType:c.hallType,format:t.format,cinema:{name:e.name,address:e.address}}}}};c("8da1");const hi=N()(Oi,[["render",fc],["__scopeId","data-v-7e255812"]]);var vi=hi;function gi(e,t,c,i,s,a){var r=Object(n["V"])("a-date-picker");return Object(n["L"])(),Object(n["k"])(r,{locale:s.locale,inputReadOnly:!0,size:"large",format:"DD-MM-YYYY","disabled-date":a.disabledDate},null,8,["locale","disabled-date"])}var yi=c("c4ee"),ki={name:"DatePicker",data:function(){return{locale:yi["a"]}},methods:{disabledDate:function(e){return e<bt()().subtract(1,"d")||e>bt()().add(7,"d")}}};const _i=N()(ki,[["render",gi]]);var wi=_i,Mi={name:"FilmPage",components:{FilmItem:rc,SessionSchedule:vi,DatePicker:wi},props:{id:String},computed:Object(s["a"])({},Object(g["e"])({selectedFilm:function(e){return e.selectedFilm.film},trailerURL:function(e){return e.selectedFilm.trailerUrl},ratingAgeLimits:function(e){return e.selectedFilm.ageLimits}})),data:function(){return{isFetching:!1}},methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setFilmData:"selectedFilm/setSelectedFilm",setTrailersUrl:"selectedFilm/setTrailerUrlOfSelectedFilm",setAgeLimits:"selectedFilm/setAgeLimitsOfSelectedFilm"})),{},{setFetching:function(e){this.isFetching=e},getCorrectYoutubeTrailerUrl:function(e){var t=/(Трейлер)/i,c=null===e||void 0===e?void 0:e.items.filter((function(e){return"YOUTUBE"===e.site&&t.test(e.name)}));if(c.length){var n,i=/(?:https?:\/\/)?(?:www\.)?youtu\.?be(?:\.com)?\/?.*(?:watch|embed)?(?:.*v=|v\/|\/)([\w\-_]+)?/,s=null===(n=c[0])||void 0===n?void 0:n.url;return"https://www.youtube.com/embed/".concat(s.match(i)[1])}},getAgeRatingLimits:function(e){return null===e.ratingAgeLimits?"0+":"".concat(e.ratingAgeLimits.match(/\d{1,2}/g),"+")},fetchFilmsData:function(e){var t=this;return Object(Nt["a"])(regeneratorRuntime.mark((function c(){var n,i,s,a,r;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=function(e){return fetch(e,{method:"GET",headers:{"X-API-KEY":"bbd5c8d2-662f-428b-9b73-5fb961a663ad","Content-Type":"application/json"}})},c.prev=1,t.setFetching(!0),c.next=5,n("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(e));case 5:return i=c.sent,c.next=8,i.json();case 8:return s=c.sent,c.next=11,n("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(e,"/videos"));case 11:return a=c.sent,c.next=14,a.json();case 14:return r=c.sent,c.next=17,t.setFilmData(s);case 17:return c.next=19,t.setAgeLimits(t.getAgeRatingLimits(s));case 19:return c.next=21,t.setTrailersUrl(t.getCorrectYoutubeTrailerUrl(r));case 21:c.next=26;break;case 23:c.prev=23,c.t0=c["catch"](1),console.error(c.t0);case 26:return c.prev=26,t.setFetching(!1),c.finish(26);case 29:case"end":return c.stop()}}),c,null,[[1,23,26,29]])})))()}}),mounted:function(){this.fetchFilmsData(this.id)}};c("13ff");const Fi=N()(Mi,[["render",Dt],["__scopeId","data-v-40a15d49"]]);var Li=Fi;function Ci(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div")}var Ti={name:"ProfilePage",computed:Object(s["a"])({},Object(g["e"])({authAccount:function(e){return e.auth.authAccount}})),watch:{authAccount:function(e){null===e&&this.$router.push("/")}}};const Si=N()(Ti,[["render",Ci]]);var Vi=Si;function Pi(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div")}var Yi={name:"TicketsHistoryPage",computed:Object(s["a"])({},Object(g["e"])({authAccount:function(e){return e.auth.authAccount}})),watch:{authAccount:function(e){null===e&&this.$router.push("/")}}};const $i=N()(Yi,[["render",Pi]]);var Ai=$i,xi=[{path:"/",name:"Home",component:Mt},{path:"/films",name:"Films",component:$t},{path:"/films/:id",name:"Film",component:Li,props:!0},{path:"/online-cinema",name:"Online Cinema",component:$t},{path:"/cinema-rent",name:"Cinema Rent",component:$t},{path:"/profile",name:"Profile",component:Vi},{path:"/profile/history",name:"History",component:Ai}],Ii=Object(me["a"])({history:Object(me["b"])("/FilmStrip/"),routes:xi}),Ri=Ii,Di={state:function(){return{authModalVisible:!1,authAccount:localStorage.authUser?JSON.parse(localStorage.authUser):null}},mutations:{setAuthModalVisible:function(e,t){e.authModalVisible=t},setAuthAccount:function(e,t){e.authAccount=t,localStorage.setItem("authUser",JSON.stringify(t))},clearAuthAccount:function(e){e.authAccount=null}}},Ni=c("2909"),Ui=c("b85c"),Ei=bt()().subtract(1,"months"),zi=bt()(),Bi=bt()().add(1,"months"),qi=[Ei,zi,Bi],Gi={state:function(){return{films:[],releasedFilms:[],unreleasedFilms:[],isFetchingFilms:!1}},getters:{currentPremiers:function(e){return e.films.filter((function(e){return bt()(e.premiereRu,"YYYY-MM-DD").format("MM")===zi.format("MM")}))},filmsAfterSorts:function(e,t,c){var n=function(e){return c.selectedGenresSort?e.filter((function(e){var t,n=Object(Ui["a"])(e.genres);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.genre===c.selectedGenresSort)return!0}}catch(s){n.e(s)}finally{n.f()}})):e};return"released"===c.selectedReleaseSort?n(e.releasedFilms):n(e.unreleasedFilms)}},mutations:{setFilms:function(e,t){e.films=[].concat(Object(Ni["a"])(e.films),Object(Ni["a"])(t))},setReleasedFilms:function(e,t){var c=t.filter((function(e){return bt()(e.premiereRu,"YYYY-MM-DD")<=zi})).reverse();e.releasedFilms=[].concat(Object(Ni["a"])(c),Object(Ni["a"])(e.releasedFilms))},setUnreleasedFilms:function(e,t){var c=t.filter((function(e){return bt()(e.premiereRu,"YYYY-MM-DD")>zi&&bt()(e.premiereRu,"YYYY-MM-DD")<Bi}));e.unreleasedFilms=[].concat(Object(Ni["a"])(e.unreleasedFilms),Object(Ni["a"])(c))},setFetchingFilms:function(e,t){e.isFetchingFilms=t}},actions:{fetchFilms:function(e){return Object(Nt["a"])(regeneratorRuntime.mark((function t(){var c,n,i,s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:c=e.commit,c("setFetchingFilms",!0),n=Object(Ui["a"])(qi),t.prev=3,n.s();case 5:if((i=n.n()).done){t.next=30;break}return s=i.value,t.prev=7,t.next=10,fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/premieres?year=".concat(s.format("YYYY"),"&month=").concat(s.format("MMMM").toUpperCase()),{method:"GET",headers:{"X-API-KEY":"bbd5c8d2-662f-428b-9b73-5fb961a663ad","Content-Type":"application/json"}});case 10:return a=t.sent,t.next=13,a.json();case 13:return r=t.sent,t.next=16,c("setFilms",r.items);case 16:return t.next=18,c("setReleasedFilms",r.items);case 18:return t.next=20,c("setUnreleasedFilms",r.items);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](7),console.error(t.t0);case 25:return t.prev=25,c("setFetchingFilms",!1),t.finish(25);case 28:t.next=5;break;case 30:t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](3),n.e(t.t1);case 35:return t.prev=35,n.f(),t.finish(35);case 38:case"end":return t.stop()}}),t,null,[[3,32,35,38],[7,22,25,28]])})))()}},namespaced:!0},Ji={state:function(){return{cinema:[{name:"Кронверк Вью МЕГА JS",address:"площадь Приведения Типов 13, корпус 3, «МЕГА JS», NaN-й этаж",id:666,formats:[{format:"2D",sessions:[{time:"11:20",price:"200",hall:"01",hallType:"standart"},{time:"13:15",price:"250",hall:"01",hallType:"standart"},{time:"16:10",price:"250",hall:"01",hallType:"standart"},{time:"18:05",price:"300",hall:"01",hallType:"standart"},{time:"21:20",price:"300",hall:"01",hallType:"standart"},{time:"23:55",price:"200",hall:"01",hallType:"standart"}]},{format:"3D",sessions:[{time:"10:30",price:"200",hall:"02",hallType:"standart"},{time:"12:35",price:"250",hall:"02",hallType:"standart"},{time:"15:20",price:"250",hall:"02",hallType:"standart"},{time:"18:20",price:"300",hall:"02",hallType:"standart"},{time:"20:45",price:"300",hall:"02",hallType:"standart"},{time:"23:25",price:"200",hall:"02",hallType:"standart"}]}]},{name:"Async Синема",address:"Булиевое шоссе 14, «ТЦ AWAIT», 4-й этаж",id:999,formats:[{format:"2D",sessions:[{time:"11:20",price:"200",hall:"01",hallType:"standart"},{time:"14:10",price:"250",hall:"01",hallType:"standart"},{time:"15:30",price:"250",hall:"01",hallType:"standart"},{time:"16:25",price:"250",hall:"01",hallType:"standart"},{time:"17:40",price:"250",hall:"01",hallType:"standart"},{time:"18:35",price:"300",hall:"01",hallType:"standart"},{time:"22:10",price:"250",hall:"01",hallType:"standart"},{time:"23:05",price:"200",hall:"01",hallType:"standart"}]},{format:"VIP",sessions:[{time:"10:20",price:"700",hall:"02",hallType:"vip"},{time:"14:55",price:"750",hall:"02",hallType:"vip"},{time:"17:20",price:"750",hall:"02",hallType:"vip"},{time:"17:55",price:"810",hall:"02",hallType:"vip"},{time:"20:35",price:"810",hall:"02",hallType:"vip"},{time:"23:25",price:"700",hall:"02",hallType:"vip"}]}]}],halls:[{hallType:"standart",layout:[{row:1,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!0,peopleCapacity:"single"},{seat:4,isOccupied:!0,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!1,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:2,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!1,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:3,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!0,peopleCapacity:"single"},{seat:5,isOccupied:!0,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:4,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!0,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:5,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!0,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!0,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]}]},{hallType:"vip",layout:[{row:1,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:2,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:3,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:4,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:5,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]}]}]}}},Hi=(c("4e82"),{state:function(){return{film:null,selectedSession:null,selectedTickets:[],trailerUrl:null,ageLimits:null,checkoutModalVisible:!1}},getters:{getCountInfoAboutTickets:function(e){var t=e.selectedTickets.length;return 1===t?"1 билет":"".concat(t,t<5?" билета":" билетов")},isLimitOfTickets:function(e){return e.selectedTickets.length>=5}},mutations:{setSelectedFilm:function(e,t){e.film=t},setTrailerUrlOfSelectedFilm:function(e,t){e.trailerUrl=t},setAgeLimitsOfSelectedFilm:function(e,t){e.ageLimits=t},setCheckoutModalVisible:function(e,t){e.checkoutModalVisible=t},setSelectedSession:function(e,t){e.selectedSession=t},setTicket:function(e,t){e.selectedTickets=[].concat(Object(Ni["a"])(e.selectedTickets),[t]).sort((function(e,t){return e.seat-t.seat}))},removeTicket:function(e,t){e.selectedTickets=e.selectedTickets.filter((function(e){return e.id!==t}))},clearTickets:function(e){e.selectedTickets=[]}},namespaced:!0}),Wi=Object(g["a"])({modules:{auth:Di,films:Gi,cinemaSession:Ji,selectedFilm:Hi},state:{selectedReleaseSort:"released",selectedGenresSort:"",isTimeExpired:!1},mutations:{setReleaseSort:function(e,t){e.selectedReleaseSort=t},setGenresSort:function(e,t){e.selectedGenresSort=t},setIsTimeExpired:function(e,t){e.isTimeExpired=t}}}),Ki=c("5333"),Xi=c("f23d");c("3aed");Object(n["j"])(pe).use(Ki["a"]).use(Xi["a"]).use(Wi).use(Ri).mount("#app")},"63f2":function(e,t,c){},"67b6":function(e,t,c){},"68b4":function(e,t,c){"use strict";c("7a00")},"6eb6":function(e,t,c){"use strict";c("f311")},"6f10":function(e,t,c){"use strict";c("9bf5")},"70d5":function(e,t,c){},"75eb":function(e,t,c){"use strict";c("1e35")},"769a":function(e,t,c){},"7a00":function(e,t,c){},"7b5d":function(e,t,c){},"8da1":function(e,t,c){"use strict";c("d1c2")},"904f":function(e,t,c){},"95b0":function(e,t,c){"use strict";c("272a")},9727:function(e,t,c){},9869:function(e,t,c){"use strict";c("70d5")},"9b19":function(e,t,c){e.exports=c.p+"img/logo.67d4fef4.svg"},"9bf5":function(e,t,c){},b4cf:function(e,t,c){"use strict";c("7b5d")},b9a0:function(e,t,c){},ba25:function(e,t,c){},ba2d:function(e,t,c){e.exports=c.p+"img/ticket.da8b2b75.svg"},bb50:function(e,t,c){"use strict";c("0f77")},bc4f:function(e,t,c){},c164:function(e,t,c){},cef2:function(e,t,c){"use strict";c("9727")},cfad:function(e,t,c){"use strict";c("26a2")},d1c2:function(e,t,c){},d980:function(e,t,c){"use strict";c("fab7")},e016:function(e,t,c){},e528:function(e,t,c){"use strict";c("63f2")},f0e8:function(e,t,c){"use strict";c("52b7")},f311:function(e,t,c){},f42e:function(e,t,c){"use strict";c("0334")},fab7:function(e,t,c){}});
//# sourceMappingURL=app.08877f92.js.map