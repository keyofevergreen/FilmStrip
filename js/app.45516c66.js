(function(e){function t(t){for(var c,a,r=t[0],l=t[1],o=t[2],b=0,d=[];b<r.length;b++)a=r[b],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,o||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],c=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(c=!1)}c&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var c={},i={app:0},s=[];function a(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=c,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/FilmStrip/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var o=0;o<r.length;o++)t(r[o]);var u=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"010b":function(e,t,n){"use strict";n("bc6e")},"057e":function(e,t,n){"use strict";n("8656")},"0c39":function(e,t,n){"use strict";n("789e")},"10f3":function(e,t,n){"use strict";n("e016")},1197:function(e,t,n){"use strict";n("185e")},1268:function(e,t,n){},"13e0":function(e,t,n){"use strict";n("86dd")},"185e":function(e,t,n){},"1af5":function(e,t,n){},"24e6":function(e,t,n){"use strict";n("ff27")},"2cbb":function(e,t,n){"use strict";n("67b6")},"35c5":function(e,t,n){},"36bb":function(e,t,n){"use strict";n("1268")},"3b20":function(e,t,n){"use strict";n("35c5")},"44ba":function(e,t,n){},4678:function(e,t,n){var c={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(c,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return c[e]}i.keys=function(){return Object.keys(c)},i.resolve=s,e.exports=i,i.id="4678"},4708:function(e,t,n){},"4c4a":function(e,t,n){},"4dab":function(e,t,n){},"4de9":function(e,t,n){},"4eef":function(e,t,n){"use strict";n("bc4f")},"4f81":function(e,t,n){},"4ffe":function(e,t,n){"use strict";n("4de9")},5133:function(e,t,n){"use strict";n("4708")},"54c6":function(e,t,n){"use strict";n("ba25")},"567e":function(e,t,n){"use strict";n("44ba")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function i(e,t,n,i,s,a){var r=Object(c["V"])("my-header"),l=Object(c["V"])("router-view");return Object(c["L"])(),Object(c["m"])(c["b"],null,[Object(c["p"])(r),Object(c["p"])(l,{class:"wrap content"})],64)}var s=n("5530"),a=(n("e9c4"),{class:"cinema-header"}),r={class:"logo-line-wrap"},l={class:"wrap logo-line"},o={xmlns:"http://www.w3.org/2000/svg",class:"logo-line__logo"},u=["href"],b={class:"menu-line"},d={class:"wrap menu-line__nav"},p=["value"];function f(e,t,n,i,s,f){var m=Object(c["V"])("router-link"),j=Object(c["V"])("ProfileDropdown");return Object(c["L"])(),Object(c["m"])("header",a,[Object(c["n"])("div",r,[Object(c["n"])("div",l,[Object(c["p"])(m,{to:"/"},{default:Object(c["hb"])((function(){return[(Object(c["L"])(),Object(c["m"])("svg",o,[Object(c["n"])("use",{href:s.href},null,8,u)]))]})),_:1}),Object(c["p"])(j)])]),Object(c["n"])("div",b,[Object(c["n"])("nav",d,[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(s.refs,(function(e){return Object(c["L"])(),Object(c["k"])(m,{to:e.value,key:e.value,tag:"li"},{default:Object(c["hb"])((function(){return[Object(c["n"])("button",{value:e.value,class:"btn"},Object(c["Y"])(e.label),9,p)]})),_:2},1032,["to"])})),128))])])])}var m=n("9b19"),j=n.n(m),O={class:"menu-item-wrap dropdown-menu__header"};function h(e,t,n,i,s,a){var r=Object(c["V"])("profile-icon"),l=Object(c["V"])("n-icon"),o=Object(c["V"])("n-button"),u=Object(c["V"])("a-menu-divider"),b=Object(c["V"])("a-menu-item"),d=Object(c["V"])("router-link"),p=Object(c["V"])("a-menu"),f=Object(c["V"])("a-dropdown"),m=Object(c["V"])("auth-modal");return Object(c["L"])(),Object(c["m"])(c["b"],null,[e.isAuth?(Object(c["L"])(),Object(c["k"])(f,{key:0,trigger:["click"],placement:"bottomRight"},{overlay:Object(c["hb"])((function(){return[Object(c["p"])(p,{class:"dropdown-menu"},{default:Object(c["hb"])((function(){return[Object(c["n"])("div",O,Object(c["Y"])(e.authAccount),1),Object(c["p"])(u),(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(s.refs,(function(e){return Object(c["L"])(),Object(c["k"])(d,{to:e.value,key:e.value,tag:"li"},{default:Object(c["hb"])((function(){return[(Object(c["L"])(),Object(c["k"])(b,{key:e.value},{default:Object(c["hb"])((function(){return[Object(c["o"])(Object(c["Y"])(e.label),1)]})),_:2},1024))]})),_:2},1032,["to"])})),128)),Object(c["p"])(u),(Object(c["L"])(),Object(c["m"])("button",{key:s.refs.length,class:"menu-item-wrap btn btn-logout",onClick:t[1]||(t[1]=function(){return a.logout&&a.logout.apply(a,arguments)})}," Выход "))]})),_:1})]})),default:Object(c["hb"])((function(){return[Object(c["p"])(o,{class:"profile-btn profile-btn-after-auth",onClick:t[0]||(t[0]=function(e){return e.preventDefault()}),text:""},{default:Object(c["hb"])((function(){return[Object(c["p"])(l,null,{default:Object(c["hb"])((function(){return[Object(c["p"])(r)]})),_:1})]})),_:1})]})),_:1})):(Object(c["L"])(),Object(c["m"])("button",{key:1,class:"btn btn-green profile-btn profile-btn-before-auth",onClick:t[2]||(t[2]=function(e){return a.setModalVisible(!0)})},"Вход")),Object(c["p"])(m)],64)}var v=n("ad25"),g=n("5502"),y=function(e){return Object(c["O"])("data-v-7a5c7622"),e=e(),Object(c["M"])(),e},k={key:0},_={class:"registration-link-wrap"},w=y((function(){return Object(c["n"])("h2",{class:"auth-header"},"Войти",-1)})),L={key:1},M=y((function(){return Object(c["n"])("h2",{class:"auth-header"},"Регистрация",-1)}));function S(e,t,n,i,s,a){var r=Object(c["V"])("auth-form"),l=Object(c["V"])("registration-form"),o=Object(c["V"])("a-modal");return Object(c["L"])(),Object(c["k"])(o,{visible:s.isVisible,"onUpdate:visible":t[1]||(t[1]=function(e){return s.isVisible=e}),centered:!0,width:"420px",footer:null,afterClose:a.handleCancel,closable:!1,wrapClassName:"modal"},{default:Object(c["hb"])((function(){return[0===s.currentModalPage?(Object(c["L"])(),Object(c["m"])("div",k,[Object(c["n"])("div",_,[Object(c["n"])("a",{class:"auth-header auth-header-registration-link",onClick:t[0]||(t[0]=function(){return a.linkToRegistrationForm&&a.linkToRegistrationForm.apply(a,arguments)})},"Регистрация")]),w,Object(c["p"])(r)])):(Object(c["L"])(),Object(c["m"])("div",L,[M,Object(c["p"])(l)]))]})),_:1},8,["visible","afterClose"])}var C={key:0,class:"error-message"},T={key:0,class:"error-message"},V={class:"btn-wrap"};function F(e,t,n,i,s,a){var r=Object(c["V"])("a-input"),l=Object(c["V"])("a-spin");return Object(c["L"])(),Object(c["m"])("form",{class:"form-wrap",onSubmit:t[3]||(t[3]=Object(c["jb"])((function(){}),["prevent"])),novalidate:""},[Object(c["n"])("label",null,[Object(c["p"])(r,{class:"input",value:s.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return s.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"Введите вашу почту",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(c["L"])(),Object(c["m"])("p",C,Object(c["Y"])(a.userMailErrors),1)):Object(c["l"])("",!0)]),Object(c["n"])("label",null,[Object(c["p"])(r,{class:"input",value:s.form.userPassword,"onUpdate:value":t[1]||(t[1]=function(e){return s.form.userPassword=e}),onBlur:i.v$.form.userPassword.$touch,type:"password",placeholder:"Введите ваш пароль"},null,8,["value","onBlur"]),i.v$.form.userPassword.$error?(Object(c["L"])(),Object(c["m"])("p",T,Object(c["Y"])(a.userPasswordErrors),1)):Object(c["l"])("",!0)]),Object(c["n"])("div",V,[Object(c["p"])(l,{spinning:s.isFetching},{default:Object(c["hb"])((function(){return[Object(c["n"])("button",{class:"btn btn-auth",onClick:t[2]||(t[2]=function(){return a.handleSuccess&&a.handleSuccess.apply(a,arguments)})},"Войти")]})),_:1},8,["spinning"])])],32)}n("7db0"),n("d3b7");var P=n("25a0"),$=n("e3e1"),A=(n("ac1f"),n("00b4"),function(e){return/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){11}(\s*)?$/.test(e)}),Y=function(e){var t=localStorage.getItem("users"),n=JSON.parse(t);return!n.find((function(t){return t.mail===e}))},x=function(e){var t=localStorage.getItem("users"),n=JSON.parse(t);return!!n.find((function(t){return t.mail===e}))},I=function(e){var t=localStorage.getItem("users"),n=JSON.parse(t);return!n.find((function(t){return t.phoneNumber===e}))},R={name:"AuthForm",setup:function(){return{v$:Object(P["a"])()}},data:function(){return{isFetching:!1,form:{userMail:"",userPassword:""}}},validations:function(){return{form:{userMail:{required:$["c"],email:$["a"],hasRegisteredMail:x},userPassword:{required:$["c"]}}}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({authModalVisible:function(e){return e.authModalVisible}})),{},{userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":this.v$.form.userMail.hasRegisteredMail.$invalid?"* Аккаунта с такой почтой не существует.":null},userPasswordErrors:function(){return this.v$.form.userPassword.required.$invalid?"* Обязательно для заполнения.":null}}),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setLoginModalVisible:"setLoginModalVisible",setAuth:"setAuth",setAuthAccount:"setAuthAccount"})),{},{setFetching:function(e){this.isFetching=e},validate:function(){var e=this,t=localStorage.getItem("users"),n=JSON.parse(t),c=n.find((function(t){return t.mail===e.form.userMail}));console.log(c),c&&(this.setAuth(!0),this.setLoginModalVisible(!1),this.setAuthAccount({mail:c.mail,phoneNumber:c.phoneNumber}),localStorage.setItem("authUser",JSON.stringify({mail:c.mail,phoneNumber:c.phoneNumber})))},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),this.v$.$invalid?(this.setFetching(!1),this.form.userPassword=""):setTimeout((function(){e.validate(),e.setFetching(!1)}),1e3)}}),watch:{authModalVisible:function(e){!1===e&&(this.v$.$reset(),this.form.userMail="",this.form.userPassword="")}}},N=(n("f219"),n("6b0d")),D=n.n(N);const U=D()(R,[["render",F],["__scopeId","data-v-3890ece2"]]);var E=U,z=Object(c["o"])(" Электронная почта "),B={key:0,class:"error-message"},q=Object(c["o"])(" Ваш номер телефона "),G={key:0,class:"error-message"},J=Object(c["o"])(" Пароль "),H={key:0,class:"error-message"},W=Object(c["o"])(" Подтвердите пароль "),K={key:0,class:"error-message"},X={class:"btn-wrap"};function Q(e,t,n,i,s,a){var r=Object(c["V"])("a-input"),l=Object(c["V"])("a-spin");return Object(c["L"])(),Object(c["m"])("form",{class:"form-wrap",onSubmit:t[5]||(t[5]=Object(c["jb"])((function(){}),["prevent"])),novalidate:""},[Object(c["n"])("label",null,[z,Object(c["p"])(r,{class:"input",value:s.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return s.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"filmstrip@gmail.com",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(c["L"])(),Object(c["m"])("p",B,Object(c["Y"])(a.userMailErrors),1)):Object(c["l"])("",!0)]),Object(c["n"])("label",null,[q,Object(c["p"])(r,{class:"input",value:s.form.userPhoneNumber,"onUpdate:value":t[1]||(t[1]=function(e){return s.form.userPhoneNumber=e}),onBlur:i.v$.form.userPhoneNumber.$touch,type:"email",placeholder:"+7 999 666 99 99",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,8,["value","onBlur"]),i.v$.form.userPhoneNumber.$error?(Object(c["L"])(),Object(c["m"])("p",G,Object(c["Y"])(a.userPhoneNumberErrors),1)):Object(c["l"])("",!0)]),Object(c["n"])("label",null,[J,Object(c["p"])(r,{class:"input",value:s.form.userPassword,"onUpdate:value":t[2]||(t[2]=function(e){return s.form.userPassword=e}),onBlur:i.v$.form.userPassword.$touch,type:"password",placeholder:"Минимум 8 символов"},null,8,["value","onBlur"]),i.v$.form.userPassword.$error?(Object(c["L"])(),Object(c["m"])("p",H,Object(c["Y"])(a.userPasswordErrors),1)):Object(c["l"])("",!0)]),Object(c["n"])("label",null,[W,Object(c["p"])(r,{class:"input",value:s.form.userPasswordRepeat,"onUpdate:value":t[3]||(t[3]=function(e){return s.form.userPasswordRepeat=e}),onBlur:i.v$.form.userPasswordRepeat.$touch,type:"password",placeholder:"Минимум 8 символов"},null,8,["value","onBlur"]),i.v$.form.userPassword.$error?(Object(c["L"])(),Object(c["m"])("p",K,Object(c["Y"])(a.userPasswordErrors),1)):Object(c["l"])("",!0)]),Object(c["n"])("div",X,[Object(c["p"])(l,{spinning:s.isFetching},{default:Object(c["hb"])((function(){return[Object(c["n"])("button",{class:"btn btn-registration",onClick:t[4]||(t[4]=function(){return a.handleSuccess&&a.handleSuccess.apply(a,arguments)})},"Зарегистрироваться")]})),_:1},8,["spinning"])])],32)}var Z={name:"RegistrationForm",setup:function(){return{v$:Object(P["a"])()}},data:function(){return{isFetching:!1,form:{userMail:"",userPhoneNumber:"",userPassword:"",userPasswordRepeat:""}}},validations:function(){return{form:{userMail:{required:$["c"],email:$["a"],hasUnregisteredMail:Y},userPhoneNumber:{required:$["c"],hasValidPhoneNumber:A,hasUnregisteredPhoneNumber:I},userPassword:{required:$["c"],minLength:Object($["b"])(8),sameAs:Object($["d"])(this.form.userPasswordRepeat)},userPasswordRepeat:{required:$["c"]}}}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({authModalVisible:function(e){return e.authModalVisible}})),{},{userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":this.v$.form.userMail.hasUnregisteredMail.$invalid?"* Аккаунт с такой почтой уже существует.":null},userPhoneNumberErrors:function(){return this.v$.form.userPhoneNumber.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPhoneNumber.hasValidPhoneNumber.$invalid?"* Неправильный формат номера.":this.v$.form.userPhoneNumber.hasUnregisteredPhoneNumber.$invalid?"* Аккаунт с таким номером уже существует.":null},userPasswordErrors:function(){return this.v$.form.userPassword.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPassword.minLength.$invalid?"* Минимальная длинна пароля - 8 символов.":this.v$.form.userPassword.sameAs.$invalid?"* Пароли не совпадают.":null}}),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setLoginModalVisible:"setLoginModalVisible",setAuth:"setAuth",setAuthAccount:"setAuthAccount"})),{},{setFetching:function(e){this.isFetching=e},createAccount:function(){var e=localStorage.getItem("users"),t=JSON.parse(e),n={mail:this.form.userMail,phoneNumber:this.form.userPhoneNumber};t.push(n),localStorage.setItem("users",JSON.stringify(t)),this.setAuthAccount({mail:n.mail,phoneNumber:n.phoneNumber})},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),this.v$.$invalid?this.setFetching(!1):setTimeout((function(){e.setAuth(!0),e.setLoginModalVisible(!1),e.createAccount(),e.setFetching(!1)}),1e3)}})};n("ba7c");const ee=D()(Z,[["render",Q],["__scopeId","data-v-4dc1ae40"]]);var te=ee,ne={name:"AuthModal",components:{AuthForm:E,RegistrationForm:te},data:function(){return{isVisible:!1,currentModalPage:0}},computed:Object(s["a"])({},Object(g["e"])({authModalVisible:function(e){return e.authModalVisible}})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setLoginModalVisible:"setLoginModalVisible"})),{},{handleCancel:function(){this.setLoginModalVisible(!1),this.currentModalPage=0},linkToRegistrationForm:function(){this.currentModalPage=1}}),watch:{authModalVisible:function(e){this.isVisible=e}},beforeMount:function(){!0===this.isVisible&&(this.isVisible=!1,this.setLoginModalVisible(!1))}};n("80b8");const ce=D()(ne,[["render",S],["__scopeId","data-v-7a5c7622"]]);var ie=ce,se={name:"ProfileDropdown",components:{ProfileIcon:v["a"],AuthModal:ie},data:function(){return{visible:!1,refs:[{value:"/profile",label:"Личный кабинет"},{value:"/profile/history",label:"История"}]}},computed:Object(s["a"])({},Object(g["e"])({isAuth:function(e){return e.isAuth},authAccount:function(e){return e.authAccount.mail}})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setLoginModalVisible:"setLoginModalVisible",setAuth:"setAuth",clearAuthAccount:"clearAuthAccount"})),{},{hide:function(){this.visible=!1},setModalVisible:function(e){this.setLoginModalVisible(e)},logout:function(){this.setAuth(!1),this.clearAuthAccount(),delete localStorage.authUser}})};n("5b79");const ae=D()(se,[["render",h],["__scopeId","data-v-fd30522c"]]);var re=ae,le={name:"my-header",components:{ProfileDropdown:re},data:function(){return{href:"".concat(j.a,"#fillStrip-logo"),refs:[{value:"/online-cinema",label:"Онлайн-кинотеатр"},{value:"/films",label:"Фильмы"},{value:"/cinema-rent",label:"Аренда кинозала"}]}}};n("b4cf");const oe=D()(le,[["render",f],["__scopeId","data-v-d8520038"]]);var ue=oe,be={name:"App",components:{MyHeader:ue},methods:Object(s["a"])({},Object(g["b"])({setFetchedFilms:"fetchFilms"})),mounted:function(){this.setFetchedFilms(),localStorage.getItem("users")||localStorage.setItem("users",JSON.stringify([]))}};n("13e0");const de=D()(be,[["render",i]]);var pe=de,fe=n("6c02");function me(e,t,n,i,s,a){var r=Object(c["V"])("filmstrip-swiper"),l=Object(c["V"])("film-list");return Object(c["L"])(),Object(c["m"])("main",null,[Object(c["p"])(r),Object(c["p"])(l,{mode:"crop"})])}var je={key:1};function Oe(e,t,n,i,s,a){var r=Object(c["V"])("filmstrip-item"),l=Object(c["V"])("swiper-slide"),o=Object(c["V"])("swiper");return!1===e.isFetching?(Object(c["L"])(),Object(c["k"])(o,{key:0,slidesPerView:3,slidesPerGroup:1,spaceBetween:0,loop:!0,loopFillGroupWithBlank:!0,autoplay:{delay:4e3,disableOnInteraction:!1},breakpoints:{411:{slidesPerView:4},768:{slidesPerView:5},1026:{slidesPerView:6}}},{default:Object(c["hb"])((function(){return[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.currentPremiers,(function(e){return Object(c["L"])(),Object(c["k"])(l,{film:e,key:e.kinopoiskId},{default:Object(c["hb"])((function(){return[Object(c["p"])(r,{film:e},null,8,["film"])]})),_:2},1032,["film"])})),128))]})),_:1})):(Object(c["L"])(),Object(c["m"])("div",je))}var he=n("8349"),ve=(n("bbe3"),n("4da1")),ge=function(e){return Object(c["O"])("data-v-14fa8060"),e=e(),Object(c["M"])(),e},ye={class:"filmstrip-item"},ke=ge((function(){return Object(c["n"])("div",{class:"filmstrip-item__perforation top"},[Object(c["n"])("div"),Object(c["n"])("div")],-1)})),_e={class:"filmstrip-item__poster"},we=["src","alt"],Le=ge((function(){return Object(c["n"])("div",{class:"filmstrip-item__perforation down"},[Object(c["n"])("div"),Object(c["n"])("div")],-1)}));function Me(e,t,n,i,s,a){return Object(c["L"])(),Object(c["m"])("div",ye,[ke,Object(c["n"])("div",_e,[Object(c["n"])("img",{src:n.film.posterUrlPreview,alt:n.film.nameRu},null,8,we)]),Le])}var Se={name:"FilmstripItem",props:{film:Object}};n("2cbb");const Ce=D()(Se,[["render",Me],["__scopeId","data-v-14fa8060"]]);var Te=Ce;ve["c"].use([ve["a"],ve["b"]]);var Ve={name:"FilmstripSwiper",components:{Swiper:he["a"],SwiperSlide:he["b"],FilmstripItem:Te},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({isFetching:function(e){return e.isFetchingFilms}})),Object(g["c"])({currentPremiers:"currentPremiers"}))};n("24e6");const Fe=D()(Ve,[["render",Oe],["__scopeId","data-v-cd1b60c0"]]);var Pe=Fe,$e={key:0,class:"film-list-full"},Ae={key:1,class:"film-list-crop"};function Ye(e,t,n,i,s,a){var r=Object(c["V"])("sort-by-release-buttons"),l=Object(c["V"])("film-list-item"),o=Object(c["V"])("my-film-swiper");return Object(c["L"])(),Object(c["m"])(c["b"],null,[Object(c["p"])(r),"full"===n.mode?(Object(c["L"])(),Object(c["m"])("div",$e,[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.films,(function(e){return Object(c["L"])(),Object(c["k"])(l,{key:e.kinopoiskId,film:e},null,8,["film"])})),128))])):(Object(c["L"])(),Object(c["m"])("div",Ae,[Object(c["p"])(o,{filmList:e.isFetching?s.fetchingFilms:e.films},null,8,["filmList"])]))],64)}var xe=function(e){return Object(c["O"])("data-v-315d133a"),e=e(),Object(c["M"])(),e},Ie={class:"release-sort"},Re=xe((function(){return Object(c["n"])("span",null,"Сегодня в кино",-1)})),Ne=[Re],De=xe((function(){return Object(c["n"])("span",null,"Скоро в кино",-1)})),Ue=[De];function Ee(e,t,n,i,s,a){return Object(c["L"])(),Object(c["m"])("div",Ie,[Object(c["n"])("div",{onClick:t[0]||(t[0]=function(t){return e.setSort("released")}),class:Object(c["C"])(["btn btn-release","released"===e.isReleasedFilms?"active":"inactive"])},Ne,2),Object(c["n"])("div",{onClick:t[1]||(t[1]=function(t){return e.setSort("unreleased")}),class:Object(c["C"])(["btn btn-release","unreleased"===e.isReleasedFilms?"active":"inactive"])},Ue,2)])}var ze={name:"SortByReleaseButtons",methods:Object(s["a"])({},Object(g["d"])({setSort:"setReleaseSort"})),computed:Object(s["a"])({},Object(g["e"])({isReleasedFilms:function(e){return e.selectedReleaseSort}}))};n("962d");const Be=D()(ze,[["render",Ee],["__scopeId","data-v-315d133a"]]);var qe=Be,Ge=(n("fb6a"),function(e){return Object(c["O"])("data-v-06515d44"),e=e(),Object(c["M"])(),e}),Je={class:"dashed-card__content"},He={xmlns:"http://www.w3.org/2000/svg"},We=["href"],Ke=Object(c["o"])("Все фильмы "),Xe=Ge((function(){return Object(c["n"])("br",null,null,-1)}));function Qe(e,t,n,i,s,a){var r=Object(c["V"])("film-list-item"),l=Object(c["V"])("swiper-slide"),o=Object(c["V"])("router-link"),u=Object(c["V"])("swiper");return Object(c["L"])(),Object(c["k"])(u,{slidesPerView:1,slidesPerGroup:1,spaceBetween:10,centeredSlides:!0,breakpoints:{420:{slidesPerView:2,spaceBetween:20,centeredSlides:!1},768:{slidesPerView:3,spaceBetween:30,centeredSlides:!1},910:{slidesPerView:4,spaceBetween:20,centeredSlides:!1},1141:{slidesPerView:5,centeredSlides:!1}}},{default:Object(c["hb"])((function(){return[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.filmList.slice(0,4),(function(e){return Object(c["L"])(),Object(c["k"])(l,{key:e.kinopoiskId},{default:Object(c["hb"])((function(){return[Object(c["p"])(r,{film:e,class:"film-list__item"},null,8,["film"])]})),_:2},1024)})),128)),Object(c["p"])(l,{class:"film-list__item film-list__dashed-card"},{default:Object(c["hb"])((function(){return[Object(c["p"])(o,{to:"/films"},{default:Object(c["hb"])((function(){return[Object(c["n"])("div",Je,[(Object(c["L"])(),Object(c["m"])("svg",He,[Object(c["n"])("use",{href:s.svgHref},null,8,We)])),Object(c["n"])("p",null,[Ke,Xe,Object(c["o"])("("+Object(c["Y"])(n.filmList.length)+")",1)])])]})),_:1})]})),_:1})]})),_:1})}n("a15b"),n("d81d");var Ze=function(e){return Object(c["O"])("data-v-d93d9864"),e=e(),Object(c["M"])(),e},et={key:0},tt={class:"film-list__item-card"},nt={class:"item-card__premiere"},ct=["src","alt"],it={class:"film-list__item-genres"},st={class:"film-list__item-name"},at={key:1,class:"film-list__item-fetching"},rt=Ze((function(){return Object(c["n"])("div",{class:"item-fetching__premiere"},"Loading",-1)})),lt=Ze((function(){return Object(c["n"])("div",{class:"item-fetching__poster"},null,-1)})),ot=[rt,lt];function ut(e,t,n,i,s,a){return Object(c["L"])(),Object(c["m"])("div",{onClick:t[0]||(t[0]=function(t){return e.$router.push("/films/".concat(n.film.kinopoiskId))})},[e.isFetching?(Object(c["L"])(),Object(c["m"])("div",at,ot)):(Object(c["L"])(),Object(c["m"])("div",et,[Object(c["n"])("div",tt,[Object(c["n"])("div",nt,Object(c["Y"])(a.setPremiere(n.film.premiereRu)),1),Object(c["n"])("img",{src:n.film.posterUrlPreview,alt:n.film.nameRu,class:"item-card__poster"},null,8,ct)]),Object(c["n"])("div",it,Object(c["Y"])(n.film.genres.map((function(e){return e.genre})).join(", ")),1),Object(c["n"])("h4",st,Object(c["Y"])(n.film.nameRu),1)]))])}n("a9e3");var bt=n("c1df"),dt=n.n(bt),pt={name:"FilmListItem",props:{film:Object},methods:{setPremiere:function(e){var t=dt()(),n=dt()(e,"YYYY-MM-DD"),c=Number(t.diff(n,"days",!0));return c>=0?n.calendar({sameDay:"[Премьера]",lastDay:"[Новинка]",lastWeek:"[Новинка]",sameElse:" "}):n.calendar({nextDay:"[Завтра]",nextWeek:"[В кино с] DD.MM",sameElse:"[В кино с] DD.MM"})}},computed:Object(s["a"])({},Object(g["e"])({isFetching:function(e){return e.isFetchingFilms}}))};n("5133");const ft=D()(pt,[["render",ut],["__scopeId","data-v-d93d9864"]]);var mt=ft,jt=n("ba2d"),Ot=n.n(jt);ve["c"].use([ve["b"]]);var ht={name:"FilmListSwiper",components:{Swiper:he["a"],SwiperSlide:he["b"],FilmListItem:mt},props:{filmList:Array},data:function(){return{svgHref:"".concat(Ot.a,"#ticket")}}};n("10f3");const vt=D()(ht,[["render",Qe],["__scopeId","data-v-06515d44"]]);var gt=vt,yt={name:"FilmList",props:{mode:String},components:{SortByReleaseButtons:qe,MyFilmSwiper:gt,FilmListItem:mt},data:function(){return{fetchingFilms:["fetchingFilm","fetchingFilm","fetchingFilm","fetchingFilm"]}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({isReleasedFilms:function(e){return e.selectedReleaseSort},selectedGenreSort:function(e){return e.selectedGenreSort},isFetching:function(e){return e.isFetchingFilms}})),Object(g["c"])({films:"filmsAfterSorts"}))};n("567e");const kt=D()(yt,[["render",Ye],["__scopeId","data-v-04a0970e"]]);var _t=kt,wt={name:"HomePage",components:{FilmstripSwiper:Pe,FilmList:_t},data:function(){return{films:[]}}};const Lt=D()(wt,[["render",me]]);var Mt=Lt;function St(e,t,n,i,s,a){var r=Object(c["V"])("sort-by-genres"),l=Object(c["V"])("film-list");return Object(c["L"])(),Object(c["m"])("main",null,[Object(c["p"])(r,{options:s.options},null,8,["options"]),Object(c["p"])(l,{mode:"full"})])}var Ct={class:"container"};function Tt(e,t,n,i,s,a){var r=Object(c["V"])("a-select-option"),l=Object(c["V"])("a-select");return Object(c["L"])(),Object(c["m"])("div",Ct,[Object(c["p"])(l,{"default-value":null,value:i.selectedValues,"onUpdate:value":t[0]||(t[0]=function(e){return i.selectedValues=e})},{default:Object(c["hb"])((function(){return[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(n.options,(function(e){return Object(c["L"])(),Object(c["k"])(r,{key:e.value,value:e.value},{default:Object(c["hb"])((function(){return[Object(c["o"])(Object(c["Y"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])])}var Vt={name:"SortByGenres",props:{options:{type:Array,default:function(){return[]}}},setup:function(){return{selectedValues:Object(c["R"])(null)}},methods:Object(s["a"])({},Object(g["d"])({setSort:"setGenresSort"})),watch:{selectedValues:function(e){this.setSort(e)}}};n("cef2");const Ft=D()(Vt,[["render",Tt],["__scopeId","data-v-55e1635b"]]);var Pt=Ft,$t={name:"FilmListPage",components:{FilmList:_t,SortByGenres:Pt},data:function(){return{options:[{label:"Все фильмы",value:null},{label:"комедия",value:"комедия"},{label:"мультфильм",value:"мультфильм"},{label:"детский",value:"детский"},{label:"семейный",value:"семейный"},{label:"приключения",value:"приключения"},{label:"фантастика",value:"фантастика"},{label:"фэнтези",value:"фэнтези"},{label:"боевик",value:"боевик"},{label:"криминал",value:"криминал"},{label:"драма",value:"драма"},{label:"мелодрама",value:"мелодрама"},{label:"мюзикл",value:"мюзикл"},{label:"военный",value:"военный"},{label:"документальный",value:"документальный"},{label:"триллер",value:"триллер"},{label:"ужасы",value:"ужасы"},{label:"биография",value:"биография"},{label:"история",value:"история"},{label:"спорт",value:"спорт"},{label:"короткометражка",value:"короткометражка"},{label:"детектив",value:"детектив"},{label:"концерт",value:"концерт"}]}}};const At=D()($t,[["render",St]]);var Yt=At,xt=function(e){return Object(c["O"])("data-v-4ebb2f0d"),e=e(),Object(c["M"])(),e},It={key:0},Rt=xt((function(){return Object(c["n"])("div",{class:"data-line"},[Object(c["n"])("span",null,"Расписание на сегодня")],-1)}));function Nt(e,t,n,i,s,a){var r=Object(c["V"])("film-item"),l=Object(c["V"])("session-schedule");return e.selectedFilm&&!s.isFetching?(Object(c["L"])(),Object(c["m"])("div",It,[Object(c["p"])(r,{film:e.selectedFilm,trailerURL:e.trailerURL},null,8,["film","trailerURL"]),Rt,Object(c["p"])(l)])):Object(c["l"])("",!0)}var Dt=n("1da1"),Ut=(n("96cf"),n("4de4"),n("b0c0"),n("466d"),n("a4d3"),n("e01a"),{class:"film-item"}),Et=["src"],zt={key:1,class:"film-item__poster"},Bt=["src","alt"],qt={class:"film-item__content"},Gt={class:"film-item__header"},Jt={class:"film-item__country"},Ht={class:"film-item__tags"},Wt=Object(c["o"])(" Рейтинг фильма по версии Imdb "),Kt={class:"film-item__genres"},Xt={key:0,class:"film-item__duration"},Qt={class:"film-item__description"};function Zt(e,t,n,i,s,a){var r=Object(c["V"])("my-tag");return Object(c["L"])(),Object(c["m"])("div",Ut,[n.trailerURL?(Object(c["L"])(),Object(c["m"])("iframe",{key:0,class:"film-item__frame",src:n.trailerURL,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,Et)):(Object(c["L"])(),Object(c["m"])("div",zt,[Object(c["n"])("img",{src:n.film.posterUrlPreview,alt:"Постер ".concat(n.film.nameRu)},null,8,Bt)])),Object(c["n"])("div",qt,[Object(c["n"])("h1",Gt,Object(c["Y"])(n.film.nameRu),1),Object(c["n"])("p",Jt,Object(c["Y"])(n.film.nameOriginal)+" ("+Object(c["Y"])(n.film.year)+", "+Object(c["Y"])(n.film.countries.map((function(e){return e.country})).join(", "))+")",1),Object(c["n"])("div",Ht,[Object(c["p"])(r,{text:e.ageLimits,type:"dotted"},null,8,["text"]),n.film.ratingImdb?(Object(c["L"])(),Object(c["k"])(r,{key:0,text:n.film.ratingImdb,popover:!0,type:"green"},{default:Object(c["hb"])((function(){return[Wt]})),_:1},8,["text"])):Object(c["l"])("",!0)]),Object(c["n"])("p",Kt,Object(c["Y"])(n.film.genres.length>1?"Жанры: ":"Жанр: ")+" "+Object(c["Y"])(n.film.genres.map((function(e){return e.genre})).join(", ")),1),n.film.filmLength?(Object(c["L"])(),Object(c["m"])("p",Xt,"Длительность: "+Object(c["Y"])(a.setDuration(n.film.filmLength)),1)):Object(c["l"])("",!0),Object(c["n"])("p",Qt,Object(c["Y"])(n.film.description),1)])])}n("25f0"),n("99af");var en={class:"popover-description"};function tn(e,t,n,i,s,a){var r=Object(c["V"])("a-popover");return n.popover?(Object(c["L"])(),Object(c["k"])(r,{key:0},{content:Object(c["hb"])((function(){return[Object(c["n"])("div",en,[Object(c["U"])(e.$slots,"default",{},void 0,!0)])]})),default:Object(c["hb"])((function(){return[Object(c["n"])("div",{class:Object(c["C"])(["tag","".concat(n.isAnimated?"animated":"","\n         ").concat(n.type?n.type:"")])},Object(c["Y"])(n.text),3)]})),_:3})):(Object(c["L"])(),Object(c["m"])("div",{key:1,class:Object(c["C"])(["tag","".concat(n.type?n.type:"")])},Object(c["Y"])(n.text),3))}var nn={name:"MyTag",props:{text:{type:[String,Number],required:!0},type:{type:String,required:!0},isAnimated:{type:Boolean},popover:{type:Boolean}}};n("e528");const cn=D()(nn,[["render",tn],["__scopeId","data-v-3ed32008"]]);var sn=cn,an={name:"FilmItem",components:{MyTag:sn},props:{trailerURL:{type:String},film:{type:Object}},computed:Object(s["a"])({},Object(g["e"])({ageLimits:function(e){return e.ageLimitsOfSelectedFilm}})),methods:{setDuration:function(e){var t=e.toString().slice(-1);return"".concat(e,"1"===t?" минута":t>1&&t<5?" минуты":" минут")}}};n("733e");const rn=D()(an,[["render",Zt],["__scopeId","data-v-7386cccc"]]);var ln=rn,on={class:"session-schedule__item"},un={class:"place"},bn={class:"place__name header"},dn={class:"place__address"},pn={class:"sessions"},fn={class:"header"},mn={class:"sessions__container"};function jn(e,t,n,i,s,a){var r=Object(c["V"])("session-item"),l=Object(c["V"])("checkout-modal");return Object(c["L"])(),Object(c["m"])(c["b"],null,[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.cinemas,(function(e){return Object(c["L"])(),Object(c["m"])("div",{key:e.id,class:"session-schedule"},[Object(c["n"])("div",on,[Object(c["n"])("div",un,[Object(c["n"])("h3",bn,Object(c["Y"])(e.name),1),Object(c["n"])("div",dn,Object(c["Y"])(e.address),1)]),Object(c["n"])("div",pn,[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.formats,(function(t){return Object(c["L"])(),Object(c["m"])("div",{key:t},[Object(c["n"])("h3",fn,Object(c["Y"])(t.format),1),Object(c["n"])("div",mn,[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(t.sessions,(function(n){return Object(c["L"])(),Object(c["k"])(r,{key:"".concat(n.time,"-").concat(n.hall,"-").concat(t.format),session:a.setSession(e,t,n)},null,8,["session"])})),128))])])})),128))])])])})),128)),Object(c["p"])(l)],64)}var On={class:"session-item"},hn={class:"session-item__price"};function vn(e,t,n,i,s,a){var r=Object(c["V"])("a-button");return Object(c["L"])(),Object(c["m"])("div",On,[Object(c["p"])(r,{class:Object(c["C"])(["btn session-item__btn",s.isDisabled?"disabled":"available"]),disabled:s.isDisabled,onClick:t[0]||(t[0]=function(e){return a.setSession(n.session)})},{default:Object(c["hb"])((function(){return[Object(c["o"])(Object(c["Y"])(n.session.time),1)]})),_:1},8,["disabled","class"]),Object(c["n"])("span",hn,Object(c["Y"])(n.session.price)+" ₽",1)])}var gn={name:"SessionItem",props:{session:{type:Object}},data:function(){return{interval:null,isDisabled:dt()(this.session.time,"hh:mm")<dt()()}},methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setCheckoutModalVisible:"setCheckoutModalVisible",setSelectedSession:"setSelectedSession"})),{},{setSession:function(e){this.setCheckoutModalVisible(!0),this.setSelectedSession(e)},startTimer:function(){this.interval=setInterval(this.isSessionStarter,1e3)},isSessionStarter:function(){dt()(this.session.time,"hh:mm")<dt()()?(this.isDisabled=!0,this.stopTimer()):this.isDisabled=!1},stopTimer:function(){clearInterval(this.interval)}}),beforeMount:function(){this.startTimer()},unmounted:function(){this.stopTimer()}};n("010b");const yn=D()(gn,[["render",vn],["__scopeId","data-v-79268717"]]);var kn=yn,_n=(n("202f"),{class:"modal-wrap"}),wn={key:1,class:"step-content"},Ln={key:2,class:"step-content"},Mn={key:3,class:"step-content"},Sn=Object(c["o"])(" Назад "),Cn=Object(c["o"])(" Продолжить "),Tn=Object(c["o"])(" Перейти к оплате "),Vn=Object(c["o"])(" Вернуться к расписанию сеансов ");function Fn(e,t,n,i,s,a){var r=this,l=Object(c["V"])("a-step"),o=Object(c["V"])("a-steps"),u=Object(c["V"])("warning-step"),b=Object(c["V"])("seats-picking-step"),d=Object(c["V"])("checkout-step"),p=Object(c["V"])("a-button"),f=Object(c["V"])("chosen-seats-info"),m=Object(c["V"])("a-modal");return Object(c["L"])(),Object(c["k"])(m,{visible:s.isVisible,"onUpdate:visible":t[0]||(t[0]=function(e){return s.isVisible=e}),width:"980px",centered:!0,footer:null,wrapClassName:"modal",afterClose:a.handleCancel},{default:Object(c["hb"])((function(){return[Object(c["n"])("div",_n,[r.isTimeExpired?Object(c["l"])("",!0):(Object(c["L"])(),Object(c["k"])(o,{key:0,current:s.currentModalPage,class:"modal__steps"},{default:Object(c["hb"])((function(){return[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(s.steps,(function(e){return Object(c["L"])(),Object(c["k"])(l,{key:e.title,title:e.title},null,8,["title"])})),128))]})),_:1},8,["current"])),0===s.currentModalPage?(Object(c["L"])(),Object(c["m"])("div",wn,[Object(c["p"])(u)])):Object(c["l"])("",!0),1===s.currentModalPage?(Object(c["L"])(),Object(c["m"])("div",Ln,[Object(c["p"])(b)])):Object(c["l"])("",!0),2===s.currentModalPage?(Object(c["L"])(),Object(c["m"])("div",Mn,[Object(c["p"])(d)])):Object(c["l"])("",!0)]),Object(c["n"])("div",{class:Object(c["C"])(["steps-action",r.isTimeExpired?"centered":""])},[s.currentModalPage>1&&!e.isTimeExpired?(Object(c["L"])(),Object(c["k"])(p,{key:0,style:{"margin-left":"8px"},onClick:a.prev},{default:Object(c["hb"])((function(){return[Sn]})),_:1},8,["onClick"])):Object(c["l"])("",!0),0===s.currentModalPage?(Object(c["L"])(),Object(c["k"])(p,{key:1,type:"primary",onClick:a.next},{default:Object(c["hb"])((function(){return[Cn]})),_:1},8,["onClick"])):Object(c["l"])("",!0),1===s.currentModalPage&&e.tickets.length>0?(Object(c["L"])(),Object(c["k"])(f,{key:2,type:"crop"})):Object(c["l"])("",!0),1===s.currentModalPage?(Object(c["L"])(),Object(c["k"])(p,{key:3,type:"primary",onClick:a.next,disabled:s.isDisabled},{default:Object(c["hb"])((function(){return[Tn]})),_:1},8,["onClick","disabled"])):Object(c["l"])("",!0),s.currentModalPage==s.steps.length-1&&r.isTimeExpired?(Object(c["L"])(),Object(c["k"])(p,{key:4,type:"primary",onClick:a.handleCancel},{default:Object(c["hb"])((function(){return[Vn]})),_:1},8,["onClick"])):Object(c["l"])("",!0)],2)]})),_:1},8,["visible","afterClose"])}var Pn=function(e){return Object(c["O"])("data-v-5a4cf67c"),e=e(),Object(c["M"])(),e},$n=Pn((function(){return Object(c["n"])("h2",null,"Дорогие гости, просим принять во внимание меры предосторожности в связи с эпидемиологической ситуацией:",-1)})),An=Pn((function(){return Object(c["n"])("ul",null,[Object(c["n"])("li",null,"― Соблюдайте правила личной гигиены"),Object(c["n"])("li",null,"― Пользуйтесь бесконтактными способами оплаты"),Object(c["n"])("li",null,"― Соблюдайте социальную дистанцию на расстоянии не менее 1,5 метра"),Object(c["n"])("li",null,"― Воздержитесь от посещения кинотеатра при наличии симптомов, характерных для ОРВИ")],-1)})),Yn=Pn((function(){return Object(c["n"])("p",null,[Object(c["n"])("strong",null,"Для посещения кинотеатра так же необходим QR-код, подтверждающий вакцинацию от коронавируса")],-1)}));function xn(e,t,n,i,s,a){return Object(c["L"])(),Object(c["m"])(c["b"],null,[$n,An,Yn],64)}var In={name:"WarningStep"};n("54c6");const Rn=D()(In,[["render",xn],["__scopeId","data-v-5a4cf67c"]]);var Nn=Rn,Dn=function(e){return Object(c["O"])("data-v-4f368b24"),e=e(),Object(c["M"])(),e},Un={key:0,class:"seats-info-wrap"},En=["onClick"],zn=Dn((function(){return Object(c["n"])("g",null,[Object(c["n"])("path",{d:"M394,75.8L249.6,220.2L105.2,75.8c-8.2-8.2-21.6-8.2-29.8,0s-8.2,21.6,0,29.8L219.8,250L75.4,394.4\r\n\t\t          c-8.2,8.2-8.2,21.6,0,29.8c8.2,8.2,21.6,8.2,29.8,0l144.4-144.4L394,424.2c8.2,8.2,21.6,8.2,29.8,0c8.2-8.2,8.2-21.6,0-29.8\r\n\t\t          L279.4,250l144.4-144.4c8.2-8.2,8.2-21.6,0-29.8C415.6,67.6,402.3,67.6,394,75.8z"})],-1)})),Bn=[zn],qn={type:"primary"},Gn={key:1,class:"seats-info-wrap-full"},Jn={class:"film-name"},Hn={class:"tags-container"},Wn={class:"cinema-address"},Kn={class:"session-time"},Xn={class:"order-info"},Qn={class:"order-info__ticket-item-wrap"},Zn={class:"ticket-item__seat-info"},ec=Dn((function(){return Object(c["n"])("div",{class:"ticket-item__dotted-line"},null,-1)})),tc={class:"ticket-item__seat-price"},nc={class:"order-info__total-price"};function cc(e,t,n,i,s,a){var r=Object(c["V"])("a-popover"),l=Object(c["V"])("my-tag");return"crop"===n.type?(Object(c["L"])(),Object(c["m"])("div",Un,[Object(c["p"])(r,{modelValue:s.visible,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.visible=e}),trigger:"click"},{content:Object(c["hb"])((function(){return[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.tickets,(function(t){return Object(c["L"])(),Object(c["m"])("div",{key:"".concat(t.row,"-").concat(t.seat),class:"seats-info"},[Object(c["n"])("span",null,"Ряд "+Object(c["Y"])(t.row)+", Место "+Object(c["Y"])(t.seat)+" ― "+Object(c["Y"])(e.session.price)+"₽",1),(Object(c["L"])(),Object(c["m"])("svg",{class:"delete-button",onClick:function(n){return e.removeTicket(t.id)},xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 500 500","xml:space":"preserve"},Bn,8,En))])})),128))]})),default:Object(c["hb"])((function(){return[Object(c["n"])("a",qn,Object(c["Y"])(e.getCountInfoAboutTickets),1)]})),_:1},8,["modelValue"]),Object(c["n"])("span",null,"за "+Object(c["Y"])(e.session.price*e.tickets.length)+"₽",1)])):"full"===n.type?(Object(c["L"])(),Object(c["m"])("div",Gn,[Object(c["n"])("h1",Jn,Object(c["Y"])(e.film.nameRu),1),Object(c["n"])("div",Hn,[Object(c["p"])(l,{text:e.ageLimits,type:"dotted"},null,8,["text"]),Object(c["p"])(l,{text:e.session.format,type:"green","is-animated":"3D"===e.session.format,popover:"3D"===e.session.format},{default:Object(c["hb"])((function(){return[Object(c["o"])(Object(c["Y"])("3D"===e.session.format?"3D-очки выдаются перед входом в зал 🕶":null),1)]})),_:1},8,["text","is-animated","popover"])]),Object(c["n"])("div",Wn,[Object(c["n"])("p",null,Object(c["Y"])(e.session.cinema.name)+", Зал "+Object(c["Y"])(e.session.hall),1),Object(c["n"])("p",null,Object(c["Y"])(e.session.cinema.address),1)]),Object(c["n"])("p",Kn,"Сегодня в "+Object(c["Y"])(e.session.time),1),Object(c["n"])("div",Xn,[Object(c["n"])("h3",null,Object(c["Y"])(e.getCountInfoAboutTickets),1),Object(c["n"])("div",Qn,[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.tickets,(function(t){return Object(c["L"])(),Object(c["m"])("div",{class:"order-info__ticket-item",key:t.id},[Object(c["n"])("div",Zn,"Ряд "+Object(c["Y"])(t.row)+", Место "+Object(c["Y"])(t.seat),1),ec,Object(c["n"])("div",tc,Object(c["Y"])(e.session.price)+"₽",1)])})),128))]),Object(c["n"])("div",nc,"Итого: "+Object(c["Y"])(e.tickets.length*e.session.price)+"₽",1)])])):Object(c["l"])("",!0)}var ic={name:"ChosenSeatsInfo",components:{MyTag:sn},props:{type:{type:String,required:!0}},data:function(){return{visible:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({tickets:function(e){return e.selectedTickets},session:function(e){return e.selectedSession},film:function(e){return e.selectedFilm},ageLimits:function(e){return e.ageLimitsOfSelectedFilm}})),Object(g["c"])({getCountInfoAboutTickets:"getCountInfoAboutTickets"})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({removeTicket:"removeTicket"})),{},{hide:function(){this.visible=!1}})};n("4ffe");const sc=D()(ic,[["render",cc],["__scopeId","data-v-4f368b24"]]);var ac=sc,rc=function(e){return Object(c["O"])("data-v-94475aae"),e=e(),Object(c["M"])(),e},lc={class:"film-header"},oc={class:"film-header__tags-container"},uc=Object(c["o"])(" 3D-очки выдаются перед входом в зал 🕶 "),bc={class:"film-header__cinema"},dc=rc((function(){return Object(c["n"])("ul",{class:"showcase"},[Object(c["n"])("li",null,[Object(c["n"])("div",{class:"seat"}),Object(c["n"])("small",null,"Свободно")]),Object(c["n"])("li",null,[Object(c["n"])("div",{class:"seat selected"}),Object(c["n"])("small",null,"Выбрано")]),Object(c["n"])("li",null,[Object(c["n"])("div",{class:"seat occupied"}),Object(c["n"])("small",null,"Занято")])],-1)})),pc={class:"overflow-wrapper"};function fc(e,t,n,i,s,a){var r=Object(c["V"])("my-tag"),l=Object(c["V"])("seats-picker");return Object(c["L"])(),Object(c["m"])(c["b"],null,[Object(c["n"])("div",lc,[Object(c["n"])("h1",null,Object(c["Y"])(e.film.nameRu),1),Object(c["n"])("div",oc,[Object(c["p"])(r,{text:e.ageLimits,type:"dotted"},null,8,["text"]),Object(c["p"])(r,{text:e.session.format,type:"green","is-animated":"3D"===e.session.format,popover:"3D"===e.session.format},{default:Object(c["hb"])((function(){return[uc]})),_:1},8,["text","is-animated","popover"])]),Object(c["n"])("p",bc,Object(c["Y"])(e.session.cinema.name)+", Зал "+Object(c["Y"])(e.session.hall),1)]),dc,Object(c["n"])("div",pc,[Object(c["p"])(l)])],64)}var mc=function(e){return Object(c["O"])("data-v-4998ce66"),e=e(),Object(c["M"])(),e},jc={class:"container"},Oc=mc((function(){return Object(c["n"])("div",{class:"screen"},"Экран",-1)})),hc={class:"seats"},vc={class:"row-number"},gc={class:"row-number"};function yc(e,t,n,i,s,a){var r=this,l=Object(c["V"])("seat");return Object(c["L"])(),Object(c["m"])("div",jc,[Oc,Object(c["n"])("div",hc,[(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(a.setTypeHall,(function(e){return Object(c["L"])(),Object(c["m"])("div",{key:e,class:Object(c["C"])(["row",r.session.hallType])},[Object(c["n"])("div",vc,Object(c["Y"])(e.row),1),(Object(c["L"])(!0),Object(c["m"])(c["b"],null,Object(c["T"])(e.seats,(function(t){return Object(c["L"])(),Object(c["k"])(l,{key:"".concat(e.row,"-").concat(t.seat),row:e.row,seatInRow:t.seat,isOccupied:t.isOccupied,peopleCapacity:t.peopleCapacity},null,8,["row","seatInRow","isOccupied","peopleCapacity"])})),128)),Object(c["n"])("div",gc,Object(c["Y"])(e.row),1)],2)})),128))])])}function kc(e,t,n,i,s,a){return Object(c["L"])(),Object(c["m"])("div",{onClick:t[0]||(t[0]=function(e){return a.handleChange()}),class:Object(c["C"])(["seat","".concat(n.peopleCapacity,"\n       ").concat(a.contains(e.tickets,s.id)?"selected":"","\n       ").concat(e.isLimit?"locked":"","\n       ").concat(n.isOccupied?"occupied":"")])},Object(c["Y"])(a.contains(e.tickets,s.id)?n.seatInRow:null),3)}var _c={name:"Seat",props:{row:{type:Number,required:!0},seatInRow:{type:Number,required:!0},isOccupied:{type:Boolean,required:!0},peopleCapacity:{type:String,required:!0}},data:function(){return{id:"".concat(this.row,"-").concat(this.seatInRow)}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({tickets:function(e){return e.selectedTickets}})),Object(g["c"])({isLimit:"isLimitOfTickets"})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setTicket:"setTicket",removeTicket:"removeTicket"})),{},{contains:function(e,t){return e.find((function(e){return e.id===t}))},handleChange:function(){var e=!!this.tickets.length&&this.contains(this.tickets,this.id);this.isLimit?e&&this.removeTicket(this.id):e?this.removeTicket(this.id):this.setTicket({row:this.row,seat:this.seatInRow,id:this.id})}})};n("1197");const wc=D()(_c,[["render",kc],["__scopeId","data-v-608d2cda"]]);var Lc=wc,Mc={name:"SeatsPicker",components:{Seat:Lc},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({session:function(e){return e.selectedSession},halls:function(e){return e.halls}})),{},{setTypeHall:function(){var e=this.session.hallType;return this.halls.find((function(t){return t.hallType===e})).layout}})};n("36bb");const Sc=D()(Mc,[["render",yc],["__scopeId","data-v-4998ce66"]]);var Cc=Sc,Tc={name:"SeatsPickingStep",components:{SeatsPicker:Cc,MyTag:sn},computed:Object(s["a"])({},Object(g["e"])({film:function(e){return e.selectedFilm},ageLimits:function(e){return e.ageLimitsOfSelectedFilm},session:function(e){return e.selectedSession}}))};n("0c39");const Vc=D()(Tc,[["render",fc],["__scopeId","data-v-94475aae"]]);var Fc=Vc,Pc=function(e){return Object(c["O"])("data-v-e97a4fc8"),e=e(),Object(c["M"])(),e},$c={class:"popover-description"},Ac={key:0,class:"checkout-step-content"},Yc={class:"step-header-wrap"},xc={class:"step-header"},Ic=Pc((function(){return Object(c["n"])("h2",{class:"step-header-description"},"Проверьте Ваш заказ и выберите удобный способ оплаты.",-1)})),Rc={class:"pay-wrap"},Nc={class:"pay-left-col"},Dc={class:"pay-right-col"},Uc={key:1,class:"header-expired-wrap"},Ec=Pc((function(){return Object(c["n"])("h1",{class:"step-header"},"Извините, время на оплату вышло.",-1)})),zc=Pc((function(){return Object(c["n"])("h3",{class:"step-description"},"Приносим извинения за доставленные неудобства 😢",-1)})),Bc=[Ec,zc];function qc(e,t,n,i,s,a){var r=Object(c["V"])("my-timer"),l=Object(c["V"])("a-popover"),o=Object(c["V"])("chosen-seats-info"),u=Object(c["V"])("payment-form");return Object(c["L"])(),Object(c["m"])(c["b"],null,[Object(c["p"])(l,null,{content:Object(c["hb"])((function(){return[Object(c["n"])("div",$c,[Object(c["n"])("p",null,"На время оплаты "+Object(c["Y"])(e.tickets.length>1?"Ваши билеты забронированы, чтобы их могли":"Ваш билет забронирован, чтобы его могли")+" купить только Вы.",1),Object(c["n"])("p",null,"Но если Вы не произведете оплату по окончанию таймера, бронь с "+Object(c["Y"])(e.tickets.length>1?"билетов":"билета")+" будет снята 😥",1)])]})),default:Object(c["hb"])((function(){return[e.isTimeExpired?Object(c["l"])("",!0):(Object(c["L"])(),Object(c["k"])(r,{key:0,duration:900,callback:a.setExpiredCallback,class:"checkout-timer"},null,8,["callback"]))]})),_:1}),!1===e.isTimeExpired?(Object(c["L"])(),Object(c["m"])("div",Ac,[Object(c["n"])("div",Yc,[Object(c["n"])("h1",xc,Object(c["Y"])(e.tickets.length>1?"Ваши билеты почти готовы!":"Ваш билет почти готов!")+" Осталось дело за малым...",1),Ic]),Object(c["n"])("div",Rc,[Object(c["n"])("div",null,[Object(c["n"])("div",Nc,[Object(c["p"])(o,{type:"full"})])]),Object(c["n"])("div",Dc,[Object(c["p"])(u)])])])):(Object(c["L"])(),Object(c["m"])("div",Uc,Bc))],64)}function Gc(e,t,n,i,s,a){return Object(c["L"])(),Object(c["m"])("div",{class:Object(c["C"])(["timer",s.seconds<=45?"timer-running-out":""])},Object(c["Y"])(a.getMinutes)+":"+Object(c["Y"])(a.getSeconds),3)}var Jc={name:"MyTimer",props:{duration:{type:Number},callback:{type:Function}},data:function(){return{seconds:this.duration,interval:null}},methods:{startTimer:function(){this.interval=setInterval(this.decrementSeconds,1e3)},stopTimer:function(){clearInterval(this.interval)},decrementSeconds:function(){this.seconds>0?this.seconds--:(this.stopTimer(),this.callback())}},computed:{getMinutes:function(){var e=Math.floor(this.seconds/60);return e<10?"0".concat(e):e},getSeconds:function(){var e=this.seconds%60;return e<10?"0".concat(e):e}},mounted:function(){this.startTimer()},unmounted:function(){this.stopTimer()}};n("4eef");const Hc=D()(Jc,[["render",Gc],["__scopeId","data-v-6cfff602"]]);var Wc=Hc,Kc=function(e){return Object(c["O"])("data-v-0c3e08a9"),e=e(),Object(c["M"])(),e},Xc={form:"payment-form",class:"payment-form__fieldset-wrap"},Qc=Kc((function(){return Object(c["n"])("legend",null,"1. Данные для получения заказа",-1)})),Zc={key:0,class:"error-message"},ei={key:0,class:"error-message"},ti={form:"payment-form",class:"payment-form__fieldset-wrap"},ni=Kc((function(){return Object(c["n"])("legend",null,"2. Способ оплаты",-1)})),ci=Object(c["o"])(" Банковская карта "),ii=Object(c["o"])(" Google Pay "),si=Object(c["o"])(" В кассе кинотеатра перед сеансом "),ai={key:0,class:"error-message"};function ri(e,t,n,i,s,a){var r,l,o=Object(c["V"])("a-input"),u=Object(c["V"])("a-radio-button"),b=Object(c["V"])("a-radio-group"),d=Object(c["V"])("a-button"),p=Object(c["V"])("a-spin");return Object(c["L"])(),Object(c["m"])("form",{class:"payment-form",id:"payment-form",onSubmit:t[3]||(t[3]=Object(c["jb"])((function(){}),["prevent"])),novalidate:""},[Object(c["n"])("div",null,[Object(c["n"])("fieldset",Xc,[Qc,Object(c["n"])("label",null,[Object(c["p"])(o,{class:"input payment-form__input","default-value":null===(r=e.authAccount)||void 0===r?void 0:r.mail,value:s.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return s.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"Введите вашу почту"},null,8,["default-value","value","onBlur"]),i.v$.form.userMail.$error?(Object(c["L"])(),Object(c["m"])("p",Zc,Object(c["Y"])(a.userMailErrors),1)):Object(c["l"])("",!0)]),Object(c["n"])("label",null,[Object(c["p"])(o,{class:"input payment-form__input","default-value":null===(l=this.authAccount)||void 0===l?void 0:l.phoneNumber,value:s.form.userPhoneNumber,"onUpdate:value":t[1]||(t[1]=function(e){return s.form.userPhoneNumber=e}),onBlur:i.v$.form.userPhoneNumber.$touch,type:"tel",placeholder:"Введите ваш номер телефона"},null,8,["default-value","value","onBlur"]),i.v$.form.userPhoneNumber.$error?(Object(c["L"])(),Object(c["m"])("p",ei,Object(c["Y"])(a.userPhoneNumberErrors),1)):Object(c["l"])("",!0)])]),Object(c["n"])("fieldset",ti,[ni,Object(c["n"])("label",null,[Object(c["p"])(b,{class:"payment-form__checkout-type",value:s.form.paymentMethod,"onUpdate:value":t[2]||(t[2]=function(e){return s.form.paymentMethod=e})},{default:Object(c["hb"])((function(){return[Object(c["p"])(u,{value:"Банковская карта"},{default:Object(c["hb"])((function(){return[ci]})),_:1}),Object(c["p"])(u,{value:"Google Pay"},{default:Object(c["hb"])((function(){return[ii]})),_:1}),Object(c["p"])(u,{value:"В кассе кинотеатра"},{default:Object(c["hb"])((function(){return[si]})),_:1})]})),_:1},8,["value"]),i.v$.form.paymentMethod.$error?(Object(c["L"])(),Object(c["m"])("p",ai,Object(c["Y"])(a.paymentMethodErrors),1)):Object(c["l"])("",!0)])])]),Object(c["p"])(p,{spinning:s.isFetching},{default:Object(c["hb"])((function(){return[Object(c["p"])(d,{type:"primary",class:"btn btn-submit",onClick:a.handleSuccess},{default:Object(c["hb"])((function(){return[Object(c["o"])("Оплатить "+Object(c["Y"])(e.tickets.length*e.session.price)+"₽ ",1)]})),_:1},8,["onClick"])]})),_:1},8,["spinning"])],32)}var li={name:"PaymentForm",setup:function(){return{v$:Object(P["a"])()}},data:function(){var e,t;return{isFetching:!1,form:{userMail:null===(e=this.authAccount)||void 0===e?void 0:e.mail,userPhoneNumber:null===(t=this.authAccount)||void 0===t?void 0:t.phoneNumber,paymentMethod:""}}},validations:function(){return{form:{userMail:{required:$["c"],email:$["a"]},userPhoneNumber:{required:$["c"],hasValidPhoneNumber:A},paymentMethod:{required:$["c"]}}}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({tickets:function(e){return e.selectedTickets},session:function(e){return e.selectedSession},authAccount:function(e){return e.authAccount}})),{},{userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":null},userPhoneNumberErrors:function(){return this.v$.form.userPhoneNumber.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPhoneNumber.hasValidPhoneNumber?"* Неправильный формат номера.":null},paymentMethodErrors:function(){return this.v$.form.paymentMethod.required.$invalid?"* Выберете способ оплаты.":null}}),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setCheckoutModalVisible:"setCheckoutModalVisible",clearTickets:"clearTickets"})),{},{setFetching:function(e){this.isFetching=e},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),console.log(this.authAccount),this.v$.$invalid?this.setFetching(!1):setTimeout((function(){e.setCheckoutModalVisible(!1),console.log(e.form),e.setFetching(!1)}),500)}})};n("057e");const oi=D()(li,[["render",ri],["__scopeId","data-v-0c3e08a9"]]);var ui=oi,bi={name:"CheckoutStep",components:{MyTimer:Wc,ChosenSeatsInfo:ac,PaymentForm:ui},data:function(){return{}},methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setIsTimeExpired:"setIsTimeExpired",clearTickets:"clearTickets"})),{},{setExpiredCallback:function(){this.setIsTimeExpired(!0),this.clearTickets()}}),computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({isTimeExpired:function(e){return e.isTimeExpired},tickets:function(e){return e.selectedTickets}})),Object(g["c"])({getCountInfoAboutTickets:"getCountInfoAboutTickets"})),unmounted:function(){this.setIsTimeExpired(!1)}};n("97a7");const di=D()(bi,[["render",qc],["__scopeId","data-v-e97a4fc8"]]);var pi=di,fi={name:"CheckoutModal",components:{WarningStep:Nn,SeatsPickingStep:Fc,CheckoutStep:pi,ChosenSeatsInfo:ac},data:function(){return{currentModalPage:0,isVisible:!1,isDisabled:!0,steps:[{title:"Прочитайте условия"},{title:"Выберите места"},{title:"Оплатите билеты"}]}},computed:Object(s["a"])({},Object(g["e"])({checkoutModalVisible:function(e){return e.checkoutModalVisible},tickets:function(e){return e.selectedTickets},session:function(e){return e.selectedSession},isTimeExpired:function(e){return e.isTimeExpired}})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setCheckoutModalVisible:"setCheckoutModalVisible",clearTickets:"clearTickets"})),{},{handleCancel:function(){this.setCheckoutModalVisible(!1)},handleSuccess:function(){this.setCheckoutModalVisible(!1)},next:function(){this.currentModalPage++},prev:function(){this.currentModalPage--}}),watch:{checkoutModalVisible:function(e){!1===e&&(this.currentModalPage=0,this.clearTickets()),this.isVisible=e},tickets:function(e){this.isDisabled=!e.length}},beforeMount:function(){!0===this.isVisible&&(this.isVisible=!1,this.setCheckoutModalVisible(!1))}};n("eb38");const mi=D()(fi,[["render",Fn]]);var ji=mi,Oi={name:"SessionSchedule",components:{CheckoutModal:ji,SessionItem:kn},computed:Object(s["a"])({},Object(g["e"])({cinemas:function(e){return e.cinemas}})),methods:{setSession:function(e,t,n){return{time:n.time,price:n.price,hall:n.hall,hallType:n.hallType,format:t.format,cinema:{name:e.name,address:e.address}}}}};n("3b20");const hi=D()(Oi,[["render",jn],["__scopeId","data-v-548823fb"]]);var vi=hi,gi={name:"FilmPage",components:{FilmItem:ln,SessionSchedule:vi},props:{id:String},computed:Object(s["a"])({},Object(g["e"])({selectedFilm:function(e){return e.selectedFilm},trailerURL:function(e){return e.trailersUrlOfSelectedFilm},ratingAgeLimits:function(e){return e.ageLimitsOfSelectedFilm},cinemas:function(e){return e.cinemas}})),data:function(){return{isFetching:!1}},methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setFilmData:"setSelectedFilm",setTrailersUrl:"setTrailerUrlOfSelectedFilm",setAgeLimits:"setAgeLimitsOfSelectedFilm"})),{},{setFetching:function(e){this.isFetching=e},fetchFilmsData:function(e){var t=this;return Object(Dt["a"])(regeneratorRuntime.mark((function n(){var c,i,s,a,r,l,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=function(e){return fetch(e,{method:"GET",headers:{"X-API-KEY":"bbd5c8d2-662f-428b-9b73-5fb961a663ad","Content-Type":"application/json"}})},i=function(e){var t=/(Трейлер)/i,n=null===e||void 0===e?void 0:e.items.filter((function(e){return"YOUTUBE"===e.site&&t.test(e.name)}));if(n.length){var c,i=/(?:https?:\/\/)?(?:www\.)?youtu\.?be(?:\.com)?\/?.*(?:watch|embed)?(?:.*v=|v\/|\/)([\w\-_]+)?/,s=null===(c=n[0])||void 0===c?void 0:c.url;return"https://www.youtube.com/embed/".concat(s.match(i)[1])}},s=function(e){return null===e.ratingAgeLimits?"0+":"".concat(e.ratingAgeLimits.match(/\d{1,2}/g),"+")},n.prev=3,t.setFetching(!0),n.next=7,c("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(e));case 7:return a=n.sent,n.next=10,a.json();case 10:return r=n.sent,n.next=13,c("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(e,"/videos"));case 13:return l=n.sent,n.next=16,l.json();case 16:return o=n.sent,n.next=19,t.setFilmData(r);case 19:return n.next=21,t.setAgeLimits(s(r));case 21:return n.next=23,t.setTrailersUrl(i(o));case 23:n.next=28;break;case 25:n.prev=25,n.t0=n["catch"](3),console.error(n.t0);case 28:return n.prev=28,t.setFetching(!1),n.finish(28);case 31:case"end":return n.stop()}}),n,null,[[3,25,28,31]])})))()}}),mounted:function(){this.fetchFilmsData(this.id)}};n("d84b");const yi=D()(gi,[["render",Nt],["__scopeId","data-v-4ebb2f0d"]]);var ki=yi;function _i(e,t,n,i,s,a){return Object(c["L"])(),Object(c["m"])("div")}var wi={name:"ProfilePage",computed:Object(s["a"])({},Object(g["e"])({isAuth:function(e){return e.isAuth}})),watch:{isAuth:function(e){!1===e&&this.$router.push("/")}}};const Li=D()(wi,[["render",_i]]);var Mi=Li;function Si(e,t,n,i,s,a){return Object(c["L"])(),Object(c["m"])("div")}var Ci={name:"TicketsHistoryPage",computed:Object(s["a"])({},Object(g["e"])({isAuth:function(e){return e.isAuth}})),watch:{isAuth:function(e){!1===e&&this.$router.push("/")}}};const Ti=D()(Ci,[["render",Si]]);var Vi=Ti,Fi=[{path:"/",name:"Home",component:Mt},{path:"/films",name:"Films",component:Yt},{path:"/films/:id",name:"Film",component:ki,props:!0},{path:"/online-cinema",name:"Online Cinema",component:Yt},{path:"/cinema-rent",name:"Cinema Rent",component:Yt},{path:"/profile",name:"Profile",component:Mi},{path:"/profile/history",name:"History",component:Vi}],Pi=Object(fe["a"])({history:Object(fe["b"])("/FilmStrip/"),routes:Fi}),$i=Pi,Ai=n("2909"),Yi=n("b85c"),xi=(n("4e82"),dt()().subtract(1,"months")),Ii=dt()(),Ri=dt()().add(1,"months"),Ni=[xi,Ii,Ri],Di=Object(g["a"])({state:{films:[],releasedFilms:[],unreleasedFilms:[],selectedFilm:null,selectedSession:null,selectedTickets:[],trailersUrlOfSelectedFilm:null,ageLimitsOfSelectedFilm:null,isFetchingFilms:!1,selectedReleaseSort:"released",selectedGenresSort:"",checkoutModalVisible:!1,authModalVisible:!1,isTimeExpired:!1,isAuth:!!localStorage.authUser,authAccount:localStorage.authUser?JSON.parse(localStorage.authUser):null,cinemas:[{name:"Кронверк Вью МЕГА JS",address:"площадь Приведения Типов 13, корпус 3, «МЕГА JS», NaN-й этаж",id:666,formats:[{format:"2D",sessions:[{time:"11:20",price:"200",hall:"01",hallType:"standart"},{time:"13:15",price:"250",hall:"01",hallType:"standart"},{time:"16:10",price:"250",hall:"01",hallType:"standart"},{time:"18:05",price:"300",hall:"01",hallType:"standart"},{time:"21:20",price:"300",hall:"01",hallType:"standart"},{time:"23:55",price:"200",hall:"01",hallType:"standart"}]},{format:"3D",sessions:[{time:"10:30",price:"200",hall:"02",hallType:"standart"},{time:"12:35",price:"250",hall:"02",hallType:"standart"},{time:"15:20",price:"250",hall:"02",hallType:"standart"},{time:"18:20",price:"300",hall:"02",hallType:"standart"},{time:"20:45",price:"300",hall:"02",hallType:"standart"},{time:"23:25",price:"200",hall:"02",hallType:"standart"}]}]},{name:"Async Синема",address:"Булиевое шоссе 14, «ТЦ AWAIT», 4-й этаж",id:999,formats:[{format:"2D",sessions:[{time:"11:20",price:"200",hall:"01",hallType:"standart"},{time:"14:10",price:"250",hall:"01",hallType:"standart"},{time:"15:30",price:"250",hall:"01",hallType:"standart"},{time:"16:25",price:"250",hall:"01",hallType:"standart"},{time:"17:40",price:"250",hall:"01",hallType:"standart"},{time:"18:35",price:"300",hall:"01",hallType:"standart"},{time:"22:10",price:"250",hall:"01",hallType:"standart"},{time:"23:05",price:"200",hall:"01",hallType:"standart"}]},{format:"VIP",sessions:[{time:"10:20",price:"700",hall:"02",hallType:"vip"},{time:"14:55",price:"750",hall:"02",hallType:"vip"},{time:"17:20",price:"750",hall:"02",hallType:"vip"},{time:"17:55",price:"810",hall:"02",hallType:"vip"},{time:"20:35",price:"810",hall:"02",hallType:"vip"},{time:"23:25",price:"700",hall:"02",hallType:"vip"}]}]}],halls:[{hallType:"standart",layout:[{row:1,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!0,peopleCapacity:"single"},{seat:4,isOccupied:!0,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!1,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:2,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!1,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:3,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!0,peopleCapacity:"single"},{seat:5,isOccupied:!0,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:4,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!0,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:5,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!0,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!0,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]}]},{hallType:"vip",layout:[{row:1,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:2,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:3,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:4,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:5,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]}]}]},getters:{currentPremiers:function(e){return e.films.filter((function(e){return dt()(e.premiereRu,"YYYY-MM-DD").format("MM")===Ii.format("MM")}))},filmsAfterSorts:function(e){var t=function(t){return e.selectedGenresSort?t.filter((function(t){var n,c=Object(Yi["a"])(t.genres);try{for(c.s();!(n=c.n()).done;){var i=n.value;if(i.genre===e.selectedGenresSort)return!0}}catch(s){c.e(s)}finally{c.f()}})):t};return"released"===e.selectedReleaseSort?t(e.releasedFilms):t(e.unreleasedFilms)},getCountInfoAboutTickets:function(e){var t=e.selectedTickets.length;return 1===t?"1 билет":"".concat(t,t<5?" билета":" билетов")},isLimitOfTickets:function(e){return e.selectedTickets.length>=5}},mutations:{setFilms:function(e,t){e.films=[].concat(Object(Ai["a"])(e.films),Object(Ai["a"])(t))},setReleasedFilms:function(e,t){var n=t.filter((function(e){return dt()(e.premiereRu,"YYYY-MM-DD")<=Ii})).reverse();e.releasedFilms=[].concat(Object(Ai["a"])(n),Object(Ai["a"])(e.releasedFilms))},setUnreleasedFilms:function(e,t){var n=t.filter((function(e){return dt()(e.premiereRu,"YYYY-MM-DD")>Ii&&dt()(e.premiereRu,"YYYY-MM-DD")<Ri}));e.unreleasedFilms=[].concat(Object(Ai["a"])(e.unreleasedFilms),Object(Ai["a"])(n))},setFetchingFilms:function(e,t){e.isFetchingFilms=t},setReleaseSort:function(e,t){e.selectedReleaseSort=t},setGenresSort:function(e,t){e.selectedGenresSort=t},setSelectedFilm:function(e,t){e.selectedFilm=t},setTrailerUrlOfSelectedFilm:function(e,t){e.trailersUrlOfSelectedFilm=t},setAgeLimitsOfSelectedFilm:function(e,t){e.ageLimitsOfSelectedFilm=t},setCheckoutModalVisible:function(e,t){e.checkoutModalVisible=t},setLoginModalVisible:function(e,t){e.authModalVisible=t},setSelectedSession:function(e,t){e.selectedSession=t},setTicket:function(e,t){e.selectedTickets=[].concat(Object(Ai["a"])(e.selectedTickets),[t]).sort((function(e,t){return e.seat-t.seat}))},removeTicket:function(e,t){e.selectedTickets=e.selectedTickets.filter((function(e){return e.id!==t}))},clearTickets:function(e){e.selectedTickets=[]},setIsTimeExpired:function(e,t){e.isTimeExpired=t},setAuth:function(e,t){e.isAuth=t},setAuthAccount:function(e,t){e.authAccount=t},clearAuthAccount:function(e){e.authAccount=null}},actions:{fetchFilms:function(e){return Object(Dt["a"])(regeneratorRuntime.mark((function t(){var n,c,i,s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.commit,n("setFetchingFilms",!0),c=Object(Yi["a"])(Ni),t.prev=3,c.s();case 5:if((i=c.n()).done){t.next=30;break}return s=i.value,t.prev=7,t.next=10,fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/premieres?year=".concat(s.format("YYYY"),"&month=").concat(s.format("MMMM").toUpperCase()),{method:"GET",headers:{"X-API-KEY":"bbd5c8d2-662f-428b-9b73-5fb961a663ad","Content-Type":"application/json"}});case 10:return a=t.sent,t.next=13,a.json();case 13:return r=t.sent,t.next=16,n("setFilms",r.items);case 16:return t.next=18,n("setReleasedFilms",r.items);case 18:return t.next=20,n("setUnreleasedFilms",r.items);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](7),console.error(t.t0);case 25:return t.prev=25,n("setFetchingFilms",!1),t.finish(25);case 28:t.next=5;break;case 30:t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](3),c.e(t.t1);case 35:return t.prev=35,c.f(),t.finish(35);case 38:case"end":return t.stop()}}),t,null,[[3,32,35,38],[7,22,25,28]])})))()}}}),Ui=n("5333"),Ei=n("f23d");n("3aed");Object(c["j"])(pe).use(Ui["a"]).use(Ei["a"]).use(Di).use($i).mount("#app")},"596f":function(e,t,n){},"5b79":function(e,t,n){"use strict";n("596f")},6037:function(e,t,n){},"63f2":function(e,t,n){},"67b6":function(e,t,n){},"733e":function(e,t,n){"use strict";n("1af5")},"789e":function(e,t,n){},"7b5d":function(e,t,n){},"80b8":function(e,t,n){"use strict";n("4f81")},"840a":function(e,t,n){},8656:function(e,t,n){},"86dd":function(e,t,n){},"962d":function(e,t,n){"use strict";n("4dab")},9727:function(e,t,n){},"97a7":function(e,t,n){"use strict";n("a566")},"9b19":function(e,t,n){e.exports=n.p+"img/logo.67d4fef4.svg"},a566:function(e,t,n){},b4cf:function(e,t,n){"use strict";n("7b5d")},ba25:function(e,t,n){},ba2d:function(e,t,n){e.exports=n.p+"img/ticket.da8b2b75.svg"},ba7c:function(e,t,n){"use strict";n("4c4a")},bc4f:function(e,t,n){},bc6e:function(e,t,n){},cef2:function(e,t,n){"use strict";n("9727")},d84b:function(e,t,n){"use strict";n("6037")},d8d4:function(e,t,n){},e016:function(e,t,n){},e528:function(e,t,n){"use strict";n("63f2")},eb38:function(e,t,n){"use strict";n("d8d4")},f219:function(e,t,n){"use strict";n("840a")},ff27:function(e,t,n){}});
//# sourceMappingURL=app.45516c66.js.map