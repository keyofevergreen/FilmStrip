(function(e){function t(t){for(var n,a,r=t[0],l=t[1],o=t[2],b=0,d=[];b<r.length;b++)a=r[b],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(d.length)d.shift()();return s.push.apply(s,o||[]),c()}function c(){for(var e,t=0;t<s.length;t++){for(var c=s[t],n=!0,r=1;r<c.length;r++){var l=c[r];0!==i[l]&&(n=!1)}n&&(s.splice(t--,1),e=a(a.s=c[0]))}return e}var n={},i={app:0},s=[];function a(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=e,a.c=n,a.d=function(e,t,c){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(c,n,function(t){return e[t]}.bind(null,n));return c},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/FilmStrip/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var o=0;o<r.length;o++)t(r[o]);var u=l;s.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"008a":function(e,t,c){},"010b":function(e,t,c){"use strict";c("bc6e")},"06da":function(e,t,c){"use strict";c("33c2")},"07dd":function(e,t,c){"use strict";c("008a")},"08a1":function(e,t,c){},"0a75":function(e,t,c){"use strict";c("6c9a")},"0c39":function(e,t,c){"use strict";c("789e")},"10f3":function(e,t,c){"use strict";c("e016")},1197:function(e,t,c){"use strict";c("185e")},"11d0":function(e,t,c){"use strict";c("410e")},1268:function(e,t,c){},"12a8":function(e,t,c){},"13e0":function(e,t,c){"use strict";c("86dd")},"185e":function(e,t,c){},"1af5":function(e,t,c){},"246b":function(e,t,c){"use strict";c("08a1")},"24e6":function(e,t,c){"use strict";c("ff27")},"2cbb":function(e,t,c){"use strict";c("67b6")},"33c2":function(e,t,c){},"35c5":function(e,t,c){},"36bb":function(e,t,c){"use strict";c("1268")},"3b20":function(e,t,c){"use strict";c("35c5")},"410e":function(e,t,c){},"44ba":function(e,t,c){},4678:function(e,t,c){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=s(e);return c(t)}function s(e){if(!c.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id="4678"},4708:function(e,t,c){},"4dab":function(e,t,c){},"4de9":function(e,t,c){},"4eef":function(e,t,c){"use strict";c("bc4f")},"4ffe":function(e,t,c){"use strict";c("4de9")},5133:function(e,t,c){"use strict";c("4708")},"54c6":function(e,t,c){"use strict";c("ba25")},"567e":function(e,t,c){"use strict";c("44ba")},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23");function i(e,t,c,i,s,a){var r=Object(n["V"])("my-header"),l=Object(n["V"])("router-view");return Object(n["L"])(),Object(n["m"])(n["b"],null,[Object(n["p"])(r),Object(n["p"])(l,{class:"wrap content"})],64)}var s=c("5530"),a=(c("e9c4"),{class:"cinema-header"}),r={class:"logo-line-wrap"},l={class:"wrap logo-line"},o={xmlns:"http://www.w3.org/2000/svg",class:"logo-line__logo"},u=["href"],b={class:"menu-line"},d={class:"wrap menu-line__nav"},p=["value"];function f(e,t,c,i,s,f){var m=Object(n["V"])("router-link"),j=Object(n["V"])("ProfileDropdown");return Object(n["L"])(),Object(n["m"])("header",a,[Object(n["n"])("div",r,[Object(n["n"])("div",l,[Object(n["p"])(m,{to:"/"},{default:Object(n["hb"])((function(){return[(Object(n["L"])(),Object(n["m"])("svg",o,[Object(n["n"])("use",{href:s.href},null,8,u)]))]})),_:1}),Object(n["p"])(j)])]),Object(n["n"])("div",b,[Object(n["n"])("nav",d,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(s.refs,(function(e){return Object(n["L"])(),Object(n["k"])(m,{to:e.value,key:e.value,tag:"li"},{default:Object(n["hb"])((function(){return[Object(n["n"])("button",{value:e.value,class:"btn"},Object(n["Y"])(e.label),9,p)]})),_:2},1032,["to"])})),128))])])])}var m=c("9b19"),j=c.n(m),O={class:"menu-item-wrap dropdown-menu__header"};function h(e,t,c,i,s,a){var r=Object(n["V"])("profile-icon"),l=Object(n["V"])("n-icon"),o=Object(n["V"])("n-button"),u=Object(n["V"])("a-menu-divider"),b=Object(n["V"])("a-menu-item"),d=Object(n["V"])("router-link"),p=Object(n["V"])("a-menu"),f=Object(n["V"])("a-dropdown"),m=Object(n["V"])("auth-modal");return Object(n["L"])(),Object(n["m"])(n["b"],null,[e.authAccount?(Object(n["L"])(),Object(n["k"])(f,{key:0,trigger:["click"],placement:"bottomRight"},{overlay:Object(n["hb"])((function(){return[Object(n["p"])(p,{class:"dropdown-menu"},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",O,Object(n["Y"])(e.authAccount.mail),1),Object(n["p"])(u),(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(s.refs,(function(e){return Object(n["L"])(),Object(n["k"])(d,{to:e.value,key:e.value,tag:"li"},{default:Object(n["hb"])((function(){return[(Object(n["L"])(),Object(n["k"])(b,{key:e.value},{default:Object(n["hb"])((function(){return[Object(n["o"])(Object(n["Y"])(e.label),1)]})),_:2},1024))]})),_:2},1032,["to"])})),128)),Object(n["p"])(u),(Object(n["L"])(),Object(n["m"])("button",{key:s.refs.length,class:"menu-item-wrap btn btn-logout",onClick:t[1]||(t[1]=function(){return a.logout&&a.logout.apply(a,arguments)})}," Выход "))]})),_:1})]})),default:Object(n["hb"])((function(){return[Object(n["p"])(o,{class:"profile-btn profile-btn-after-auth",onClick:t[0]||(t[0]=function(e){return e.preventDefault()}),text:""},{default:Object(n["hb"])((function(){return[Object(n["p"])(l,null,{default:Object(n["hb"])((function(){return[Object(n["p"])(r)]})),_:1})]})),_:1})]})),_:1})):(Object(n["L"])(),Object(n["m"])("button",{key:1,class:"btn btn-green profile-btn profile-btn-before-auth",onClick:t[2]||(t[2]=function(e){return a.setModalVisible(!0)})},"Вход")),Object(n["p"])(m)],64)}var v=c("ad25"),g=c("5502"),y=function(e){return Object(n["O"])("data-v-2d99e3ea"),e=e(),Object(n["M"])(),e},k={key:0},_={class:"registration-link-wrap"},w=y((function(){return Object(n["n"])("h2",{class:"auth-header"},"Войти",-1)})),M={key:1},L=y((function(){return Object(n["n"])("h2",{class:"auth-header"},"Регистрация",-1)}));function C(e,t,c,i,s,a){var r=Object(n["V"])("auth-form"),l=Object(n["V"])("registration-form"),o=Object(n["V"])("a-modal");return Object(n["L"])(),Object(n["k"])(o,{visible:s.isVisible,"onUpdate:visible":t[1]||(t[1]=function(e){return s.isVisible=e}),centered:!0,width:"420px",footer:null,afterClose:a.handleCancel,closable:!1,wrapClassName:"modal"},{default:Object(n["hb"])((function(){return[0===s.currentModalPage?(Object(n["L"])(),Object(n["m"])("div",k,[Object(n["n"])("div",_,[Object(n["n"])("a",{class:"auth-header auth-header-registration-link",onClick:t[0]||(t[0]=function(){return a.linkToRegistrationForm&&a.linkToRegistrationForm.apply(a,arguments)})},"Регистрация")]),w,Object(n["p"])(r)])):(Object(n["L"])(),Object(n["m"])("div",M,[L,Object(n["p"])(l)]))]})),_:1},8,["visible","afterClose"])}var S={key:0,class:"error-message"},T={key:0,class:"error-message"},V={class:"btn-wrap"};function F(e,t,c,i,s,a){var r=Object(n["V"])("a-input"),l=Object(n["V"])("a-spin");return Object(n["L"])(),Object(n["m"])("form",{class:"form-wrap",onSubmit:t[3]||(t[3]=Object(n["jb"])((function(){}),["prevent"])),novalidate:""},[Object(n["n"])("label",null,[Object(n["p"])(r,{class:"input",value:s.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return s.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"Введите вашу почту",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(n["L"])(),Object(n["m"])("p",S,Object(n["Y"])(a.userMailErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("label",null,[Object(n["p"])(r,{class:"input",value:s.form.userPassword,"onUpdate:value":t[1]||(t[1]=function(e){return s.form.userPassword=e}),onBlur:i.v$.form.userPassword.$touch,type:"password",placeholder:"Введите ваш пароль"},null,8,["value","onBlur"]),i.v$.form.userPassword.$error?(Object(n["L"])(),Object(n["m"])("p",T,Object(n["Y"])(a.userPasswordErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("div",V,[Object(n["p"])(l,{spinning:s.isFetching},{default:Object(n["hb"])((function(){return[Object(n["n"])("button",{class:"btn btn-auth",onClick:t[2]||(t[2]=function(){return a.handleSuccess&&a.handleSuccess.apply(a,arguments)})},"Войти")]})),_:1},8,["spinning"])])],32)}c("7db0"),c("d3b7");var P=c("25a0"),$=c("e3e1"),Y=(c("ac1f"),c("00b4"),function(e){return/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){11}(\s*)?$/.test(e)}),x=function(e){var t=localStorage.getItem("users"),c=JSON.parse(t);return!c.find((function(t){return t.mail===e}))},A=function(e){var t=localStorage.getItem("users"),c=JSON.parse(t);return!!c.find((function(t){return t.mail===e}))},I=function(e){var t=localStorage.getItem("users"),c=JSON.parse(t);return!c.find((function(t){return t.phoneNumber===e}))},R={name:"AuthForm",setup:function(){return{v$:Object(P["a"])()}},data:function(){return{isFetching:!1,form:{userMail:"",userPassword:""}}},validations:function(){return{form:{userMail:{required:$["c"],email:$["a"],hasRegisteredMail:A},userPassword:{required:$["c"]}}}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({authModalVisible:function(e){return e.authModalVisible}})),{},{userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":this.v$.form.userMail.hasRegisteredMail.$invalid?"* Аккаунта с такой почтой не существует.":null},userPasswordErrors:function(){return this.v$.form.userPassword.required.$invalid?"* Обязательно для заполнения.":null}}),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setAuthModalVisible:"setAuthModalVisible",setAuthAccount:"setAuthAccount"})),{},{setFetching:function(e){this.isFetching=e},validate:function(){var e=this,t=JSON.parse(localStorage.users),c=t.find((function(t){return t.mail===e.form.userMail}));c&&(this.setAuthModalVisible(!1),this.setAuthAccount({mail:c.mail,phoneNumber:c.phoneNumber}),localStorage.setItem("authUser",JSON.stringify({mail:c.mail,phoneNumber:c.phoneNumber,ticketsHistory:c.ticketHistory})))},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),this.v$.$invalid?(this.setFetching(!1),this.form.userPassword=""):setTimeout((function(){e.validate(),e.setFetching(!1)}),1e3)}}),watch:{authModalVisible:function(e){!1===e&&(this.v$.$reset(),this.form.userMail="",this.form.userPassword="")}}},N=(c("0a75"),c("6b0d")),D=c.n(N);const U=D()(R,[["render",F],["__scopeId","data-v-5c1c688c"]]);var E=U,z=Object(n["o"])(" Электронная почта "),B={key:0,class:"error-message"},q=Object(n["o"])(" Ваш номер телефона "),G={key:0,class:"error-message"},J=Object(n["o"])(" Пароль "),H={key:0,class:"error-message"},W=Object(n["o"])(" Подтвердите пароль "),K={key:0,class:"error-message"},X={class:"btn-wrap"};function Q(e,t,c,i,s,a){var r=Object(n["V"])("a-input"),l=Object(n["V"])("a-spin");return Object(n["L"])(),Object(n["m"])("form",{class:"form-wrap",onSubmit:t[5]||(t[5]=Object(n["jb"])((function(){}),["prevent"])),novalidate:""},[Object(n["n"])("label",null,[z,Object(n["p"])(r,{class:"input",value:s.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return s.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"filmstrip@gmail.com",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(n["L"])(),Object(n["m"])("p",B,Object(n["Y"])(a.userMailErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("label",null,[q,Object(n["p"])(r,{class:"input",value:s.form.userPhoneNumber,"onUpdate:value":t[1]||(t[1]=function(e){return s.form.userPhoneNumber=e}),onBlur:i.v$.form.userPhoneNumber.$touch,type:"email",placeholder:"+7 999 666 99 99",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,8,["value","onBlur"]),i.v$.form.userPhoneNumber.$error?(Object(n["L"])(),Object(n["m"])("p",G,Object(n["Y"])(a.userPhoneNumberErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("label",null,[J,Object(n["p"])(r,{class:"input",value:s.form.userPassword,"onUpdate:value":t[2]||(t[2]=function(e){return s.form.userPassword=e}),onBlur:i.v$.form.userPassword.$touch,type:"password",placeholder:"Минимум 8 символов"},null,8,["value","onBlur"]),i.v$.form.userPassword.$error?(Object(n["L"])(),Object(n["m"])("p",H,Object(n["Y"])(a.userPasswordErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("label",null,[W,Object(n["p"])(r,{class:"input",value:s.form.userPasswordRepeat,"onUpdate:value":t[3]||(t[3]=function(e){return s.form.userPasswordRepeat=e}),onBlur:i.v$.form.userPasswordRepeat.$touch,type:"password",placeholder:"Минимум 8 символов"},null,8,["value","onBlur"]),i.v$.form.userPassword.$error?(Object(n["L"])(),Object(n["m"])("p",K,Object(n["Y"])(a.userPasswordErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("div",X,[Object(n["p"])(l,{spinning:s.isFetching},{default:Object(n["hb"])((function(){return[Object(n["n"])("button",{class:"btn btn-registration",onClick:t[4]||(t[4]=function(){return a.handleSuccess&&a.handleSuccess.apply(a,arguments)})},"Зарегистрироваться")]})),_:1},8,["spinning"])])],32)}var Z={name:"RegistrationForm",setup:function(){return{v$:Object(P["a"])()}},data:function(){return{isFetching:!1,form:{userMail:"",userPhoneNumber:"",userPassword:"",userPasswordRepeat:""}}},validations:function(){return{form:{userMail:{required:$["c"],email:$["a"],hasUnregisteredMail:x},userPhoneNumber:{required:$["c"],hasValidPhoneNumber:Y,hasUnregisteredPhoneNumber:I},userPassword:{required:$["c"],minLength:Object($["b"])(8),sameAs:Object($["d"])(this.form.userPasswordRepeat)},userPasswordRepeat:{required:$["c"]}}}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({authModalVisible:function(e){return e.authModalVisible}})),{},{userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":this.v$.form.userMail.hasUnregisteredMail.$invalid?"* Аккаунт с такой почтой уже существует.":null},userPhoneNumberErrors:function(){return this.v$.form.userPhoneNumber.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPhoneNumber.hasValidPhoneNumber.$invalid?"* Неправильный формат номера.":this.v$.form.userPhoneNumber.hasUnregisteredPhoneNumber.$invalid?"* Аккаунт с таким номером уже существует.":null},userPasswordErrors:function(){return this.v$.form.userPassword.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPassword.minLength.$invalid?"* Минимальная длинна пароля - 8 символов.":this.v$.form.userPassword.sameAs.$invalid?"* Пароли не совпадают.":null}}),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setAuthModalVisible:"setAuthModalVisible",setAuthAccount:"setAuthAccount"})),{},{setFetching:function(e){this.isFetching=e},createAccount:function(){var e=JSON.parse(localStorage.users),t={mail:this.form.userMail,phoneNumber:this.form.userPhoneNumber,password:this.form.userPassword,ticketsHistory:[]};e.push(t),localStorage.setItem("users",JSON.stringify(e)),this.setAuthAccount(t)},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),this.v$.$invalid?this.setFetching(!1):setTimeout((function(){e.setAuthModalVisible(!1),e.createAccount(),e.setFetching(!1)}),1e3)}})};c("df59");const ee=D()(Z,[["render",Q],["__scopeId","data-v-17a2b94f"]]);var te=ee,ce={name:"AuthModal",components:{AuthForm:E,RegistrationForm:te},data:function(){return{isVisible:!1,currentModalPage:0}},computed:Object(s["a"])({},Object(g["e"])({authModalVisible:function(e){return e.authModalVisible}})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setAuthModalVisible:"setAuthModalVisible"})),{},{handleCancel:function(){this.setAuthModalVisible(!1),this.currentModalPage=0},linkToRegistrationForm:function(){this.currentModalPage=1}}),watch:{authModalVisible:function(e){this.isVisible=e}},beforeMount:function(){!0===this.isVisible&&(this.isVisible=!1,this.setAuthModalVisible(!1))}};c("06da");const ne=D()(ce,[["render",C],["__scopeId","data-v-2d99e3ea"]]);var ie=ne,se={name:"ProfileDropdown",components:{ProfileIcon:v["a"],AuthModal:ie},data:function(){return{isModalVisible:!1,refs:[{value:"/profile",label:"Личный кабинет"},{value:"/profile/history",label:"История"}]}},computed:Object(s["a"])({},Object(g["e"])({authAccount:function(e){return e.authAccount}})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setAuthModalVisible:"setAuthModalVisible",clearAuthAccount:"clearAuthAccount"})),{},{hide:function(){this.isModalVisible=!1},setModalVisible:function(e){this.setAuthModalVisible(e)},logout:function(){this.clearAuthAccount(),delete localStorage.authUser}})};c("07dd");const ae=D()(se,[["render",h],["__scopeId","data-v-3cd9e91a"]]);var re=ae,le={name:"my-header",components:{ProfileDropdown:re},data:function(){return{href:"".concat(j.a,"#fillStrip-logo"),refs:[{value:"/online-cinema",label:"Онлайн-кинотеатр"},{value:"/films",label:"Фильмы"},{value:"/cinema-rent",label:"Аренда кинозала"}]}}};c("b4cf");const oe=D()(le,[["render",f],["__scopeId","data-v-d8520038"]]);var ue=oe,be={name:"App",components:{MyHeader:ue},methods:Object(s["a"])({},Object(g["b"])({setFetchedFilms:"fetchFilms"})),mounted:function(){this.setFetchedFilms(),localStorage.getItem("users")||localStorage.setItem("users",JSON.stringify([]))}};c("13e0");const de=D()(be,[["render",i]]);var pe=de,fe=c("6c02");function me(e,t,c,i,s,a){var r=Object(n["V"])("filmstrip-swiper"),l=Object(n["V"])("film-list");return Object(n["L"])(),Object(n["m"])("main",null,[Object(n["p"])(r),Object(n["p"])(l,{mode:"crop"})])}var je={key:1};function Oe(e,t,c,i,s,a){var r=Object(n["V"])("filmstrip-item"),l=Object(n["V"])("swiper-slide"),o=Object(n["V"])("swiper");return!1===e.isFetching?(Object(n["L"])(),Object(n["k"])(o,{key:0,slidesPerView:3,slidesPerGroup:1,spaceBetween:0,loop:!0,loopFillGroupWithBlank:!0,autoplay:{delay:4e3,disableOnInteraction:!1},breakpoints:{411:{slidesPerView:4},768:{slidesPerView:5},1026:{slidesPerView:6}}},{default:Object(n["hb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.currentPremiers,(function(e){return Object(n["L"])(),Object(n["k"])(l,{film:e,key:e.kinopoiskId},{default:Object(n["hb"])((function(){return[Object(n["p"])(r,{film:e},null,8,["film"])]})),_:2},1032,["film"])})),128))]})),_:1})):(Object(n["L"])(),Object(n["m"])("div",je))}var he=c("8349"),ve=(c("bbe3"),c("4da1")),ge=function(e){return Object(n["O"])("data-v-14fa8060"),e=e(),Object(n["M"])(),e},ye={class:"filmstrip-item"},ke=ge((function(){return Object(n["n"])("div",{class:"filmstrip-item__perforation top"},[Object(n["n"])("div"),Object(n["n"])("div")],-1)})),_e={class:"filmstrip-item__poster"},we=["src","alt"],Me=ge((function(){return Object(n["n"])("div",{class:"filmstrip-item__perforation down"},[Object(n["n"])("div"),Object(n["n"])("div")],-1)}));function Le(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div",ye,[ke,Object(n["n"])("div",_e,[Object(n["n"])("img",{src:c.film.posterUrlPreview,alt:c.film.nameRu},null,8,we)]),Me])}var Ce={name:"FilmstripItem",props:{film:Object}};c("2cbb");const Se=D()(Ce,[["render",Le],["__scopeId","data-v-14fa8060"]]);var Te=Se;ve["c"].use([ve["a"],ve["b"]]);var Ve={name:"FilmstripSwiper",components:{Swiper:he["a"],SwiperSlide:he["b"],FilmstripItem:Te},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({isFetching:function(e){return e.isFetchingFilms}})),Object(g["c"])({currentPremiers:"currentPremiers"}))};c("24e6");const Fe=D()(Ve,[["render",Oe],["__scopeId","data-v-cd1b60c0"]]);var Pe=Fe,$e={key:0,class:"film-list-full"},Ye={key:1,class:"film-list-crop"};function xe(e,t,c,i,s,a){var r=Object(n["V"])("sort-by-release-buttons"),l=Object(n["V"])("film-list-item"),o=Object(n["V"])("my-film-swiper");return Object(n["L"])(),Object(n["m"])(n["b"],null,[Object(n["p"])(r),"full"===c.mode?(Object(n["L"])(),Object(n["m"])("div",$e,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.films,(function(e){return Object(n["L"])(),Object(n["k"])(l,{key:e.kinopoiskId,film:e},null,8,["film"])})),128))])):(Object(n["L"])(),Object(n["m"])("div",Ye,[Object(n["p"])(o,{filmList:e.isFetching?s.fetchingFilms:e.films},null,8,["filmList"])]))],64)}var Ae=function(e){return Object(n["O"])("data-v-315d133a"),e=e(),Object(n["M"])(),e},Ie={class:"release-sort"},Re=Ae((function(){return Object(n["n"])("span",null,"Сегодня в кино",-1)})),Ne=[Re],De=Ae((function(){return Object(n["n"])("span",null,"Скоро в кино",-1)})),Ue=[De];function Ee(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div",Ie,[Object(n["n"])("div",{onClick:t[0]||(t[0]=function(t){return e.setSort("released")}),class:Object(n["C"])(["btn btn-release","released"===e.isReleasedFilms?"active":"inactive"])},Ne,2),Object(n["n"])("div",{onClick:t[1]||(t[1]=function(t){return e.setSort("unreleased")}),class:Object(n["C"])(["btn btn-release","unreleased"===e.isReleasedFilms?"active":"inactive"])},Ue,2)])}var ze={name:"SortByReleaseButtons",methods:Object(s["a"])({},Object(g["d"])({setSort:"setReleaseSort"})),computed:Object(s["a"])({},Object(g["e"])({isReleasedFilms:function(e){return e.selectedReleaseSort}}))};c("962d");const Be=D()(ze,[["render",Ee],["__scopeId","data-v-315d133a"]]);var qe=Be,Ge=(c("fb6a"),function(e){return Object(n["O"])("data-v-06515d44"),e=e(),Object(n["M"])(),e}),Je={class:"dashed-card__content"},He={xmlns:"http://www.w3.org/2000/svg"},We=["href"],Ke=Object(n["o"])("Все фильмы "),Xe=Ge((function(){return Object(n["n"])("br",null,null,-1)}));function Qe(e,t,c,i,s,a){var r=Object(n["V"])("film-list-item"),l=Object(n["V"])("swiper-slide"),o=Object(n["V"])("router-link"),u=Object(n["V"])("swiper");return Object(n["L"])(),Object(n["k"])(u,{slidesPerView:1,slidesPerGroup:1,spaceBetween:10,centeredSlides:!0,breakpoints:{420:{slidesPerView:2,spaceBetween:20,centeredSlides:!1},768:{slidesPerView:3,spaceBetween:30,centeredSlides:!1},910:{slidesPerView:4,spaceBetween:20,centeredSlides:!1},1141:{slidesPerView:5,centeredSlides:!1}}},{default:Object(n["hb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(c.filmList.slice(0,4),(function(e){return Object(n["L"])(),Object(n["k"])(l,{key:e.kinopoiskId},{default:Object(n["hb"])((function(){return[Object(n["p"])(r,{film:e,class:"film-list__item"},null,8,["film"])]})),_:2},1024)})),128)),Object(n["p"])(l,{class:"film-list__item film-list__dashed-card"},{default:Object(n["hb"])((function(){return[Object(n["p"])(o,{to:"/films"},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",Je,[(Object(n["L"])(),Object(n["m"])("svg",He,[Object(n["n"])("use",{href:s.svgHref},null,8,We)])),Object(n["n"])("p",null,[Ke,Xe,Object(n["o"])("("+Object(n["Y"])(c.filmList.length)+")",1)])])]})),_:1})]})),_:1})]})),_:1})}c("a15b"),c("d81d");var Ze=function(e){return Object(n["O"])("data-v-d93d9864"),e=e(),Object(n["M"])(),e},et={key:0},tt={class:"film-list__item-card"},ct={class:"item-card__premiere"},nt=["src","alt"],it={class:"film-list__item-genres"},st={class:"film-list__item-name"},at={key:1,class:"film-list__item-fetching"},rt=Ze((function(){return Object(n["n"])("div",{class:"item-fetching__premiere"},"Loading",-1)})),lt=Ze((function(){return Object(n["n"])("div",{class:"item-fetching__poster"},null,-1)})),ot=[rt,lt];function ut(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div",{onClick:t[0]||(t[0]=function(t){return e.$router.push("/films/".concat(c.film.kinopoiskId))})},[e.isFetching?(Object(n["L"])(),Object(n["m"])("div",at,ot)):(Object(n["L"])(),Object(n["m"])("div",et,[Object(n["n"])("div",tt,[Object(n["n"])("div",ct,Object(n["Y"])(a.setPremiere(c.film.premiereRu)),1),Object(n["n"])("img",{src:c.film.posterUrlPreview,alt:c.film.nameRu,class:"item-card__poster"},null,8,nt)]),Object(n["n"])("div",it,Object(n["Y"])(c.film.genres.map((function(e){return e.genre})).join(", ")),1),Object(n["n"])("h4",st,Object(n["Y"])(c.film.nameRu),1)]))])}c("a9e3");var bt=c("c1df"),dt=c.n(bt),pt={name:"FilmListItem",props:{film:Object},methods:{setPremiere:function(e){var t=dt()(),c=dt()(e,"YYYY-MM-DD"),n=Number(t.diff(c,"days",!0));return n>=0?c.calendar({sameDay:"[Премьера]",lastDay:"[Новинка]",lastWeek:"[Новинка]",sameElse:" "}):c.calendar({nextDay:"[Завтра]",nextWeek:"[В кино с] DD.MM",sameElse:"[В кино с] DD.MM"})}},computed:Object(s["a"])({},Object(g["e"])({isFetching:function(e){return e.isFetchingFilms}}))};c("5133");const ft=D()(pt,[["render",ut],["__scopeId","data-v-d93d9864"]]);var mt=ft,jt=c("ba2d"),Ot=c.n(jt);ve["c"].use([ve["b"]]);var ht={name:"FilmListSwiper",components:{Swiper:he["a"],SwiperSlide:he["b"],FilmListItem:mt},props:{filmList:Array},data:function(){return{svgHref:"".concat(Ot.a,"#ticket")}}};c("10f3");const vt=D()(ht,[["render",Qe],["__scopeId","data-v-06515d44"]]);var gt=vt,yt={name:"FilmList",props:{mode:String},components:{SortByReleaseButtons:qe,MyFilmSwiper:gt,FilmListItem:mt},data:function(){return{fetchingFilms:["fetchingFilm","fetchingFilm","fetchingFilm","fetchingFilm"]}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({isReleasedFilms:function(e){return e.selectedReleaseSort},selectedGenreSort:function(e){return e.selectedGenreSort},isFetching:function(e){return e.isFetchingFilms}})),Object(g["c"])({films:"filmsAfterSorts"}))};c("567e");const kt=D()(yt,[["render",xe],["__scopeId","data-v-04a0970e"]]);var _t=kt,wt={name:"HomePage",components:{FilmstripSwiper:Pe,FilmList:_t},data:function(){return{films:[]}}};const Mt=D()(wt,[["render",me]]);var Lt=Mt;function Ct(e,t,c,i,s,a){var r=Object(n["V"])("sort-by-genres"),l=Object(n["V"])("film-list");return Object(n["L"])(),Object(n["m"])("main",null,[Object(n["p"])(r,{options:s.options},null,8,["options"]),Object(n["p"])(l,{mode:"full"})])}var St={class:"container"};function Tt(e,t,c,i,s,a){var r=Object(n["V"])("a-select-option"),l=Object(n["V"])("a-select");return Object(n["L"])(),Object(n["m"])("div",St,[Object(n["p"])(l,{"default-value":null,value:i.selectedValues,"onUpdate:value":t[0]||(t[0]=function(e){return i.selectedValues=e})},{default:Object(n["hb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(c.options,(function(e){return Object(n["L"])(),Object(n["k"])(r,{key:e.value,value:e.value},{default:Object(n["hb"])((function(){return[Object(n["o"])(Object(n["Y"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])])}var Vt={name:"SortByGenres",props:{options:{type:Array,default:function(){return[]}}},setup:function(){return{selectedValues:Object(n["R"])(null)}},methods:Object(s["a"])({},Object(g["d"])({setSort:"setGenresSort"})),watch:{selectedValues:function(e){this.setSort(e)}}};c("cef2");const Ft=D()(Vt,[["render",Tt],["__scopeId","data-v-55e1635b"]]);var Pt=Ft,$t={name:"FilmListPage",components:{FilmList:_t,SortByGenres:Pt},data:function(){return{options:[{label:"Все фильмы",value:null},{label:"комедия",value:"комедия"},{label:"мультфильм",value:"мультфильм"},{label:"детский",value:"детский"},{label:"семейный",value:"семейный"},{label:"приключения",value:"приключения"},{label:"фантастика",value:"фантастика"},{label:"фэнтези",value:"фэнтези"},{label:"боевик",value:"боевик"},{label:"криминал",value:"криминал"},{label:"драма",value:"драма"},{label:"мелодрама",value:"мелодрама"},{label:"мюзикл",value:"мюзикл"},{label:"военный",value:"военный"},{label:"документальный",value:"документальный"},{label:"триллер",value:"триллер"},{label:"ужасы",value:"ужасы"},{label:"биография",value:"биография"},{label:"история",value:"история"},{label:"спорт",value:"спорт"},{label:"короткометражка",value:"короткометражка"},{label:"детектив",value:"детектив"},{label:"концерт",value:"концерт"}]}}};const Yt=D()($t,[["render",Ct]]);var xt=Yt,At=function(e){return Object(n["O"])("data-v-3b7760fe"),e=e(),Object(n["M"])(),e},It={key:0},Rt={class:"data-line"},Nt=At((function(){return Object(n["n"])("span",null,"Расписание на сегодня",-1)}));function Dt(e,t,c,i,s,a){var r=Object(n["V"])("film-item"),l=Object(n["V"])("date-picker"),o=Object(n["V"])("session-schedule");return e.selectedFilm&&!s.isFetching?(Object(n["L"])(),Object(n["m"])("div",It,[Object(n["p"])(r,{film:e.selectedFilm,trailerURL:e.trailerURL},null,8,["film","trailerURL"]),Object(n["n"])("div",Rt,[Nt,Object(n["p"])(l)]),Object(n["p"])(o)])):Object(n["l"])("",!0)}var Ut=c("1da1"),Et=(c("96cf"),c("4de4"),c("b0c0"),c("466d"),c("a4d3"),c("e01a"),{class:"film-item"}),zt=["src"],Bt={key:1,class:"film-item__poster"},qt=["src","alt"],Gt={class:"film-item__content"},Jt={class:"film-item__header"},Ht={class:"film-item__country"},Wt={class:"film-item__tags"},Kt=Object(n["o"])(" Рейтинг фильма по версии Imdb "),Xt={class:"film-item__genres"},Qt={key:0,class:"film-item__duration"},Zt={class:"film-item__description"};function ec(e,t,c,i,s,a){var r=Object(n["V"])("my-tag");return Object(n["L"])(),Object(n["m"])("div",Et,[c.trailerURL?(Object(n["L"])(),Object(n["m"])("iframe",{key:0,class:"film-item__frame",src:c.trailerURL,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,zt)):(Object(n["L"])(),Object(n["m"])("div",Bt,[Object(n["n"])("img",{src:c.film.posterUrlPreview,alt:"Постер ".concat(c.film.nameRu)},null,8,qt)])),Object(n["n"])("div",Gt,[Object(n["n"])("h1",Jt,Object(n["Y"])(c.film.nameRu),1),Object(n["n"])("p",Ht,Object(n["Y"])(c.film.nameOriginal)+" ("+Object(n["Y"])(c.film.year)+", "+Object(n["Y"])(c.film.countries.map((function(e){return e.country})).join(", "))+")",1),Object(n["n"])("div",Wt,[Object(n["p"])(r,{text:e.ageLimits,type:"dotted"},null,8,["text"]),c.film.ratingImdb?(Object(n["L"])(),Object(n["k"])(r,{key:0,text:c.film.ratingImdb,popover:!0,type:"green"},{default:Object(n["hb"])((function(){return[Kt]})),_:1},8,["text"])):Object(n["l"])("",!0)]),Object(n["n"])("p",Xt,Object(n["Y"])(c.film.genres.length>1?"Жанры: ":"Жанр: ")+" "+Object(n["Y"])(c.film.genres.map((function(e){return e.genre})).join(", ")),1),c.film.filmLength?(Object(n["L"])(),Object(n["m"])("p",Qt,"Длительность: "+Object(n["Y"])(a.setDuration(c.film.filmLength)),1)):Object(n["l"])("",!0),Object(n["n"])("p",Zt,Object(n["Y"])(c.film.description),1)])])}c("25f0"),c("99af");var tc={class:"popover-description"};function cc(e,t,c,i,s,a){var r=Object(n["V"])("a-popover");return c.popover?(Object(n["L"])(),Object(n["k"])(r,{key:0},{content:Object(n["hb"])((function(){return[Object(n["n"])("div",tc,[Object(n["U"])(e.$slots,"default",{},void 0,!0)])]})),default:Object(n["hb"])((function(){return[Object(n["n"])("div",{class:Object(n["C"])(["tag","".concat(c.isAnimated?"animated":"","\n         ").concat(c.type?c.type:"")])},Object(n["Y"])(c.text),3)]})),_:3})):(Object(n["L"])(),Object(n["m"])("div",{key:1,class:Object(n["C"])(["tag","".concat(c.type?c.type:"")])},Object(n["Y"])(c.text),3))}var nc={name:"MyTag",props:{text:{type:[String,Number],required:!0},type:{type:String,required:!0},isAnimated:{type:Boolean},popover:{type:Boolean}}};c("e528");const ic=D()(nc,[["render",cc],["__scopeId","data-v-3ed32008"]]);var sc=ic,ac={name:"FilmItem",components:{MyTag:sc},props:{trailerURL:{type:String},film:{type:Object}},computed:Object(s["a"])({},Object(g["e"])({ageLimits:function(e){return e.ageLimitsOfSelectedFilm}})),methods:{setDuration:function(e){var t=e.toString().slice(-1);return"".concat(e,"1"===t?" минута":t>1&&t<5?" минуты":" минут")}}};c("733e");const rc=D()(ac,[["render",ec],["__scopeId","data-v-7386cccc"]]);var lc=rc,oc={class:"session-schedule__item"},uc={class:"place"},bc={class:"place__name header"},dc={class:"place__address"},pc={class:"sessions"},fc={class:"header"},mc={class:"sessions__container"};function jc(e,t,c,i,s,a){var r=Object(n["V"])("session-item"),l=Object(n["V"])("checkout-modal");return Object(n["L"])(),Object(n["m"])(n["b"],null,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.cinemas,(function(e){return Object(n["L"])(),Object(n["m"])("div",{key:e.id,class:"session-schedule"},[Object(n["n"])("div",oc,[Object(n["n"])("div",uc,[Object(n["n"])("h3",bc,Object(n["Y"])(e.name),1),Object(n["n"])("div",dc,Object(n["Y"])(e.address),1)]),Object(n["n"])("div",pc,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.formats,(function(t){return Object(n["L"])(),Object(n["m"])("div",{key:t},[Object(n["n"])("h3",fc,Object(n["Y"])(t.format),1),Object(n["n"])("div",mc,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(t.sessions,(function(c){return Object(n["L"])(),Object(n["k"])(r,{key:"".concat(c.time,"-").concat(c.hall,"-").concat(t.format),session:a.setSession(e,t,c)},null,8,["session"])})),128))])])})),128))])])])})),128)),Object(n["p"])(l)],64)}var Oc={class:"session-item"},hc={class:"session-item__price"};function vc(e,t,c,i,s,a){var r=Object(n["V"])("a-button");return Object(n["L"])(),Object(n["m"])("div",Oc,[Object(n["p"])(r,{class:Object(n["C"])(["btn session-item__btn",s.isDisabled?"disabled":"available"]),disabled:s.isDisabled,onClick:t[0]||(t[0]=function(e){return a.setSession(c.session)})},{default:Object(n["hb"])((function(){return[Object(n["o"])(Object(n["Y"])(c.session.time),1)]})),_:1},8,["disabled","class"]),Object(n["n"])("span",hc,Object(n["Y"])(c.session.price)+" ₽",1)])}var gc={name:"SessionItem",props:{session:{type:Object}},data:function(){return{interval:null,isDisabled:dt()(this.session.time,"hh:mm")<dt()()}},methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setCheckoutModalVisible:"setCheckoutModalVisible",setSelectedSession:"setSelectedSession"})),{},{setSession:function(e){this.setCheckoutModalVisible(!0),this.setSelectedSession(e)},startTimer:function(){this.interval=setInterval(this.isSessionStarter,1e3)},isSessionStarter:function(){dt()(this.session.time,"hh:mm")<dt()()?(this.isDisabled=!0,this.stopTimer()):this.isDisabled=!1},stopTimer:function(){clearInterval(this.interval)}}),beforeMount:function(){this.startTimer()},unmounted:function(){this.stopTimer()}};c("010b");const yc=D()(gc,[["render",vc],["__scopeId","data-v-79268717"]]);var kc=yc,_c=(c("202f"),{class:"modal-wrap"}),wc={key:1,class:"step-content"},Mc={key:2,class:"step-content"},Lc={key:3,class:"step-content"},Cc=Object(n["o"])(" Назад "),Sc=Object(n["o"])(" Продолжить "),Tc=Object(n["o"])(" Перейти к оплате "),Vc=Object(n["o"])(" Вернуться к расписанию сеансов ");function Fc(e,t,c,i,s,a){var r=this,l=Object(n["V"])("a-step"),o=Object(n["V"])("a-steps"),u=Object(n["V"])("warning-step"),b=Object(n["V"])("seats-picking-step"),d=Object(n["V"])("checkout-step"),p=Object(n["V"])("a-button"),f=Object(n["V"])("chosen-seats-info"),m=Object(n["V"])("a-modal");return Object(n["L"])(),Object(n["k"])(m,{visible:s.isVisible,"onUpdate:visible":t[0]||(t[0]=function(e){return s.isVisible=e}),width:"980px",centered:!0,footer:null,wrapClassName:"modal",afterClose:a.handleCancel},{default:Object(n["hb"])((function(){return[Object(n["n"])("div",_c,[r.isTimeExpired?Object(n["l"])("",!0):(Object(n["L"])(),Object(n["k"])(o,{key:0,current:s.currentModalPage,class:"modal__steps"},{default:Object(n["hb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(s.steps,(function(e){return Object(n["L"])(),Object(n["k"])(l,{key:e.title,title:e.title},null,8,["title"])})),128))]})),_:1},8,["current"])),0===s.currentModalPage?(Object(n["L"])(),Object(n["m"])("div",wc,[Object(n["p"])(u)])):Object(n["l"])("",!0),1===s.currentModalPage?(Object(n["L"])(),Object(n["m"])("div",Mc,[Object(n["p"])(b)])):Object(n["l"])("",!0),2===s.currentModalPage?(Object(n["L"])(),Object(n["m"])("div",Lc,[Object(n["p"])(d)])):Object(n["l"])("",!0)]),Object(n["n"])("div",{class:Object(n["C"])(["steps-action",r.isTimeExpired?"centered":""])},[s.currentModalPage>1&&!e.isTimeExpired?(Object(n["L"])(),Object(n["k"])(p,{key:0,style:{"margin-left":"8px"},onClick:a.prev},{default:Object(n["hb"])((function(){return[Cc]})),_:1},8,["onClick"])):Object(n["l"])("",!0),0===s.currentModalPage?(Object(n["L"])(),Object(n["k"])(p,{key:1,type:"primary",onClick:a.next},{default:Object(n["hb"])((function(){return[Sc]})),_:1},8,["onClick"])):Object(n["l"])("",!0),1===s.currentModalPage&&e.tickets.length>0?(Object(n["L"])(),Object(n["k"])(f,{key:2,type:"crop"})):Object(n["l"])("",!0),1===s.currentModalPage?(Object(n["L"])(),Object(n["k"])(p,{key:3,type:"primary",onClick:a.next,disabled:s.isDisabled},{default:Object(n["hb"])((function(){return[Tc]})),_:1},8,["onClick","disabled"])):Object(n["l"])("",!0),s.currentModalPage==s.steps.length-1&&r.isTimeExpired?(Object(n["L"])(),Object(n["k"])(p,{key:4,type:"primary",onClick:a.handleCancel},{default:Object(n["hb"])((function(){return[Vc]})),_:1},8,["onClick"])):Object(n["l"])("",!0)],2)]})),_:1},8,["visible","afterClose"])}var Pc=function(e){return Object(n["O"])("data-v-5a4cf67c"),e=e(),Object(n["M"])(),e},$c=Pc((function(){return Object(n["n"])("h2",null,"Дорогие гости, просим принять во внимание меры предосторожности в связи с эпидемиологической ситуацией:",-1)})),Yc=Pc((function(){return Object(n["n"])("ul",null,[Object(n["n"])("li",null,"― Соблюдайте правила личной гигиены"),Object(n["n"])("li",null,"― Пользуйтесь бесконтактными способами оплаты"),Object(n["n"])("li",null,"― Соблюдайте социальную дистанцию на расстоянии не менее 1,5 метра"),Object(n["n"])("li",null,"― Воздержитесь от посещения кинотеатра при наличии симптомов, характерных для ОРВИ")],-1)})),xc=Pc((function(){return Object(n["n"])("p",null,[Object(n["n"])("strong",null,"Для посещения кинотеатра так же необходим QR-код, подтверждающий вакцинацию от коронавируса")],-1)}));function Ac(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])(n["b"],null,[$c,Yc,xc],64)}var Ic={name:"WarningStep"};c("54c6");const Rc=D()(Ic,[["render",Ac],["__scopeId","data-v-5a4cf67c"]]);var Nc=Rc,Dc=function(e){return Object(n["O"])("data-v-4f368b24"),e=e(),Object(n["M"])(),e},Uc={key:0,class:"seats-info-wrap"},Ec=["onClick"],zc=Dc((function(){return Object(n["n"])("g",null,[Object(n["n"])("path",{d:"M394,75.8L249.6,220.2L105.2,75.8c-8.2-8.2-21.6-8.2-29.8,0s-8.2,21.6,0,29.8L219.8,250L75.4,394.4\r\n\t\t          c-8.2,8.2-8.2,21.6,0,29.8c8.2,8.2,21.6,8.2,29.8,0l144.4-144.4L394,424.2c8.2,8.2,21.6,8.2,29.8,0c8.2-8.2,8.2-21.6,0-29.8\r\n\t\t          L279.4,250l144.4-144.4c8.2-8.2,8.2-21.6,0-29.8C415.6,67.6,402.3,67.6,394,75.8z"})],-1)})),Bc=[zc],qc={type:"primary"},Gc={key:1,class:"seats-info-wrap-full"},Jc={class:"film-name"},Hc={class:"tags-container"},Wc={class:"cinema-address"},Kc={class:"session-time"},Xc={class:"order-info"},Qc={class:"order-info__ticket-item-wrap"},Zc={class:"ticket-item__seat-info"},en=Dc((function(){return Object(n["n"])("div",{class:"ticket-item__dotted-line"},null,-1)})),tn={class:"ticket-item__seat-price"},cn={class:"order-info__total-price"};function nn(e,t,c,i,s,a){var r=Object(n["V"])("a-popover"),l=Object(n["V"])("my-tag");return"crop"===c.type?(Object(n["L"])(),Object(n["m"])("div",Uc,[Object(n["p"])(r,{modelValue:s.visible,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.visible=e}),trigger:"click"},{content:Object(n["hb"])((function(){return[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.tickets,(function(t){return Object(n["L"])(),Object(n["m"])("div",{key:"".concat(t.row,"-").concat(t.seat),class:"seats-info"},[Object(n["n"])("span",null,"Ряд "+Object(n["Y"])(t.row)+", Место "+Object(n["Y"])(t.seat)+" ― "+Object(n["Y"])(e.session.price)+"₽",1),(Object(n["L"])(),Object(n["m"])("svg",{class:"delete-button",onClick:function(c){return e.removeTicket(t.id)},xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 500 500","xml:space":"preserve"},Bc,8,Ec))])})),128))]})),default:Object(n["hb"])((function(){return[Object(n["n"])("a",qc,Object(n["Y"])(e.getCountInfoAboutTickets),1)]})),_:1},8,["modelValue"]),Object(n["n"])("span",null,"за "+Object(n["Y"])(e.session.price*e.tickets.length)+"₽",1)])):"full"===c.type?(Object(n["L"])(),Object(n["m"])("div",Gc,[Object(n["n"])("h1",Jc,Object(n["Y"])(e.film.nameRu),1),Object(n["n"])("div",Hc,[Object(n["p"])(l,{text:e.ageLimits,type:"dotted"},null,8,["text"]),Object(n["p"])(l,{text:e.session.format,type:"green","is-animated":"3D"===e.session.format,popover:"3D"===e.session.format},{default:Object(n["hb"])((function(){return[Object(n["o"])(Object(n["Y"])("3D"===e.session.format?"3D-очки выдаются перед входом в зал 🕶":null),1)]})),_:1},8,["text","is-animated","popover"])]),Object(n["n"])("div",Wc,[Object(n["n"])("p",null,Object(n["Y"])(e.session.cinema.name)+", Зал "+Object(n["Y"])(e.session.hall),1),Object(n["n"])("p",null,Object(n["Y"])(e.session.cinema.address),1)]),Object(n["n"])("p",Kc,"Сегодня в "+Object(n["Y"])(e.session.time),1),Object(n["n"])("div",Xc,[Object(n["n"])("h3",null,Object(n["Y"])(e.getCountInfoAboutTickets),1),Object(n["n"])("div",Qc,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.tickets,(function(t){return Object(n["L"])(),Object(n["m"])("div",{class:"order-info__ticket-item",key:t.id},[Object(n["n"])("div",Zc,"Ряд "+Object(n["Y"])(t.row)+", Место "+Object(n["Y"])(t.seat),1),en,Object(n["n"])("div",tn,Object(n["Y"])(e.session.price)+"₽",1)])})),128))]),Object(n["n"])("div",cn,"Итого: "+Object(n["Y"])(e.tickets.length*e.session.price)+"₽",1)])])):Object(n["l"])("",!0)}var sn={name:"ChosenSeatsInfo",components:{MyTag:sc},props:{type:{type:String,required:!0}},data:function(){return{visible:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({tickets:function(e){return e.selectedTickets},session:function(e){return e.selectedSession},film:function(e){return e.selectedFilm},ageLimits:function(e){return e.ageLimitsOfSelectedFilm}})),Object(g["c"])({getCountInfoAboutTickets:"getCountInfoAboutTickets"})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({removeTicket:"removeTicket"})),{},{hide:function(){this.visible=!1}})};c("4ffe");const an=D()(sn,[["render",nn],["__scopeId","data-v-4f368b24"]]);var rn=an,ln=function(e){return Object(n["O"])("data-v-94475aae"),e=e(),Object(n["M"])(),e},on={class:"film-header"},un={class:"film-header__tags-container"},bn=Object(n["o"])(" 3D-очки выдаются перед входом в зал 🕶 "),dn={class:"film-header__cinema"},pn=ln((function(){return Object(n["n"])("ul",{class:"showcase"},[Object(n["n"])("li",null,[Object(n["n"])("div",{class:"seat"}),Object(n["n"])("small",null,"Свободно")]),Object(n["n"])("li",null,[Object(n["n"])("div",{class:"seat selected"}),Object(n["n"])("small",null,"Выбрано")]),Object(n["n"])("li",null,[Object(n["n"])("div",{class:"seat occupied"}),Object(n["n"])("small",null,"Занято")])],-1)})),fn={class:"overflow-wrapper"};function mn(e,t,c,i,s,a){var r=Object(n["V"])("my-tag"),l=Object(n["V"])("seats-picker");return Object(n["L"])(),Object(n["m"])(n["b"],null,[Object(n["n"])("div",on,[Object(n["n"])("h1",null,Object(n["Y"])(e.film.nameRu),1),Object(n["n"])("div",un,[Object(n["p"])(r,{text:e.ageLimits,type:"dotted"},null,8,["text"]),Object(n["p"])(r,{text:e.session.format,type:"green","is-animated":"3D"===e.session.format,popover:"3D"===e.session.format},{default:Object(n["hb"])((function(){return[bn]})),_:1},8,["text","is-animated","popover"])]),Object(n["n"])("p",dn,Object(n["Y"])(e.session.cinema.name)+", Зал "+Object(n["Y"])(e.session.hall),1)]),pn,Object(n["n"])("div",fn,[Object(n["p"])(l)])],64)}var jn=function(e){return Object(n["O"])("data-v-4998ce66"),e=e(),Object(n["M"])(),e},On={class:"container"},hn=jn((function(){return Object(n["n"])("div",{class:"screen"},"Экран",-1)})),vn={class:"seats"},gn={class:"row-number"},yn={class:"row-number"};function kn(e,t,c,i,s,a){var r=this,l=Object(n["V"])("seat");return Object(n["L"])(),Object(n["m"])("div",On,[hn,Object(n["n"])("div",vn,[(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(a.setTypeHall,(function(e){return Object(n["L"])(),Object(n["m"])("div",{key:e,class:Object(n["C"])(["row",r.session.hallType])},[Object(n["n"])("div",gn,Object(n["Y"])(e.row),1),(Object(n["L"])(!0),Object(n["m"])(n["b"],null,Object(n["T"])(e.seats,(function(t){return Object(n["L"])(),Object(n["k"])(l,{key:"".concat(e.row,"-").concat(t.seat),row:e.row,seatInRow:t.seat,isOccupied:t.isOccupied,peopleCapacity:t.peopleCapacity},null,8,["row","seatInRow","isOccupied","peopleCapacity"])})),128)),Object(n["n"])("div",yn,Object(n["Y"])(e.row),1)],2)})),128))])])}function _n(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div",{onClick:t[0]||(t[0]=function(e){return a.handleChange()}),class:Object(n["C"])(["seat","".concat(c.peopleCapacity,"\n       ").concat(a.contains(e.tickets,s.id)?"selected":"","\n       ").concat(e.isLimit?"locked":"","\n       ").concat(c.isOccupied?"occupied":"")])},Object(n["Y"])(a.contains(e.tickets,s.id)?c.seatInRow:null),3)}var wn={name:"Seat",props:{row:{type:Number,required:!0},seatInRow:{type:Number,required:!0},isOccupied:{type:Boolean,required:!0},peopleCapacity:{type:String,required:!0}},data:function(){return{id:"".concat(this.row,"-").concat(this.seatInRow)}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({tickets:function(e){return e.selectedTickets}})),Object(g["c"])({isLimit:"isLimitOfTickets"})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setTicket:"setTicket",removeTicket:"removeTicket"})),{},{contains:function(e,t){return e.find((function(e){return e.id===t}))},handleChange:function(){var e=!!this.tickets.length&&this.contains(this.tickets,this.id);this.isLimit?e&&this.removeTicket(this.id):e?this.removeTicket(this.id):this.setTicket({row:this.row,seat:this.seatInRow,id:this.id})}})};c("1197");const Mn=D()(wn,[["render",_n],["__scopeId","data-v-608d2cda"]]);var Ln=Mn,Cn={name:"SeatsPicker",components:{Seat:Ln},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({session:function(e){return e.selectedSession},halls:function(e){return e.halls}})),{},{setTypeHall:function(){var e=this.session.hallType;return this.halls.find((function(t){return t.hallType===e})).layout}})};c("36bb");const Sn=D()(Cn,[["render",kn],["__scopeId","data-v-4998ce66"]]);var Tn=Sn,Vn={name:"SeatsPickingStep",components:{SeatsPicker:Tn,MyTag:sc},computed:Object(s["a"])({},Object(g["e"])({film:function(e){return e.selectedFilm},ageLimits:function(e){return e.ageLimitsOfSelectedFilm},session:function(e){return e.selectedSession}}))};c("0c39");const Fn=D()(Vn,[["render",mn],["__scopeId","data-v-94475aae"]]);var Pn=Fn,$n=function(e){return Object(n["O"])("data-v-e97a4fc8"),e=e(),Object(n["M"])(),e},Yn={class:"popover-description"},xn={key:0,class:"checkout-step-content"},An={class:"step-header-wrap"},In={class:"step-header"},Rn=$n((function(){return Object(n["n"])("h2",{class:"step-header-description"},"Проверьте Ваш заказ и выберите удобный способ оплаты.",-1)})),Nn={class:"pay-wrap"},Dn={class:"pay-left-col"},Un={class:"pay-right-col"},En={key:1,class:"header-expired-wrap"},zn=$n((function(){return Object(n["n"])("h1",{class:"step-header"},"Извините, время на оплату вышло.",-1)})),Bn=$n((function(){return Object(n["n"])("h3",{class:"step-description"},"Приносим извинения за доставленные неудобства 😢",-1)})),qn=[zn,Bn];function Gn(e,t,c,i,s,a){var r=Object(n["V"])("my-timer"),l=Object(n["V"])("a-popover"),o=Object(n["V"])("chosen-seats-info"),u=Object(n["V"])("payment-form");return Object(n["L"])(),Object(n["m"])(n["b"],null,[Object(n["p"])(l,null,{content:Object(n["hb"])((function(){return[Object(n["n"])("div",Yn,[Object(n["n"])("p",null,"На время оплаты "+Object(n["Y"])(e.tickets.length>1?"Ваши билеты забронированы, чтобы их могли":"Ваш билет забронирован, чтобы его могли")+" купить только Вы.",1),Object(n["n"])("p",null,"Но если Вы не произведете оплату по окончанию таймера, бронь с "+Object(n["Y"])(e.tickets.length>1?"билетов":"билета")+" будет снята 😥",1)])]})),default:Object(n["hb"])((function(){return[e.isTimeExpired?Object(n["l"])("",!0):(Object(n["L"])(),Object(n["k"])(r,{key:0,duration:900,callback:a.setExpiredCallback,class:"checkout-timer"},null,8,["callback"]))]})),_:1}),!1===e.isTimeExpired?(Object(n["L"])(),Object(n["m"])("div",xn,[Object(n["n"])("div",An,[Object(n["n"])("h1",In,Object(n["Y"])(e.tickets.length>1?"Ваши билеты почти готовы!":"Ваш билет почти готов!")+" Осталось дело за малым...",1),Rn]),Object(n["n"])("div",Nn,[Object(n["n"])("div",null,[Object(n["n"])("div",Dn,[Object(n["p"])(o,{type:"full"})])]),Object(n["n"])("div",Un,[Object(n["p"])(u)])])])):(Object(n["L"])(),Object(n["m"])("div",En,qn))],64)}function Jn(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div",{class:Object(n["C"])(["timer",s.seconds<=45?"timer-running-out":""])},Object(n["Y"])(a.getMinutes)+":"+Object(n["Y"])(a.getSeconds),3)}var Hn={name:"MyTimer",props:{duration:{type:Number},callback:{type:Function}},data:function(){return{seconds:this.duration,interval:null}},methods:{startTimer:function(){this.interval=setInterval(this.decrementSeconds,1e3)},stopTimer:function(){clearInterval(this.interval)},decrementSeconds:function(){this.seconds>0?this.seconds--:(this.stopTimer(),this.callback())}},computed:{getMinutes:function(){var e=Math.floor(this.seconds/60);return e<10?"0".concat(e):e},getSeconds:function(){var e=this.seconds%60;return e<10?"0".concat(e):e}},mounted:function(){this.startTimer()},unmounted:function(){this.stopTimer()}};c("4eef");const Wn=D()(Hn,[["render",Jn],["__scopeId","data-v-6cfff602"]]);var Kn=Wn,Xn=function(e){return Object(n["O"])("data-v-286360e4"),e=e(),Object(n["M"])(),e},Qn={form:"payment-form",class:"payment-form__fieldset-wrap"},Zn=Xn((function(){return Object(n["n"])("legend",null,"1. Данные для получения заказа",-1)})),ei={key:0,class:"error-message"},ti={key:0,class:"error-message"},ci={form:"payment-form",class:"payment-form__fieldset-wrap"},ni=Xn((function(){return Object(n["n"])("legend",null,"2. Способ оплаты",-1)})),ii=Object(n["o"])(" Банковская карта "),si=Object(n["o"])(" Google Pay "),ai=Object(n["o"])(" В кассе кинотеатра перед сеансом "),ri={key:0,class:"error-message"};function li(e,t,c,i,s,a){var r=Object(n["V"])("a-input"),l=Object(n["V"])("a-radio-button"),o=Object(n["V"])("a-radio-group"),u=Object(n["V"])("a-button"),b=Object(n["V"])("a-spin");return Object(n["L"])(),Object(n["m"])("form",{class:"payment-form",id:"payment-form",onSubmit:t[3]||(t[3]=Object(n["jb"])((function(){}),["prevent"])),novalidate:""},[Object(n["n"])("div",null,[Object(n["n"])("fieldset",Qn,[Zn,Object(n["n"])("label",null,[Object(n["p"])(r,{class:"input payment-form__input",value:s.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return s.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"Введите вашу почту"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(n["L"])(),Object(n["m"])("p",ei,Object(n["Y"])(a.userMailErrors),1)):Object(n["l"])("",!0)]),Object(n["n"])("label",null,[Object(n["p"])(r,{class:"input payment-form__input",value:s.form.userPhoneNumber,"onUpdate:value":t[1]||(t[1]=function(e){return s.form.userPhoneNumber=e}),onBlur:i.v$.form.userPhoneNumber.$touch,type:"tel",placeholder:"Введите ваш номер телефона"},null,8,["value","onBlur"]),i.v$.form.userPhoneNumber.$error?(Object(n["L"])(),Object(n["m"])("p",ti,Object(n["Y"])(a.userPhoneNumberErrors),1)):Object(n["l"])("",!0)])]),Object(n["n"])("fieldset",ci,[ni,Object(n["n"])("label",null,[Object(n["p"])(o,{class:"payment-form__checkout-type",value:s.form.paymentMethod,"onUpdate:value":t[2]||(t[2]=function(e){return s.form.paymentMethod=e})},{default:Object(n["hb"])((function(){return[Object(n["p"])(l,{value:"Банковская карта"},{default:Object(n["hb"])((function(){return[ii]})),_:1}),Object(n["p"])(l,{value:"Google Pay"},{default:Object(n["hb"])((function(){return[si]})),_:1}),Object(n["p"])(l,{value:"В кассе кинотеатра"},{default:Object(n["hb"])((function(){return[ai]})),_:1})]})),_:1},8,["value"]),i.v$.form.paymentMethod.$error?(Object(n["L"])(),Object(n["m"])("p",ri,Object(n["Y"])(a.paymentMethodErrors),1)):Object(n["l"])("",!0)])])]),Object(n["p"])(b,{spinning:s.isFetching},{default:Object(n["hb"])((function(){return[Object(n["p"])(u,{type:"primary",class:"btn btn-submit",onClick:a.handleSuccess},{default:Object(n["hb"])((function(){return[Object(n["o"])("Оплатить "+Object(n["Y"])(e.tickets.length*e.session.price)+"₽ ",1)]})),_:1},8,["onClick"])]})),_:1},8,["spinning"])],32)}var oi={name:"PaymentForm",setup:function(){return{v$:Object(P["a"])()}},data:function(){return{isFetching:!1,form:{userMail:"",userPhoneNumber:"",paymentMethod:""}}},validations:function(){return{form:{userMail:{required:$["c"],email:$["a"]},userPhoneNumber:{required:$["c"],hasValidPhoneNumber:Y},paymentMethod:{required:$["c"]}}}},computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({tickets:function(e){return e.selectedTickets},session:function(e){return e.selectedSession}})),{},{userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":null},userPhoneNumberErrors:function(){return this.v$.form.userPhoneNumber.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPhoneNumber.hasValidPhoneNumber?"* Неправильный формат номера.":null},paymentMethodErrors:function(){return this.v$.form.paymentMethod.required.$invalid?"* Выберете способ оплаты.":null}}),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setCheckoutModalVisible:"setCheckoutModalVisible",clearTickets:"clearTickets"})),{},{setFetching:function(e){this.isFetching=e},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),console.log(this.authAccount),this.v$.$invalid?this.setFetching(!1):setTimeout((function(){e.setCheckoutModalVisible(!1),console.log(e.form),e.setFetching(!1)}),500)}})};c("246b");const ui=D()(oi,[["render",li],["__scopeId","data-v-286360e4"]]);var bi=ui,di={name:"CheckoutStep",components:{MyTimer:Kn,ChosenSeatsInfo:rn,PaymentForm:bi},data:function(){return{}},methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setIsTimeExpired:"setIsTimeExpired",clearTickets:"clearTickets"})),{},{setExpiredCallback:function(){this.setIsTimeExpired(!0),this.clearTickets()}}),computed:Object(s["a"])(Object(s["a"])({},Object(g["e"])({isTimeExpired:function(e){return e.isTimeExpired},tickets:function(e){return e.selectedTickets}})),Object(g["c"])({getCountInfoAboutTickets:"getCountInfoAboutTickets"})),unmounted:function(){this.setIsTimeExpired(!1)}};c("97a7");const pi=D()(di,[["render",Gn],["__scopeId","data-v-e97a4fc8"]]);var fi=pi,mi={name:"CheckoutModal",components:{WarningStep:Nc,SeatsPickingStep:Pn,CheckoutStep:fi,ChosenSeatsInfo:rn},data:function(){return{currentModalPage:0,isVisible:!1,isDisabled:!0,steps:[{title:"Прочитайте условия"},{title:"Выберите места"},{title:"Оплатите билеты"}]}},computed:Object(s["a"])({},Object(g["e"])({checkoutModalVisible:function(e){return e.checkoutModalVisible},tickets:function(e){return e.selectedTickets},session:function(e){return e.selectedSession},isTimeExpired:function(e){return e.isTimeExpired}})),methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setCheckoutModalVisible:"setCheckoutModalVisible",clearTickets:"clearTickets"})),{},{handleCancel:function(){this.setCheckoutModalVisible(!1)},handleSuccess:function(){this.setCheckoutModalVisible(!1)},next:function(){this.currentModalPage++},prev:function(){this.currentModalPage--}}),watch:{checkoutModalVisible:function(e){!1===e&&(this.currentModalPage=0,this.clearTickets()),this.isVisible=e},tickets:function(e){this.isDisabled=!e.length}},beforeMount:function(){!0===this.isVisible&&(this.isVisible=!1,this.setCheckoutModalVisible(!1))}};c("eb38");const ji=D()(mi,[["render",Fc]]);var Oi=ji,hi={name:"SessionSchedule",components:{CheckoutModal:Oi,SessionItem:kc},computed:Object(s["a"])({},Object(g["e"])({cinemas:function(e){return e.cinemas}})),methods:{setSession:function(e,t,c){return{time:c.time,price:c.price,hall:c.hall,hallType:c.hallType,format:t.format,cinema:{name:e.name,address:e.address}}}}};c("3b20");const vi=D()(hi,[["render",jc],["__scopeId","data-v-548823fb"]]);var gi=vi;function yi(e,t,c,i,s,a){var r=Object(n["V"])("a-date-picker");return Object(n["L"])(),Object(n["k"])(r,{locale:s.locale,inputReadOnly:!0,size:"large",format:"DD-MM-YYYY","disabled-date":a.disabledDate},null,8,["locale","disabled-date"])}var ki=c("c4ee"),_i={name:"DatePicker",data:function(){return{locale:ki["a"]}},methods:{disabledDate:function(e){return e<dt()().subtract(1,"d")||e>dt()().add(7,"d")}}};const wi=D()(_i,[["render",yi]]);var Mi=wi,Li={name:"FilmPage",components:{FilmItem:lc,SessionSchedule:gi,DatePicker:Mi},props:{id:String},computed:Object(s["a"])({},Object(g["e"])({selectedFilm:function(e){return e.selectedFilm},trailerURL:function(e){return e.trailersUrlOfSelectedFilm},ratingAgeLimits:function(e){return e.ageLimitsOfSelectedFilm},cinemas:function(e){return e.cinemas}})),data:function(){return{isFetching:!1}},methods:Object(s["a"])(Object(s["a"])({},Object(g["d"])({setFilmData:"setSelectedFilm",setTrailersUrl:"setTrailerUrlOfSelectedFilm",setAgeLimits:"setAgeLimitsOfSelectedFilm"})),{},{setFetching:function(e){this.isFetching=e},fetchFilmsData:function(e){var t=this;return Object(Ut["a"])(regeneratorRuntime.mark((function c(){var n,i,s,a,r,l,o;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=function(e){return fetch(e,{method:"GET",headers:{"X-API-KEY":"bbd5c8d2-662f-428b-9b73-5fb961a663ad","Content-Type":"application/json"}})},i=function(e){var t=/(Трейлер)/i,c=null===e||void 0===e?void 0:e.items.filter((function(e){return"YOUTUBE"===e.site&&t.test(e.name)}));if(c.length){var n,i=/(?:https?:\/\/)?(?:www\.)?youtu\.?be(?:\.com)?\/?.*(?:watch|embed)?(?:.*v=|v\/|\/)([\w\-_]+)?/,s=null===(n=c[0])||void 0===n?void 0:n.url;return"https://www.youtube.com/embed/".concat(s.match(i)[1])}},s=function(e){return null===e.ratingAgeLimits?"0+":"".concat(e.ratingAgeLimits.match(/\d{1,2}/g),"+")},c.prev=3,t.setFetching(!0),c.next=7,n("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(e));case 7:return a=c.sent,c.next=10,a.json();case 10:return r=c.sent,c.next=13,n("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(e,"/videos"));case 13:return l=c.sent,c.next=16,l.json();case 16:return o=c.sent,c.next=19,t.setFilmData(r);case 19:return c.next=21,t.setAgeLimits(s(r));case 21:return c.next=23,t.setTrailersUrl(i(o));case 23:c.next=28;break;case 25:c.prev=25,c.t0=c["catch"](3),console.error(c.t0);case 28:return c.prev=28,t.setFetching(!1),c.finish(28);case 31:case"end":return c.stop()}}),c,null,[[3,25,28,31]])})))()}}),mounted:function(){this.fetchFilmsData(this.id)}};c("11d0");const Ci=D()(Li,[["render",Dt],["__scopeId","data-v-3b7760fe"]]);var Si=Ci;function Ti(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div")}var Vi={name:"ProfilePage",computed:Object(s["a"])({},Object(g["e"])({isAuth:function(e){return e.isAuth}})),watch:{isAuth:function(e){!1===e&&this.$router.push("/")}}};const Fi=D()(Vi,[["render",Ti]]);var Pi=Fi;function $i(e,t,c,i,s,a){return Object(n["L"])(),Object(n["m"])("div")}var Yi={name:"TicketsHistoryPage",computed:Object(s["a"])({},Object(g["e"])({isAuth:function(e){return e.isAuth}})),watch:{isAuth:function(e){!1===e&&this.$router.push("/")}}};const xi=D()(Yi,[["render",$i]]);var Ai=xi,Ii=[{path:"/",name:"Home",component:Lt},{path:"/films",name:"Films",component:xt},{path:"/films/:id",name:"Film",component:Si,props:!0},{path:"/online-cinema",name:"Online Cinema",component:xt},{path:"/cinema-rent",name:"Cinema Rent",component:xt},{path:"/profile",name:"Profile",component:Pi},{path:"/profile/history",name:"History",component:Ai}],Ri=Object(fe["a"])({history:Object(fe["b"])("/FilmStrip/"),routes:Ii}),Ni=Ri,Di=c("2909"),Ui=c("b85c"),Ei=(c("4e82"),dt()().subtract(1,"months")),zi=dt()(),Bi=dt()().add(1,"months"),qi=[Ei,zi,Bi],Gi=Object(g["a"])({state:{films:[],releasedFilms:[],unreleasedFilms:[],selectedFilm:null,selectedSession:null,selectedTickets:[],trailersUrlOfSelectedFilm:null,ageLimitsOfSelectedFilm:null,isFetchingFilms:!1,selectedReleaseSort:"released",selectedGenresSort:"",checkoutModalVisible:!1,authModalVisible:!1,isTimeExpired:!1,authAccount:localStorage.authUser?JSON.parse(localStorage.authUser):null,cinemas:[{name:"Кронверк Вью МЕГА JS",address:"площадь Приведения Типов 13, корпус 3, «МЕГА JS», NaN-й этаж",id:666,formats:[{format:"2D",sessions:[{time:"11:20",price:"200",hall:"01",hallType:"standart"},{time:"13:15",price:"250",hall:"01",hallType:"standart"},{time:"16:10",price:"250",hall:"01",hallType:"standart"},{time:"18:05",price:"300",hall:"01",hallType:"standart"},{time:"21:20",price:"300",hall:"01",hallType:"standart"},{time:"23:55",price:"200",hall:"01",hallType:"standart"}]},{format:"3D",sessions:[{time:"10:30",price:"200",hall:"02",hallType:"standart"},{time:"12:35",price:"250",hall:"02",hallType:"standart"},{time:"15:20",price:"250",hall:"02",hallType:"standart"},{time:"18:20",price:"300",hall:"02",hallType:"standart"},{time:"20:45",price:"300",hall:"02",hallType:"standart"},{time:"23:25",price:"200",hall:"02",hallType:"standart"}]}]},{name:"Async Синема",address:"Булиевое шоссе 14, «ТЦ AWAIT», 4-й этаж",id:999,formats:[{format:"2D",sessions:[{time:"11:20",price:"200",hall:"01",hallType:"standart"},{time:"14:10",price:"250",hall:"01",hallType:"standart"},{time:"15:30",price:"250",hall:"01",hallType:"standart"},{time:"16:25",price:"250",hall:"01",hallType:"standart"},{time:"17:40",price:"250",hall:"01",hallType:"standart"},{time:"18:35",price:"300",hall:"01",hallType:"standart"},{time:"22:10",price:"250",hall:"01",hallType:"standart"},{time:"23:05",price:"200",hall:"01",hallType:"standart"}]},{format:"VIP",sessions:[{time:"10:20",price:"700",hall:"02",hallType:"vip"},{time:"14:55",price:"750",hall:"02",hallType:"vip"},{time:"17:20",price:"750",hall:"02",hallType:"vip"},{time:"17:55",price:"810",hall:"02",hallType:"vip"},{time:"20:35",price:"810",hall:"02",hallType:"vip"},{time:"23:25",price:"700",hall:"02",hallType:"vip"}]}]}],halls:[{hallType:"standart",layout:[{row:1,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!0,peopleCapacity:"single"},{seat:4,isOccupied:!0,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!1,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:2,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!1,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:3,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!0,peopleCapacity:"single"},{seat:5,isOccupied:!0,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:4,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!0,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:5,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!0,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!0,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]}]},{hallType:"vip",layout:[{row:1,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:2,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:3,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:4,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:5,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]}]}]},getters:{currentPremiers:function(e){return e.films.filter((function(e){return dt()(e.premiereRu,"YYYY-MM-DD").format("MM")===zi.format("MM")}))},filmsAfterSorts:function(e){var t=function(t){return e.selectedGenresSort?t.filter((function(t){var c,n=Object(Ui["a"])(t.genres);try{for(n.s();!(c=n.n()).done;){var i=c.value;if(i.genre===e.selectedGenresSort)return!0}}catch(s){n.e(s)}finally{n.f()}})):t};return"released"===e.selectedReleaseSort?t(e.releasedFilms):t(e.unreleasedFilms)},getCountInfoAboutTickets:function(e){var t=e.selectedTickets.length;return 1===t?"1 билет":"".concat(t,t<5?" билета":" билетов")},isLimitOfTickets:function(e){return e.selectedTickets.length>=5}},mutations:{setFilms:function(e,t){e.films=[].concat(Object(Di["a"])(e.films),Object(Di["a"])(t))},setReleasedFilms:function(e,t){var c=t.filter((function(e){return dt()(e.premiereRu,"YYYY-MM-DD")<=zi})).reverse();e.releasedFilms=[].concat(Object(Di["a"])(c),Object(Di["a"])(e.releasedFilms))},setUnreleasedFilms:function(e,t){var c=t.filter((function(e){return dt()(e.premiereRu,"YYYY-MM-DD")>zi&&dt()(e.premiereRu,"YYYY-MM-DD")<Bi}));e.unreleasedFilms=[].concat(Object(Di["a"])(e.unreleasedFilms),Object(Di["a"])(c))},setFetchingFilms:function(e,t){e.isFetchingFilms=t},setReleaseSort:function(e,t){e.selectedReleaseSort=t},setGenresSort:function(e,t){e.selectedGenresSort=t},setSelectedFilm:function(e,t){e.selectedFilm=t},setTrailerUrlOfSelectedFilm:function(e,t){e.trailersUrlOfSelectedFilm=t},setAgeLimitsOfSelectedFilm:function(e,t){e.ageLimitsOfSelectedFilm=t},setCheckoutModalVisible:function(e,t){e.checkoutModalVisible=t},setAuthModalVisible:function(e,t){e.authModalVisible=t},setSelectedSession:function(e,t){e.selectedSession=t},setTicket:function(e,t){e.selectedTickets=[].concat(Object(Di["a"])(e.selectedTickets),[t]).sort((function(e,t){return e.seat-t.seat}))},removeTicket:function(e,t){e.selectedTickets=e.selectedTickets.filter((function(e){return e.id!==t}))},clearTickets:function(e){e.selectedTickets=[]},setIsTimeExpired:function(e,t){e.isTimeExpired=t},setAuthAccount:function(e,t){e.authAccount=t},clearAuthAccount:function(e){e.authAccount=null}},actions:{fetchFilms:function(e){return Object(Ut["a"])(regeneratorRuntime.mark((function t(){var c,n,i,s,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:c=e.commit,c("setFetchingFilms",!0),n=Object(Ui["a"])(qi),t.prev=3,n.s();case 5:if((i=n.n()).done){t.next=30;break}return s=i.value,t.prev=7,t.next=10,fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/premieres?year=".concat(s.format("YYYY"),"&month=").concat(s.format("MMMM").toUpperCase()),{method:"GET",headers:{"X-API-KEY":"bbd5c8d2-662f-428b-9b73-5fb961a663ad","Content-Type":"application/json"}});case 10:return a=t.sent,t.next=13,a.json();case 13:return r=t.sent,t.next=16,c("setFilms",r.items);case 16:return t.next=18,c("setReleasedFilms",r.items);case 18:return t.next=20,c("setUnreleasedFilms",r.items);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](7),console.error(t.t0);case 25:return t.prev=25,c("setFetchingFilms",!1),t.finish(25);case 28:t.next=5;break;case 30:t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](3),n.e(t.t1);case 35:return t.prev=35,n.f(),t.finish(35);case 38:case"end":return t.stop()}}),t,null,[[3,32,35,38],[7,22,25,28]])})))()}}}),Ji=c("5333"),Hi=c("f23d");c("3aed");Object(n["j"])(pe).use(Ji["a"]).use(Hi["a"]).use(Gi).use(Ni).mount("#app")},"63f2":function(e,t,c){},"67b6":function(e,t,c){},"6c9a":function(e,t,c){},"733e":function(e,t,c){"use strict";c("1af5")},"789e":function(e,t,c){},"7b5d":function(e,t,c){},"86dd":function(e,t,c){},"962d":function(e,t,c){"use strict";c("4dab")},9727:function(e,t,c){},"97a7":function(e,t,c){"use strict";c("a566")},"9b19":function(e,t,c){e.exports=c.p+"img/logo.67d4fef4.svg"},a566:function(e,t,c){},b4cf:function(e,t,c){"use strict";c("7b5d")},ba25:function(e,t,c){},ba2d:function(e,t,c){e.exports=c.p+"img/ticket.da8b2b75.svg"},bc4f:function(e,t,c){},bc6e:function(e,t,c){},cef2:function(e,t,c){"use strict";c("9727")},d8d4:function(e,t,c){},df59:function(e,t,c){"use strict";c("12a8")},e016:function(e,t,c){},e528:function(e,t,c){"use strict";c("63f2")},eb38:function(e,t,c){"use strict";c("d8d4")},ff27:function(e,t,c){}});
//# sourceMappingURL=app.7c314aae.js.map