(function(e){function t(t){for(var n,o,r=t[0],s=t[1],l=t[2],d=0,m=[];d<r.length;d++)o=r[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(m.length)m.shift()();return a.push.apply(a,l||[]),c()}function c(){for(var e,t=0;t<a.length;t++){for(var c=a[t],n=!0,r=1;r<c.length;r++){var s=c[r];0!==i[s]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=c[0]))}return e}var n={},i={app:0},a=[];function o(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,o),c.l=!0,c.exports}o.m=e,o.c=n,o.d=function(e,t,c){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(c,n,function(t){return e[t]}.bind(null,n));return c},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/FilmStrip/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=s;a.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"01a1":function(e,t,c){"use strict";c("0d22")},"072a":function(e,t,c){"use strict";c("6da2")},"09a2":function(e,t,c){},"0b11":function(e,t,c){},"0d22":function(e,t,c){},"0d5f":function(e,t,c){},1419:function(e,t,c){"use strict";c("a9e9")},1551:function(e,t,c){"use strict";c("0d5f")},2150:function(e,t,c){},2343:function(e,t,c){},"23c6":function(e,t,c){"use strict";c("ff50")},"28ed":function(e,t,c){},"2cbb":function(e,t,c){"use strict";c("67b6")},4303:function(e,t,c){},4354:function(e,t,c){"use strict";c("d303")},"45de":function(e,t,c){"use strict";c("d77c")},4678:function(e,t,c){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=a(e);return c(t)}function a(e){if(!c.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id="4678"},"486a":function(e,t,c){},"4cdb":function(e,t,c){},"54c6":function(e,t,c){"use strict";c("ba25")},"556f":function(e,t,c){},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("7a23");function i(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("my-header"),s=Object(n["resolveComponent"])("router-view"),l=Object(n["resolveComponent"])("a-back-top");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(r),Object(n["createVNode"])(s,{class:"wrap content"}),Object(n["createVNode"])(l,{class:"btn-back-top"})],64)}var a=c("5530"),o=(c("e9c4"),{class:"cinema-header"}),r={class:"logo-line-wrap"},s={class:"wrap logo-line"},l={xmlns:"http://www.w3.org/2000/svg",class:"logo-line__logo"},u=["href"],d={class:"menu-line"},m={class:"wrap menu-line__nav"},p=["value"];function b(e,t,c,i,a,b){var f=Object(n["resolveComponent"])("router-link"),j=Object(n["resolveComponent"])("ProfileDropdown");return Object(n["openBlock"])(),Object(n["createElementBlock"])("header",o,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",s,[Object(n["createVNode"])(f,{to:"/"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(),Object(n["createElementBlock"])("svg",l,[Object(n["createElementVNode"])("use",{href:"".concat(a.logo,"#fillStrip-logo")},null,8,u)]))]})),_:1}),Object(n["createVNode"])(j)])]),Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("nav",m,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(a.refs,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(f,{to:e.value,key:e.value,tag:"li"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("button",{value:e.value,class:"btn"},Object(n["toDisplayString"])(e.label),9,p)]})),_:2},1032,["to"])})),128))])])])}var f=c("9b19"),j=c.n(f),O={class:"menu-item-wrap dropdown-menu__header"};function h(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("profile-icon"),s=Object(n["resolveComponent"])("n-icon"),l=Object(n["resolveComponent"])("n-button"),u=Object(n["resolveComponent"])("a-menu-divider"),d=Object(n["resolveComponent"])("a-menu-item"),m=Object(n["resolveComponent"])("router-link"),p=Object(n["resolveComponent"])("a-menu"),b=Object(n["resolveComponent"])("a-dropdown"),f=Object(n["resolveComponent"])("auth-modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[e.authAccount?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:0,trigger:["click"],placement:"bottomRight"},{overlay:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{class:"dropdown-menu",style:{"max-width":"250px"}},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",O,Object(n["toDisplayString"])(e.authAccount.mail),1),Object(n["createVNode"])(u),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(a.refs,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(m,{to:e.value,key:e.value,tag:"li"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:e.value},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.label),1)]})),_:2},1024))]})),_:2},1032,["to"])})),128)),Object(n["createVNode"])(u),(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:a.refs.length,class:"menu-item-wrap btn btn-logout",onClick:t[0]||(t[0]=function(){return o.logout&&o.logout.apply(o,arguments)})}," Выход "))]})),_:1})]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{class:"profile-btn profile-btn-after-auth",text:""},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(r)]})),_:1})]})),_:1})]})),_:1})):(Object(n["openBlock"])(),Object(n["createElementBlock"])("button",{key:1,class:"btn btn-green profile-btn profile-btn-before-auth",onClick:t[1]||(t[1]=function(e){return o.setModalVisible(!0)})},"Вход")),Object(n["createVNode"])(f)],64)}var v=c("ad25"),k=c("5502"),g=function(e){return Object(n["pushScopeId"])("data-v-88bff7c2"),e=e(),Object(n["popScopeId"])(),e},y={key:0},V={class:"registration-link-wrap"},N=g((function(){return Object(n["createElementVNode"])("h2",{class:"auth-header"},"Войти",-1)})),C={key:1},E=g((function(){return Object(n["createElementVNode"])("h2",{class:"auth-header"},"Регистрация",-1)}));function w(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("auth-form"),s=Object(n["resolveComponent"])("registration-form"),l=Object(n["resolveComponent"])("a-modal");return Object(n["openBlock"])(),Object(n["createBlock"])(l,{visible:a.isVisible,"onUpdate:visible":t[1]||(t[1]=function(e){return a.isVisible=e}),centered:!0,width:"420px",footer:null,afterClose:o.handleCancel,closable:!1,wrapClassName:"modal"},{default:Object(n["withCtx"])((function(){return[0===a.currentModalPage?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",y,[Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("a",{class:"auth-header auth-header-registration-link",onClick:t[0]||(t[0]=function(){return o.linkToRegistrationForm&&o.linkToRegistrationForm.apply(o,arguments)})},"Регистрация")]),N,Object(n["createVNode"])(r)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",C,[E,Object(n["createVNode"])(s)]))]})),_:1},8,["visible","afterClose"])}var S={key:0,class:"error-message"},B={key:0,class:"error-message"},_={class:"btn-wrap"};function M(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("a-input"),s=Object(n["resolveComponent"])("a-spin");return Object(n["openBlock"])(),Object(n["createElementBlock"])("form",{class:"form-wrap",onSubmit:t[3]||(t[3]=Object(n["withModifiers"])((function(){}),["prevent"])),novalidate:""},[Object(n["createElementVNode"])("label",null,[Object(n["createVNode"])(r,{class:"input",value:a.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return a.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"Введите вашу почту"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",S,Object(n["toDisplayString"])(o.userMailErrors),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("label",null,[Object(n["createVNode"])(r,{class:"input",value:a.form.userPassword,"onUpdate:value":t[1]||(t[1]=function(e){return a.form.userPassword=e}),type:"password",placeholder:"Введите ваш пароль"},null,8,["value"]),i.v$.form.userPassword.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",B,Object(n["toDisplayString"])(o.userPasswordErrors),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",_,[Object(n["createVNode"])(s,{spinning:a.isFetching},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("button",{class:"btn btn-auth",onClick:t[2]||(t[2]=function(){return o.handleSuccess&&o.handleSuccess.apply(o,arguments)})},"Войти")]})),_:1},8,["spinning"])])],32)}c("7db0"),c("d3b7");var D=c("25a0"),F=c("e3e1"),T=(c("ac1f"),c("466d"),c("00b4"),c("5319"),function(e){return console.log(e.match(/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){11}(\s*)?$/)),/^(\s*)?(\+)?([- _():=+]?\d[- _():=+]?){11}(\s*)?$/.test(e)}),x=function(e){var t=localStorage.getItem("users"),c=JSON.parse(t);return!c.find((function(t){return t.mail===e}))},P=function(e){var t=localStorage.getItem("users"),c=JSON.parse(t);return!!c.find((function(t){return t.mail===e}))},I=function(e){var t=localStorage.getItem("users"),c=JSON.parse(t);return!c.find((function(t){return t.phoneNumber===e.replace(/[^0-9]/g,"")}))},A={name:"AuthForm",setup:function(){return{v$:Object(D["a"])()}},data:function(){var e=JSON.parse(localStorage.users);return{users:e,isFetching:!1,form:{userMail:"",userPassword:""}}},validations:function(){return{form:{userMail:{required:F["c"],email:F["a"],hasRegisteredMail:P},userPassword:{required:F["c"],sameAs:this.searchedAccount?Object(F["d"])(this.searchedAccount.password):"",$lazy:!0}}}},computed:Object(a["a"])(Object(a["a"])({},Object(k["e"])({authModalVisible:function(e){return e.auth.authModalVisible}})),{},{searchedAccount:function(){var e=this;return this.users.find((function(t){return t.mail===e.form.userMail}))},userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":this.v$.form.userMail.hasRegisteredMail.$invalid?"* Аккаунта с такой почтой не существует.":null},userPasswordErrors:function(){return this.v$.form.userPassword.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPassword.sameAs.$invalid?"* Неправильный пароль.":null}}),methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setAuthModalVisible:"setAuthModalVisible",setAuthAccount:"setAuthAccount"})),{},{setFetching:function(e){this.isFetching=e},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),this.v$.$invalid?this.setFetching(!1):setTimeout((function(){e.setAuthModalVisible(!1),e.setAuthAccount(e.searchedAccount),e.setFetching(!1)}),1e3)}}),watch:{authModalVisible:function(e){!1===e&&(this.v$.$reset(),this.form.userMail="",this.form.userPassword="")}}},$=(c("7e6d"),c("6b0d")),Y=c.n($);const L=Y()(A,[["render",M],["__scopeId","data-v-34e6bd0c"]]);var R=L,U=Object(n["createTextVNode"])(" Электронная почта "),z={key:0,class:"error-message"},q=Object(n["createTextVNode"])(" Ваш номер телефона "),H={key:0,class:"error-message"},G=Object(n["createTextVNode"])(" Пароль "),J={key:0,class:"error-message"},Q=Object(n["createTextVNode"])(" Подтвердите пароль "),W={key:0,class:"error-message"},X={class:"btn-wrap"};function K(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("a-input"),s=Object(n["resolveComponent"])("a-spin");return Object(n["openBlock"])(),Object(n["createElementBlock"])("form",{class:"form-wrap",onSubmit:t[5]||(t[5]=Object(n["withModifiers"])((function(){}),["prevent"])),novalidate:""},[Object(n["createElementVNode"])("label",null,[U,Object(n["createVNode"])(r,{class:"input",value:a.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return a.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"filmstrip@gmail.com",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",z,Object(n["toDisplayString"])(o.userMailErrors),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("label",null,[q,Object(n["createVNode"])(r,{class:"input",value:a.form.userPhoneNumber,"onUpdate:value":t[1]||(t[1]=function(e){return a.form.userPhoneNumber=e}),onBlur:i.v$.form.userPhoneNumber.$touch,type:"email",placeholder:"+7 999 666 99 99",pattern:"[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,}$"},null,8,["value","onBlur"]),i.v$.form.userPhoneNumber.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",H,Object(n["toDisplayString"])(o.userPhoneNumberErrors),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("label",null,[G,Object(n["createVNode"])(r,{class:"input",value:a.form.userPassword,"onUpdate:value":t[2]||(t[2]=function(e){return a.form.userPassword=e}),onBlur:i.v$.form.userPassword.$touch,type:"password",placeholder:"Минимум 8 символов"},null,8,["value","onBlur"]),i.v$.form.userPassword.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",J,Object(n["toDisplayString"])(o.userPasswordErrors),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("label",null,[Q,Object(n["createVNode"])(r,{class:"input",value:a.form.userPasswordRepeat,"onUpdate:value":t[3]||(t[3]=function(e){return a.form.userPasswordRepeat=e}),onBlur:i.v$.form.userPasswordRepeat.$touch,type:"password",placeholder:"Минимум 8 символов"},null,8,["value","onBlur"]),i.v$.form.userPassword.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",W,Object(n["toDisplayString"])(o.userPasswordErrors),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",X,[Object(n["createVNode"])(s,{spinning:a.isFetching},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("button",{class:"btn btn-registration",onClick:t[4]||(t[4]=function(){return o.handleSuccess&&o.handleSuccess.apply(o,arguments)})}," Зарегистрироваться ")]})),_:1},8,["spinning"])])],32)}var Z={name:"RegistrationForm",setup:function(){return{v$:Object(D["a"])()}},data:function(){return{isFetching:!1,form:{userMail:"",userPhoneNumber:"",userPassword:"",userPasswordRepeat:""}}},validations:function(){return{form:{userMail:{required:F["c"],email:F["a"],hasUnregisteredMail:x},userPhoneNumber:{required:F["c"],hasValidPhoneNumber:T,hasUnregisteredPhoneNumber:I},userPassword:{required:F["c"],minLength:Object(F["b"])(8),sameAs:Object(F["d"])(this.form.userPasswordRepeat)},userPasswordRepeat:{required:F["c"]}}}},computed:Object(a["a"])(Object(a["a"])({},Object(k["e"])({authModalVisible:function(e){return e.authModalVisible}})),{},{userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":this.v$.form.userMail.hasUnregisteredMail.$invalid?"* Аккаунт с такой почтой уже существует.":null},userPhoneNumberErrors:function(){return this.v$.form.userPhoneNumber.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPhoneNumber.hasValidPhoneNumber.$invalid?"* Неправильный формат номера.":this.v$.form.userPhoneNumber.hasUnregisteredPhoneNumber.$invalid?"* Аккаунт с таким номером уже существует.":null},userPasswordErrors:function(){return this.v$.form.userPassword.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPassword.minLength.$invalid?"* Минимальная длинна пароля - 8 символов.":this.v$.form.userPassword.sameAs.$invalid?"* Пароли не совпадают.":null}}),methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setAuthModalVisible:"setAuthModalVisible",setAuthAccount:"setAuthAccount"})),{},{setFetching:function(e){this.isFetching=e},createAccount:function(){var e=JSON.parse(localStorage.users),t={mail:this.form.userMail,phoneNumber:this.form.userPhoneNumber.replace(/[^0-9]/g,""),password:this.form.userPassword,ticketsHistory:[]};e.push(t),localStorage.setItem("users",JSON.stringify(e)),this.setAuthAccount(t)},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),this.v$.$invalid?this.setFetching(!1):setTimeout((function(){e.setAuthModalVisible(!1),e.createAccount(),e.setFetching(!1)}),1e3)}})};c("1419");const ee=Y()(Z,[["render",K],["__scopeId","data-v-2d8deff2"]]);var te=ee,ce={name:"AuthModal",components:{AuthForm:R,RegistrationForm:te},data:function(){return{isVisible:!1,currentModalPage:0}},computed:Object(a["a"])({},Object(k["e"])({authModalVisible:function(e){return e.auth.authModalVisible}})),methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setAuthModalVisible:"setAuthModalVisible"})),{},{handleCancel:function(){this.setAuthModalVisible(!1),this.currentModalPage=0},linkToRegistrationForm:function(){this.currentModalPage=1}}),watch:{authModalVisible:function(e){this.isVisible=e}},beforeMount:function(){!0===this.isVisible&&(this.isVisible=!1,this.setAuthModalVisible(!1))}};c("61f6");const ne=Y()(ce,[["render",w],["__scopeId","data-v-88bff7c2"]]);var ie=ne,ae={name:"ProfileDropdown",components:{ProfileIcon:v["a"],AuthModal:ie},data:function(){return{isModalVisible:!1,refs:[{value:"/profile",label:"Личный кабинет"},{value:"/profile/history",label:"История"}]}},computed:Object(a["a"])({},Object(k["e"])({authAccount:function(e){return e.auth.authAccount}})),methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setAuthModalVisible:"setAuthModalVisible",clearAuthAccount:"clearAuthAccount"})),{},{hide:function(){this.isModalVisible=!1},setModalVisible:function(e){this.setAuthModalVisible(e)},logout:function(){this.clearAuthAccount(),delete localStorage.authUser}})};c("01a1");const oe=Y()(ae,[["render",h],["__scopeId","data-v-3c276180"]]);var re=oe,se={name:"my-header",components:{ProfileDropdown:re},data:function(){return{logo:j.a,refs:[{value:"/online-cinema",label:"Онлайн-кинотеатр"},{value:"/films",label:"Фильмы"},{value:"/cinema-rent",label:"Аренда кинозала"}]}}};c("45de");const le=Y()(se,[["render",b],["__scopeId","data-v-4ff1371a"]]);var ue=le,de={name:"App",components:{MyHeader:ue},methods:Object(a["a"])({},Object(k["b"])({setFetchedFilms:"films/fetchFilms"})),mounted:function(){this.setFetchedFilms(),localStorage.getItem("users")||localStorage.setItem("users",JSON.stringify([]))}};c("f4a8");const me=Y()(de,[["render",i]]);var pe=me,be=c("6c02");function fe(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("filmstrip-swiper"),s=Object(n["resolveComponent"])("film-list");return Object(n["openBlock"])(),Object(n["createElementBlock"])("main",null,[Object(n["createVNode"])(r),Object(n["createVNode"])(s,{mode:"crop"})])}function je(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("filmstrip-item"),s=Object(n["resolveComponent"])("swiper-slide"),l=Object(n["resolveComponent"])("swiper");return Object(n["openBlock"])(),Object(n["createBlock"])(l,{slidesPerView:3,slidesPerGroup:1,spaceBetween:0,loop:!0,loopFillGroupWithBlank:!0,autoplay:{delay:4e3,disableOnInteraction:!1},breakpoints:{411:{slidesPerView:4},768:{slidesPerView:5},1026:{slidesPerView:6}}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.currentPremiers,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(s,{film:e,key:e.kinopoiskId},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(r,{film:e},null,8,["film"])]})),_:2},1032,["film"])})),128))]})),_:1})}var Oe=c("8349"),he=(c("bbe3"),c("4da1")),ve=function(e){return Object(n["pushScopeId"])("data-v-14fa8060"),e=e(),Object(n["popScopeId"])(),e},ke={class:"filmstrip-item"},ge=ve((function(){return Object(n["createElementVNode"])("div",{class:"filmstrip-item__perforation top"},[Object(n["createElementVNode"])("div"),Object(n["createElementVNode"])("div")],-1)})),ye={class:"filmstrip-item__poster"},Ve=["src","alt"],Ne=ve((function(){return Object(n["createElementVNode"])("div",{class:"filmstrip-item__perforation down"},[Object(n["createElementVNode"])("div"),Object(n["createElementVNode"])("div")],-1)}));function Ce(e,t,c,i,a,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ke,[ge,Object(n["createElementVNode"])("div",ye,[Object(n["createElementVNode"])("img",{src:c.film.posterUrlPreview,alt:c.film.nameRu},null,8,Ve)]),Ne])}var Ee={name:"FilmstripItem",props:{film:Object}};c("2cbb");const we=Y()(Ee,[["render",Ce],["__scopeId","data-v-14fa8060"]]);var Se=we;he["c"].use([he["a"],he["b"]]);var Be={name:"FilmstripSwiper",components:{Swiper:Oe["a"],SwiperSlide:Oe["b"],FilmstripItem:Se},computed:Object(a["a"])({},Object(k["c"])({currentPremiers:"films/currentPremiers"}))};c("9193");const _e=Y()(Be,[["render",je],["__scopeId","data-v-54639f1a"]]);var Me=_e,De={key:0,class:"film-list-full"},Fe={key:1,class:"film-list-crop"};function Te(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("sort-by-release-buttons"),s=Object(n["resolveComponent"])("film-list-item"),l=Object(n["resolveComponent"])("my-film-swiper");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(r),"full"===c.mode?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",De,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.films,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:e.kinopoiskId,film:e},null,8,["film"])})),128))])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Fe,[Object(n["createVNode"])(l,{filmList:e.isFetching?a.fetchingFilms:e.films},null,8,["filmList"])]))],64)}var xe=function(e){return Object(n["pushScopeId"])("data-v-7ff08950"),e=e(),Object(n["popScopeId"])(),e},Pe={class:"release-sort"},Ie=xe((function(){return Object(n["createElementVNode"])("span",null,"Сегодня в кино",-1)})),Ae=[Ie],$e=xe((function(){return Object(n["createElementVNode"])("span",null,"Скоро в кино",-1)})),Ye=[$e];function Le(e,t,c,i,a,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Pe,[Object(n["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(t){return e.setSort("released")}),class:Object(n["normalizeClass"])(["btn btn-sort-release","released"===e.isReleasedFilms?"active":"inactive"])},Ae,2),Object(n["createElementVNode"])("div",{onClick:t[1]||(t[1]=function(t){return e.setSort("unreleased")}),class:Object(n["normalizeClass"])(["btn btn-sort-release","unreleased"===e.isReleasedFilms?"active":"inactive"])},Ye,2)])}var Re={name:"SortByReleaseButtons",methods:Object(a["a"])({},Object(k["d"])({setSort:"setReleaseSort"})),computed:Object(a["a"])({},Object(k["e"])({isReleasedFilms:function(e){return e.selectedReleaseSort}}))};c("d588");const Ue=Y()(Re,[["render",Le],["__scopeId","data-v-7ff08950"]]);var ze=Ue,qe=(c("fb6a"),function(e){return Object(n["pushScopeId"])("data-v-c5482f10"),e=e(),Object(n["popScopeId"])(),e}),He={class:"dashed-card__content"},Ge={xmlns:"http://www.w3.org/2000/svg"},Je=["href"],Qe=Object(n["createTextVNode"])("Все фильмы "),We=qe((function(){return Object(n["createElementVNode"])("br",null,null,-1)}));function Xe(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("film-list-item"),s=Object(n["resolveComponent"])("swiper-slide"),l=Object(n["resolveComponent"])("router-link"),u=Object(n["resolveComponent"])("swiper");return Object(n["openBlock"])(),Object(n["createBlock"])(u,{slidesPerView:1,slidesPerGroup:1,spaceBetween:10,centeredSlides:!0,breakpoints:{420:{slidesPerView:2,spaceBetween:20,centeredSlides:!1},768:{slidesPerView:3,spaceBetween:30,centeredSlides:!1},910:{slidesPerView:4,spaceBetween:20,centeredSlides:!1},1141:{slidesPerView:5,centeredSlides:!1}}},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.filmList.slice(0,4),(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:e.kinopoiskId},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(r,{film:e,class:"film-list__item"},null,8,["film"])]})),_:2},1024)})),128)),Object(n["createVNode"])(s,{class:"film-list__item film-list__dashed-card"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{to:"/films"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",He,[(Object(n["openBlock"])(),Object(n["createElementBlock"])("svg",Ge,[Object(n["createElementVNode"])("use",{href:a.svgHref},null,8,Je)])),Object(n["createElementVNode"])("p",null,[Qe,We,Object(n["createTextVNode"])("("+Object(n["toDisplayString"])(c.filmList.length)+")",1)])])]})),_:1})]})),_:1})]})),_:1})}c("a15b"),c("d81d");var Ke=function(e){return Object(n["pushScopeId"])("data-v-a1bc2654"),e=e(),Object(n["popScopeId"])(),e},Ze={key:0},et={class:"film-list__item-card"},tt={class:"item-card__premiere"},ct=["src","alt"],nt={class:"film-list__item-genres"},it={class:"film-list__item-name"},at={key:1,class:"film-list__item-fetching"},ot=Ke((function(){return Object(n["createElementVNode"])("div",{class:"item-fetching__premiere"},"Loading",-1)})),rt=Ke((function(){return Object(n["createElementVNode"])("div",{class:"item-fetching__poster"},null,-1)})),st=[ot,rt];function lt(e,t,c,i,a,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t[0]||(t[0]=function(){return o.linkToFilmPage&&o.linkToFilmPage.apply(o,arguments)})},[e.isFetching?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",at,st)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ze,[Object(n["createElementVNode"])("div",et,[Object(n["createElementVNode"])("div",tt,Object(n["toDisplayString"])(o.setRelease(c.film.premiereRu)),1),Object(n["createElementVNode"])("img",{src:c.film.posterUrlPreview,alt:c.film.nameRu,class:"item-card__poster"},null,8,ct)]),Object(n["createElementVNode"])("div",nt,Object(n["toDisplayString"])(c.film.genres.map((function(e){return e.genre})).join(", ")),1),Object(n["createElementVNode"])("h4",it,Object(n["toDisplayString"])(c.film.nameRu),1)]))])}c("a9e3");var ut=c("c1df"),dt=c.n(ut),mt={name:"FilmListItem",props:{film:Object},methods:{setRelease:function(e){var t=dt()(),c=dt()(e,"YYYY-MM-DD"),n=Number(t.diff(c,"days",!0));return n>=0?c.calendar({sameDay:"[Премьера]",lastDay:"[Новинка]",lastWeek:"[Новинка]",sameElse:" "}):c.calendar({nextDay:"[Завтра]",nextWeek:"[В кино с] DD.MM",sameElse:"[В кино с] DD.MM"})},linkToFilmPage:function(){this.$router.push("/films/".concat(this.film.kinopoiskId))}},computed:Object(a["a"])({},Object(k["e"])({isFetching:function(e){return e.films.isFetchingFilms}}))};c("cac0");const pt=Y()(mt,[["render",lt],["__scopeId","data-v-a1bc2654"]]);var bt=pt,ft=c("ba2d"),jt=c.n(ft);he["c"].use([he["b"]]);var Ot={name:"FilmListSwiper",components:{Swiper:Oe["a"],SwiperSlide:Oe["b"],FilmListItem:bt},props:{filmList:Array},data:function(){return{svgHref:"".concat(jt.a,"#ticket")}}};c("c1d4");const ht=Y()(Ot,[["render",Xe],["__scopeId","data-v-c5482f10"]]);var vt=ht,kt={name:"FilmList",props:{mode:String},components:{SortByReleaseButtons:ze,MyFilmSwiper:vt,FilmListItem:bt},data:function(){return{fetchingFilms:["fetchingFilm","fetchingFilm","fetchingFilm","fetchingFilm"]}},computed:Object(a["a"])(Object(a["a"])({},Object(k["e"])({isReleasedFilms:function(e){return e.selectedReleaseSort},selectedGenreSort:function(e){return e.selectedGenreSort},isFetching:function(e){return e.films.isFetchingFilms}})),Object(k["c"])({films:"films/filmsAfterSorts"}))};c("4354");const gt=Y()(kt,[["render",Te],["__scopeId","data-v-71311d21"]]);var yt=gt,Vt={name:"HomePage",components:{FilmstripSwiper:Me,FilmList:yt}};const Nt=Y()(Vt,[["render",fe]]);var Ct=Nt;function Et(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("sort-by-genres"),s=Object(n["resolveComponent"])("film-list");return Object(n["openBlock"])(),Object(n["createElementBlock"])("main",null,[Object(n["createVNode"])(r,{options:a.options},null,8,["options"]),Object(n["createVNode"])(s,{mode:"full"})])}var wt={class:"container"};function St(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("a-select-option"),s=Object(n["resolveComponent"])("a-select");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",wt,[Object(n["createVNode"])(s,{"default-value":null,value:i.selectedValues,"onUpdate:value":t[0]||(t[0]=function(e){return i.selectedValues=e})},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.options,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:e.value,value:e.value},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.label),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])])}var Bt={name:"SortByGenres",props:{options:{type:Array,default:function(){return[]}}},setup:function(){return{selectedValues:Object(n["ref"])(null)}},methods:Object(a["a"])({},Object(k["d"])({setSort:"setGenresSort"})),watch:{selectedValues:function(e){this.setSort(e)}}};c("d915");const _t=Y()(Bt,[["render",St],["__scopeId","data-v-a4138e32"]]);var Mt=_t,Dt={name:"FilmListPage",components:{FilmList:yt,SortByGenres:Mt},data:function(){return{options:[{label:"Все фильмы",value:null},{label:"комедия",value:"комедия"},{label:"мультфильм",value:"мультфильм"},{label:"детский",value:"детский"},{label:"семейный",value:"семейный"},{label:"приключения",value:"приключения"},{label:"фантастика",value:"фантастика"},{label:"фэнтези",value:"фэнтези"},{label:"боевик",value:"боевик"},{label:"криминал",value:"криминал"},{label:"драма",value:"драма"},{label:"мелодрама",value:"мелодрама"},{label:"мюзикл",value:"мюзикл"},{label:"военный",value:"военный"},{label:"документальный",value:"документальный"},{label:"триллер",value:"триллер"},{label:"ужасы",value:"ужасы"},{label:"биография",value:"биография"},{label:"история",value:"история"},{label:"спорт",value:"спорт"},{label:"короткометражка",value:"короткометражка"},{label:"детектив",value:"детектив"},{label:"концерт",value:"концерт"}]}}};const Ft=Y()(Dt,[["render",Et]]);var Tt=Ft,xt={key:0},Pt={class:"data-line"};function It(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("film-item"),s=Object(n["resolveComponent"])("date-picker"),l=Object(n["resolveComponent"])("session-schedule");return e.selectedFilm&&!a.isFetching?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",xt,[Object(n["createVNode"])(r,{film:e.selectedFilm,trailerURL:e.trailerURL},null,8,["film","trailerURL"]),Object(n["createElementVNode"])("div",Pt,[Object(n["createVNode"])(s)]),Object(n["createVNode"])(l)])):Object(n["createCommentVNode"])("",!0)}var At=c("1da1"),$t=(c("96cf"),c("4de4"),c("b0c0"),c("a4d3"),c("e01a"),{class:"film-item"}),Yt=["src"],Lt={key:1,class:"film-item__poster"},Rt=["src","alt"],Ut={class:"film-item__content"},zt={class:"film-item__header"},qt={class:"film-item__country"},Ht={class:"film-item__tags"},Gt=Object(n["createTextVNode"])(" Рейтинг фильма по версии Imdb "),Jt={class:"film-item__genres"},Qt={key:0,class:"film-item__duration"},Wt={class:"film-item__description"};function Xt(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("my-tag");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",$t,[c.trailerURL?(Object(n["openBlock"])(),Object(n["createElementBlock"])("iframe",{key:0,class:"film-item__frame",src:c.trailerURL,title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,Yt)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Lt,[Object(n["createElementVNode"])("img",{src:c.film.posterUrlPreview,alt:"Постер ".concat(c.film.nameRu)},null,8,Rt)])),Object(n["createElementVNode"])("div",Ut,[Object(n["createElementVNode"])("h1",zt,Object(n["toDisplayString"])(c.film.nameRu),1),Object(n["createElementVNode"])("p",qt,Object(n["toDisplayString"])(c.film.nameOriginal)+" ("+Object(n["toDisplayString"])(c.film.year)+", "+Object(n["toDisplayString"])(c.film.countries.map((function(e){return e.country})).join(", "))+")",1),Object(n["createElementVNode"])("div",Ht,[Object(n["createVNode"])(r,{text:e.ageLimits,type:"dotted"},null,8,["text"]),c.film.ratingImdb?(Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:0,text:c.film.ratingImdb,popover:!0,type:"green"},{default:Object(n["withCtx"])((function(){return[Gt]})),_:1},8,["text"])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("p",Jt,Object(n["toDisplayString"])(c.film.genres.length>1?"Жанры: ":"Жанр: ")+" "+Object(n["toDisplayString"])(c.film.genres.map((function(e){return e.genre})).join(", ")),1),c.film.filmLength?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",Qt,"Длительность: "+Object(n["toDisplayString"])(o.setDuration(c.film.filmLength)),1)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("p",Wt,Object(n["toDisplayString"])(c.film.description),1)])])}c("25f0"),c("99af");var Kt={class:"popover-description"};function Zt(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("a-popover");return c.popover?(Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:0},{content:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",Kt,[Object(n["renderSlot"])(e.$slots,"default",{},void 0,!0)])]})),default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["tag","".concat(c.isAnimated?"animated":"","\n         ").concat(c.type?c.type:"")])},Object(n["toDisplayString"])(c.text),3)]})),_:3})):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:1,class:Object(n["normalizeClass"])(["tag","".concat(c.type?c.type:"")])},Object(n["toDisplayString"])(c.text),3))}var ec={name:"MyTag",props:{text:{type:[String,Number],required:!0},type:{type:String,required:!0},isAnimated:{type:Boolean},popover:{type:Boolean}}};c("fa2b");const tc=Y()(ec,[["render",Zt],["__scopeId","data-v-6663b4cc"]]);var cc=tc,nc={name:"FilmItem",components:{MyTag:cc},props:{trailerURL:{type:String},film:{type:Object}},computed:Object(a["a"])({},Object(k["e"])({ageLimits:function(e){return e.selectedFilm.ageLimits}})),methods:{setDuration:function(e){var t=e.toString().slice(-1);return"".concat(e,"1"===t?" минута":t>1&&t<5?" минуты":" минут")}}};c("6913");const ic=Y()(nc,[["render",Xt],["__scopeId","data-v-003c94f2"]]);var ac=ic,oc={key:0},rc={class:"session-schedule__item"},sc={class:"place"},lc={class:"place__name header"},uc={class:"place__address"},dc={class:"sessions"},mc={class:"header"},pc={class:"sessions__container"},bc={key:1,class:"session-schedule-empty"};function fc(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("session-item"),s=Object(n["resolveComponent"])("checkout-modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[o.hasRelease()?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",oc,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.cinemas,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e.id,class:"session-schedule"},[Object(n["createElementVNode"])("div",rc,[Object(n["createElementVNode"])("div",sc,[Object(n["createElementVNode"])("h3",lc,Object(n["toDisplayString"])(e.name),1),Object(n["createElementVNode"])("div",uc,Object(n["toDisplayString"])(e.address),1)]),Object(n["createElementVNode"])("div",dc,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.formats,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t},[Object(n["createElementVNode"])("h3",mc,Object(n["toDisplayString"])(t.format),1),Object(n["createElementVNode"])("div",pc,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(t.sessions,(function(c){return Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:"".concat(c.time,"-").concat(c.hall,"-").concat(t.format),session:o.setSession(e,t,c)},null,8,["session"])})),128))])])})),128))])])])})),128))])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",bc," Премьера фильма назначена на "+Object(n["toDisplayString"])(e.premiereDate)+". ",1)),Object(n["createVNode"])(s)],64)}var jc={class:"session"},Oc={class:"session__price"};function hc(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("a-button");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",jc,[Object(n["createVNode"])(r,{class:Object(n["normalizeClass"])(["btn session__btn",a.isDisabled?"session__btn-disabled":"session__btn-available"]),disabled:a.isDisabled,onClick:t[0]||(t[0]=function(e){return o.setSession(c.session)})},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(c.session.time),1)]})),_:1},8,["disabled","class"]),Object(n["createElementVNode"])("span",Oc,Object(n["toDisplayString"])(c.session.price)+" ₽",1)])}var vc={name:"SessionItem",props:{session:{type:Object}},data:function(){return{interval:null,isDisabled:null}},computed:Object(a["a"])({},Object(k["e"])({selectedDate:function(e){return e.selectedFilm.selectedDate}})),watch:{selectedDate:function(e){console.log(e!==dt()().format("DD.MM.YYYY")),e!==dt()().format("DD.MM.YYYY")?(this.stopTimer(),this.isDisabled=!1):this.startTimer()}},methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setCheckoutModalVisible:"selectedFilm/setCheckoutModalVisible",setSelectedSession:"selectedFilm/setSelectedSession"})),{},{setSession:function(e){this.setCheckoutModalVisible(!0),this.setSelectedSession(e)},startTimer:function(){this.interval=setInterval(this.isSessionStarter,1e3)},isSessionStarter:function(){dt()(this.session.time,"hh:mm")<dt()()?(this.isDisabled=!0,this.stopTimer()):this.isDisabled=!1},stopTimer:function(){this.interval&&clearInterval(this.interval)}}),beforeMount:function(){this.selectedDate===dt()().format("DD.MM.YYYY")&&this.startTimer()},unmounted:function(){this.stopTimer()}};c("d027");const kc=Y()(vc,[["render",hc],["__scopeId","data-v-7aa0b280"]]);var gc=kc,yc=(c("202f"),{class:"modal-wrap"}),Vc={key:1,class:"step-content"},Nc={key:2,class:"step-content"},Cc={key:3,class:"step-content"},Ec=Object(n["createTextVNode"])(" Назад "),wc=Object(n["createTextVNode"])(" Продолжить "),Sc=Object(n["createTextVNode"])(" Перейти к оплате "),Bc=Object(n["createTextVNode"])(" Вернуться к расписанию сеансов ");function _c(e,t,c,i,a,o){var r=this,s=Object(n["resolveComponent"])("a-step"),l=Object(n["resolveComponent"])("a-steps"),u=Object(n["resolveComponent"])("warning-step"),d=Object(n["resolveComponent"])("seats-picking-step"),m=Object(n["resolveComponent"])("checkout-step"),p=Object(n["resolveComponent"])("a-button"),b=Object(n["resolveComponent"])("chosen-seats-info"),f=Object(n["resolveComponent"])("a-modal");return Object(n["openBlock"])(),Object(n["createBlock"])(f,{visible:a.isVisible,"onUpdate:visible":t[0]||(t[0]=function(e){return a.isVisible=e}),width:"980px",centered:!0,footer:null,wrapClassName:"modal",afterClose:o.handleCancel},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",yc,[r.isTimeExpired?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:0,current:a.currentModalPage,class:"modal__steps"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(a.steps,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:e.title,title:e.title},null,8,["title"])})),128))]})),_:1},8,["current"])),0===a.currentModalPage?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Vc,[Object(n["createVNode"])(u)])):Object(n["createCommentVNode"])("",!0),1===a.currentModalPage?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Nc,[Object(n["createVNode"])(d)])):Object(n["createCommentVNode"])("",!0),2===a.currentModalPage?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Cc,[Object(n["createVNode"])(m)])):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["steps-action",r.isTimeExpired?"centered":""])},[a.currentModalPage>1&&!e.isTimeExpired?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:0,style:{"margin-left":"8px"},onClick:o.prev},{default:Object(n["withCtx"])((function(){return[Ec]})),_:1},8,["onClick"])):Object(n["createCommentVNode"])("",!0),0===a.currentModalPage?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:1,type:"primary",onClick:o.next},{default:Object(n["withCtx"])((function(){return[wc]})),_:1},8,["onClick"])):Object(n["createCommentVNode"])("",!0),1===a.currentModalPage&&e.tickets.length>0?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:2,type:"crop"})):Object(n["createCommentVNode"])("",!0),1===a.currentModalPage?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:3,type:"primary",onClick:o.next,disabled:a.isDisabled},{default:Object(n["withCtx"])((function(){return[Sc]})),_:1},8,["onClick","disabled"])):Object(n["createCommentVNode"])("",!0),a.currentModalPage==a.steps.length-1&&r.isTimeExpired?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:4,type:"primary",onClick:o.handleCancel},{default:Object(n["withCtx"])((function(){return[Bc]})),_:1},8,["onClick"])):Object(n["createCommentVNode"])("",!0)],2)]})),_:1},8,["visible","afterClose"])}var Mc=function(e){return Object(n["pushScopeId"])("data-v-5a4cf67c"),e=e(),Object(n["popScopeId"])(),e},Dc=Mc((function(){return Object(n["createElementVNode"])("h2",null,"Дорогие гости, просим принять во внимание меры предосторожности в связи с эпидемиологической ситуацией:",-1)})),Fc=Mc((function(){return Object(n["createElementVNode"])("ul",null,[Object(n["createElementVNode"])("li",null,"― Соблюдайте правила личной гигиены"),Object(n["createElementVNode"])("li",null,"― Пользуйтесь бесконтактными способами оплаты"),Object(n["createElementVNode"])("li",null,"― Соблюдайте социальную дистанцию на расстоянии не менее 1,5 метра"),Object(n["createElementVNode"])("li",null,"― Воздержитесь от посещения кинотеатра при наличии симптомов, характерных для ОРВИ")],-1)})),Tc=Mc((function(){return Object(n["createElementVNode"])("p",null,[Object(n["createElementVNode"])("strong",null,"Для посещения кинотеатра так же необходим QR-код, подтверждающий вакцинацию от коронавируса")],-1)}));function xc(e,t,c,i,a,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Dc,Fc,Tc],64)}var Pc={name:"WarningStep"};c("54c6");const Ic=Y()(Pc,[["render",xc],["__scopeId","data-v-5a4cf67c"]]);var Ac=Ic,$c=function(e){return Object(n["pushScopeId"])("data-v-690c496a"),e=e(),Object(n["popScopeId"])(),e},Yc={key:0,class:"seats-info-wrap"},Lc=["onClick"],Rc=$c((function(){return Object(n["createElementVNode"])("g",null,[Object(n["createElementVNode"])("path",{d:"M394,75.8L249.6,220.2L105.2,75.8c-8.2-8.2-21.6-8.2-29.8,0s-8.2,21.6,0,29.8L219.8,250L75.4,394.4\r\n\t\t          c-8.2,8.2-8.2,21.6,0,29.8c8.2,8.2,21.6,8.2,29.8,0l144.4-144.4L394,424.2c8.2,8.2,21.6,8.2,29.8,0c8.2-8.2,8.2-21.6,0-29.8\r\n\t\t          L279.4,250l144.4-144.4c8.2-8.2,8.2-21.6,0-29.8C415.6,67.6,402.3,67.6,394,75.8z"})],-1)})),Uc=[Rc],zc={type:"primary"},qc={key:1,class:"seats-info-wrap-full"},Hc={class:"film-name"},Gc={class:"tags-container"},Jc={class:"cinema-address"},Qc={class:"session-time"},Wc={class:"order-info"},Xc={class:"order-info__ticket-item-wrap"},Kc={class:"ticket-item__seat-info"},Zc=$c((function(){return Object(n["createElementVNode"])("div",{class:"ticket-item__dotted-line"},null,-1)})),en={class:"ticket-item__seat-price"},tn={class:"order-info__total-price"};function cn(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("a-popover"),s=Object(n["resolveComponent"])("my-tag");return"crop"===c.type?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Yc,[Object(n["createVNode"])(r,{modelValue:a.visible,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.visible=e}),trigger:"click"},{content:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.tickets,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:"".concat(t.row,"-").concat(t.seat),class:"seats-info"},[Object(n["createElementVNode"])("span",null,"Ряд "+Object(n["toDisplayString"])(t.row)+", Место "+Object(n["toDisplayString"])(t.seat)+" ― "+Object(n["toDisplayString"])(e.session.price)+"₽",1),(Object(n["openBlock"])(),Object(n["createElementBlock"])("svg",{class:"delete-button",onClick:function(c){return e.removeTicket(t.id)},xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 500 500","xml:space":"preserve"},Uc,8,Lc))])})),128))]})),default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("a",zc,Object(n["toDisplayString"])(e.getCountInfoAboutTickets),1)]})),_:1},8,["modelValue"]),Object(n["createElementVNode"])("span",null,"за "+Object(n["toDisplayString"])(e.session.price*e.tickets.length)+"₽",1)])):"full"===c.type?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",qc,[Object(n["createElementVNode"])("h1",Hc,Object(n["toDisplayString"])(e.film.nameRu),1),Object(n["createElementVNode"])("div",Gc,[Object(n["createVNode"])(s,{text:e.ageLimits,type:"dotted"},null,8,["text"]),Object(n["createVNode"])(s,{text:e.session.format,type:"green","is-animated":"3D"===e.session.format,popover:"3D"===e.session.format},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])("3D"===e.session.format?"3D-очки выдаются перед входом в зал 🕶":null),1)]})),_:1},8,["text","is-animated","popover"])]),Object(n["createElementVNode"])("div",Jc,[Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.session.cinema.name)+", Зал "+Object(n["toDisplayString"])(e.session.hall),1),Object(n["createElementVNode"])("p",null,Object(n["toDisplayString"])(e.session.cinema.address),1)]),Object(n["createElementVNode"])("p",Qc,"Сегодня в "+Object(n["toDisplayString"])(e.session.time),1),Object(n["createElementVNode"])("div",Wc,[Object(n["createElementVNode"])("h3",null,Object(n["toDisplayString"])(e.getCountInfoAboutTickets),1),Object(n["createElementVNode"])("div",Xc,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.sortedTickets,(function(t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"order-info__ticket-item",key:t.id},[Object(n["createElementVNode"])("div",Kc,"Ряд "+Object(n["toDisplayString"])(t.row)+", Место "+Object(n["toDisplayString"])(t.seat),1),Zc,Object(n["createElementVNode"])("div",en,Object(n["toDisplayString"])(e.session.price)+"₽",1)])})),128))]),Object(n["createElementVNode"])("div",tn,"Итого: "+Object(n["toDisplayString"])(e.tickets.length*e.session.price)+"₽",1)])])):Object(n["createCommentVNode"])("",!0)}c("4e82");var nn={name:"ChosenSeatsInfo",components:{MyTag:cc},props:{type:{type:String,required:!0}},data:function(){return{visible:!1}},computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(k["e"])({tickets:function(e){return e.selectedFilm.selectedTickets},session:function(e){return e.selectedFilm.selectedSession},film:function(e){return e.selectedFilm.film},ageLimits:function(e){return e.selectedFilm.ageLimits}})),Object(k["c"])({getCountInfoAboutTickets:"selectedFilm/getCountInfoAboutTickets"})),{},{sortedTickets:function(){return this.tickets.map((function(e){return e})).sort((function(e,t){return e.row-t.row||e.seat-t.seat}))}}),methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({removeTicket:"selectedFilm/removeTicket"})),{},{hide:function(){this.visible=!1}})};c("d205");const an=Y()(nn,[["render",cn],["__scopeId","data-v-690c496a"]]);var on=an,rn=function(e){return Object(n["pushScopeId"])("data-v-bc66addc"),e=e(),Object(n["popScopeId"])(),e},sn={class:"film-header"},ln={class:"film-header__tags-container"},un=Object(n["createTextVNode"])(" 3D-очки выдаются перед входом в зал 🕶 "),dn={class:"film-header__cinema"},mn=rn((function(){return Object(n["createElementVNode"])("ul",{class:"showcase"},[Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("div",{class:"seat"}),Object(n["createElementVNode"])("small",null,"Свободно")]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("div",{class:"seat selected"}),Object(n["createElementVNode"])("small",null,"Выбрано")]),Object(n["createElementVNode"])("li",null,[Object(n["createElementVNode"])("div",{class:"seat occupied"}),Object(n["createElementVNode"])("small",null,"Занято")])],-1)})),pn={class:"overflow-wrapper"};function bn(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("my-tag"),s=Object(n["resolveComponent"])("seats-picker");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",sn,[Object(n["createElementVNode"])("h1",null,Object(n["toDisplayString"])(e.film.nameRu),1),Object(n["createElementVNode"])("div",ln,[Object(n["createVNode"])(r,{text:e.ageLimits,type:"dotted"},null,8,["text"]),Object(n["createVNode"])(r,{text:e.session.format,type:"green","is-animated":"3D"===e.session.format,popover:"3D"===e.session.format},{default:Object(n["withCtx"])((function(){return[un]})),_:1},8,["text","is-animated","popover"])]),Object(n["createElementVNode"])("p",dn,Object(n["toDisplayString"])(e.session.cinema.name)+", Зал "+Object(n["toDisplayString"])(e.session.hall),1)]),mn,Object(n["createElementVNode"])("div",pn,[Object(n["createVNode"])(s)])],64)}var fn=function(e){return Object(n["pushScopeId"])("data-v-4801476b"),e=e(),Object(n["popScopeId"])(),e},jn={class:"container"},On=fn((function(){return Object(n["createElementVNode"])("div",{class:"screen"},"Экран",-1)})),hn={class:"seats"},vn={class:"row-number"},kn={class:"row-number"};function gn(e,t,c,i,a,o){var r=this,s=Object(n["resolveComponent"])("seat");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",jn,[On,Object(n["createElementVNode"])("div",hn,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.setTypeHall,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e,class:Object(n["normalizeClass"])(["row",r.session.hallType])},[Object(n["createElementVNode"])("div",vn,Object(n["toDisplayString"])(e.row),1),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.seats,(function(t){return Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:"".concat(e.row,"-").concat(t.seat),row:e.row,seatInRow:t.seat,isOccupied:t.isOccupied,peopleCapacity:t.peopleCapacity},null,8,["row","seatInRow","isOccupied","peopleCapacity"])})),128)),Object(n["createElementVNode"])("div",kn,Object(n["toDisplayString"])(e.row),1)],2)})),128))])])}function yn(e,t,c,i,a,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onClick:t[0]||(t[0]=function(e){return o.handleChange()}),class:Object(n["normalizeClass"])(["seat","".concat(c.peopleCapacity,"\n       ").concat(o.contains(e.tickets,a.id)?"selected":"","\n       ").concat(e.isLimit?"locked":"","\n       ").concat(c.isOccupied?"occupied":"")])},Object(n["toDisplayString"])(o.contains(e.tickets,a.id)?c.seatInRow:null),3)}var Vn={name:"Seat",props:{row:{type:Number,required:!0},seatInRow:{type:Number,required:!0},isOccupied:{type:Boolean,required:!0},peopleCapacity:{type:String,required:!0}},data:function(){return{id:"".concat(this.row,"-").concat(this.seatInRow)}},computed:Object(a["a"])(Object(a["a"])({},Object(k["e"])({tickets:function(e){return e.selectedFilm.selectedTickets}})),Object(k["c"])({isLimit:"selectedFilm/isLimitOfTickets"})),methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setTicket:"selectedFilm/setTicket",removeTicket:"selectedFilm/removeTicket"})),{},{contains:function(e,t){return e.find((function(e){return e.id===t}))},handleChange:function(){var e=!!this.tickets.length&&this.contains(this.tickets,this.id);this.isLimit?e&&this.removeTicket(this.id):e?this.removeTicket(this.id):this.setTicket({row:this.row,seat:this.seatInRow,id:this.id})}})};c("c1ba");const Nn=Y()(Vn,[["render",yn],["__scopeId","data-v-2184aeed"]]);var Cn=Nn,En={name:"SeatsPicker",components:{Seat:Cn},computed:Object(a["a"])(Object(a["a"])({},Object(k["e"])({session:function(e){return e.selectedFilm.selectedSession},halls:function(e){return e.cinemaSession.halls}})),{},{setTypeHall:function(){var e=this.session.hallType;return this.halls.find((function(t){return t.hallType===e})).layout}})};c("6e60");const wn=Y()(En,[["render",gn],["__scopeId","data-v-4801476b"]]);var Sn=wn,Bn={name:"SeatsPickingStep",components:{SeatsPicker:Sn,MyTag:cc},computed:Object(a["a"])({},Object(k["e"])({film:function(e){return e.selectedFilm.film},ageLimits:function(e){return e.selectedFilm.ageLimits},session:function(e){return e.selectedFilm.selectedSession}}))};c("5725");const _n=Y()(Bn,[["render",bn],["__scopeId","data-v-bc66addc"]]);var Mn=_n,Dn=function(e){return Object(n["pushScopeId"])("data-v-3b44253a"),e=e(),Object(n["popScopeId"])(),e},Fn={class:"popover-description"},Tn={key:0,class:"checkout-step-content"},xn={class:"step-header-wrap"},Pn={class:"step-header"},In=Dn((function(){return Object(n["createElementVNode"])("h2",{class:"step-header-description"}," Проверьте Ваш заказ и выберите удобный способ оплаты. ",-1)})),An={class:"pay-wrap"},$n={class:"pay-left-col"},Yn={class:"pay-right-col"},Ln={key:1,class:"header-expired-wrap"},Rn=Dn((function(){return Object(n["createElementVNode"])("h1",{class:"step-header"},"Извините, время на оплату вышло.",-1)})),Un=Dn((function(){return Object(n["createElementVNode"])("h3",{class:"step-description"}," Приносим извинения за доставленные неудобства 😢 ",-1)})),zn=[Rn,Un];function qn(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("my-timer"),s=Object(n["resolveComponent"])("a-popover"),l=Object(n["resolveComponent"])("chosen-seats-info"),u=Object(n["resolveComponent"])("payment-form");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(s,null,{content:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",Fn,[Object(n["createElementVNode"])("p",null," На время оплаты "+Object(n["toDisplayString"])(e.tickets.length>1?"Ваши билеты забронированы, чтобы их могли":"Ваш билет забронирован, чтобы его могли")+" купить только Вы. ",1),Object(n["createElementVNode"])("p",null," Но если Вы не произведете оплату по окончанию таймера, бронь с "+Object(n["toDisplayString"])(e.tickets.length>1?"билетов":"билета")+" будет снята 😥 ",1)])]})),default:Object(n["withCtx"])((function(){return[e.isTimeExpired?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:0,duration:900,callback:o.setExpiredCallback,class:"checkout-timer"},null,8,["callback"]))]})),_:1}),!1===e.isTimeExpired?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Tn,[Object(n["createElementVNode"])("div",xn,[Object(n["createElementVNode"])("h1",Pn,Object(n["toDisplayString"])(e.tickets.length>1?"Ваши билеты почти готовы!":"Ваш билет почти готов!")+" Осталось дело за малым... ",1),In]),Object(n["createElementVNode"])("div",An,[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",$n,[Object(n["createVNode"])(l,{type:"full"})])]),Object(n["createElementVNode"])("div",Yn,[Object(n["createVNode"])(u)])])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ln,zn))],64)}function Hn(e,t,c,i,a,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["timer",a.seconds<=45?"timer-running-out":""])},Object(n["toDisplayString"])(o.getMinutes)+":"+Object(n["toDisplayString"])(o.getSeconds),3)}var Gn={name:"MyTimer",props:{duration:{type:Number},callback:{type:Function}},data:function(){return{seconds:this.duration,interval:null}},methods:{startTimer:function(){this.interval=setInterval(this.decrementSeconds,1e3)},stopTimer:function(){clearInterval(this.interval)},decrementSeconds:function(){this.seconds>0?this.seconds--:(this.stopTimer(),this.callback())}},computed:{getMinutes:function(){var e=Math.floor(this.seconds/60);return e<10?"0".concat(e):e},getSeconds:function(){var e=this.seconds%60;return e<10?"0".concat(e):e}},mounted:function(){this.startTimer()},unmounted:function(){this.stopTimer()}};c("c4ff");const Jn=Y()(Gn,[["render",Hn],["__scopeId","data-v-2dd2000e"]]);var Qn=Jn,Wn=function(e){return Object(n["pushScopeId"])("data-v-4bc417df"),e=e(),Object(n["popScopeId"])(),e},Xn={form:"payment-form",class:"payment-form__fieldset-wrap"},Kn=Wn((function(){return Object(n["createElementVNode"])("legend",null,"1. Данные для получения заказа",-1)})),Zn={key:0,class:"error-message"},ei={key:0,class:"error-message"},ti={form:"payment-form",class:"payment-form__fieldset-wrap"},ci=Wn((function(){return Object(n["createElementVNode"])("legend",null,"2. Способ оплаты",-1)})),ni=Object(n["createTextVNode"])(" Банковская карта "),ii=Object(n["createTextVNode"])(" Google Pay "),ai=Object(n["createTextVNode"])(" В кассе кинотеатра перед сеансом "),oi={key:0,class:"error-message"},ri={key:1,class:"auth-wrap"},si=Wn((function(){return Object(n["createElementVNode"])("h2",{class:"auth-header"},"Чтобы оплатить заказ, нужно авторизоваться",-1)})),li=Object(n["createTextVNode"])("Вход");function ui(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("a-input"),s=Object(n["resolveComponent"])("a-radio-button"),l=Object(n["resolveComponent"])("a-radio-group"),u=Object(n["resolveComponent"])("a-button"),d=Object(n["resolveComponent"])("a-spin");return e.authAccount?(Object(n["openBlock"])(),Object(n["createElementBlock"])("form",{key:0,class:"payment-form",id:"payment-form",onSubmit:t[3]||(t[3]=Object(n["withModifiers"])((function(){}),["prevent"])),novalidate:""},[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("fieldset",Xn,[Kn,Object(n["createElementVNode"])("label",null,[Object(n["createVNode"])(r,{class:"input payment-form__input",value:a.form.userMail,"onUpdate:value":t[0]||(t[0]=function(e){return a.form.userMail=e}),onBlur:i.v$.form.userMail.$touch,type:"email",placeholder:"Введите вашу почту"},null,8,["value","onBlur"]),i.v$.form.userMail.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",Zn,Object(n["toDisplayString"])(o.userMailErrors),1)):Object(n["createCommentVNode"])("",!0)]),Object(n["createElementVNode"])("label",null,[Object(n["createVNode"])(r,{class:"input payment-form__input",value:a.form.userPhoneNumber,"onUpdate:value":t[1]||(t[1]=function(e){return a.form.userPhoneNumber=e}),onBlur:i.v$.form.userPhoneNumber.$touch,type:"tel",placeholder:"Введите ваш номер телефона"},null,8,["value","onBlur"]),i.v$.form.userPhoneNumber.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",ei,Object(n["toDisplayString"])(o.userPhoneNumberErrors),1)):Object(n["createCommentVNode"])("",!0)])]),Object(n["createElementVNode"])("fieldset",ti,[ci,Object(n["createElementVNode"])("label",null,[Object(n["createVNode"])(l,{class:"payment-form__checkout-type",value:a.form.paymentMethod,"onUpdate:value":t[2]||(t[2]=function(e){return a.form.paymentMethod=e})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{value:"Банковская карта"},{default:Object(n["withCtx"])((function(){return[ni]})),_:1}),Object(n["createVNode"])(s,{value:"Google Pay"},{default:Object(n["withCtx"])((function(){return[ii]})),_:1}),Object(n["createVNode"])(s,{value:"В кассе кинотеатра"},{default:Object(n["withCtx"])((function(){return[ai]})),_:1})]})),_:1},8,["value"]),i.v$.form.paymentMethod.$error?(Object(n["openBlock"])(),Object(n["createElementBlock"])("p",oi,Object(n["toDisplayString"])(o.paymentMethodErrors),1)):Object(n["createCommentVNode"])("",!0)])])]),Object(n["createVNode"])(d,{spinning:a.isFetching},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{type:"primary",class:"btn-submit",onClick:o.handleSuccess},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])("Оплатить "+Object(n["toDisplayString"])(e.tickets.length*e.session.price)+"₽ ",1)]})),_:1},8,["onClick"])]})),_:1},8,["spinning"])],32)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ri,[si,Object(n["createVNode"])(u,{type:"primary",class:"btn-auth",onClick:t[4]||(t[4]=function(e){return o.setModalVisible(!0)})},{default:Object(n["withCtx"])((function(){return[li]})),_:1})]))}var di={name:"PaymentForm",setup:function(){return{v$:Object(D["a"])()}},data:function(){return{isFetching:!1,form:{userMail:"",userPhoneNumber:"",paymentMethod:""}}},validations:function(){return{form:{userMail:{required:F["c"],email:F["a"]},userPhoneNumber:{required:F["c"],hasValidPhoneNumber:T},paymentMethod:{required:F["c"]}}}},computed:Object(a["a"])(Object(a["a"])({},Object(k["e"])({tickets:function(e){return e.selectedFilm.selectedTickets},session:function(e){return e.selectedFilm.selectedSession},film:function(e){return e.selectedFilm.film},ageLimits:function(e){return e.selectedFilm.ageLimits},date:function(e){return e.selectedFilm.selectedDate},authAccount:function(e){return e.auth.authAccount}})),{},{userMailErrors:function(){return this.v$.form.userMail.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userMail.email.$invalid?"* Неправильный формат почты.":null},userPhoneNumberErrors:function(){return this.v$.form.userPhoneNumber.required.$invalid?"* Обязательно для заполнения.":this.v$.form.userPhoneNumber.hasValidPhoneNumber?"* Неправильный формат номера.":null},paymentMethodErrors:function(){return this.v$.form.paymentMethod.required.$invalid?"* Выберете способ оплаты.":null}}),methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setCheckoutModalVisible:"selectedFilm/setCheckoutModalVisible",setAuthModalVisible:"setAuthModalVisible",clearTickets:"selectedFilm/clearTickets",updateAccountHistory:"updateTicketsHistory"})),{},{setFetching:function(e){this.isFetching=e},openNotification:function(){this.$notification["success"]({message:"Запасайтесь попкорном!",description:"".concat(this.tickets.length>1?"Билеты успешно оплачены. Информация о билетах":"Билет успешно оплачен. Информация о билете","  хранится в личном кабинете, а так же будет продублирована на почту и телефон, указанные Вами перед оплатой.")})},addTicketToAccountHistory:function(e){var t=this.authAccount;t.ticketsHistory.push(e),this.updateAccountHistory(t);var c=JSON.parse(localStorage.users),n=c.map((function(e){return e.mail===t.mail?t:e}));localStorage.setItem("users",JSON.stringify(n))},handleSuccess:function(){var e=this;this.v$.$touch(),this.setFetching(!0),this.v$.$invalid?this.setFetching(!1):setTimeout((function(){e.addTicketToAccountHistory({id:dt()().unix(),filmName:e.film.nameRu,filmLength:e.film.filmLength,session:e.session,date:e.date,ageLimits:e.ageLimits,ticketsInfo:e.tickets,userMail:e.form.userMail,paymentMethod:e.form.paymentMethod}),e.setCheckoutModalVisible(!1),e.setFetching(!1),e.openNotification()}),500)},setModalVisible:function(e){this.setAuthModalVisible(e)}})};c("dea3");const mi=Y()(di,[["render",ui],["__scopeId","data-v-4bc417df"]]);var pi=mi,bi={name:"CheckoutStep",components:{MyTimer:Qn,ChosenSeatsInfo:on,PaymentForm:pi},data:function(){return{}},methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setIsTimeExpired:"setIsTimeExpired",clearTickets:"selectedFilm/clearTickets"})),{},{setExpiredCallback:function(){this.setIsTimeExpired(!0),this.clearTickets()}}),computed:Object(a["a"])(Object(a["a"])({},Object(k["e"])({isTimeExpired:function(e){return e.isTimeExpired},tickets:function(e){return e.selectedFilm.selectedTickets}})),Object(k["c"])({getCountInfoAboutTickets:"selectedFilm/getCountInfoAboutTickets"})),unmounted:function(){this.setIsTimeExpired(!1)}};c("23c6");const fi=Y()(bi,[["render",qn],["__scopeId","data-v-3b44253a"]]);var ji=fi,Oi={name:"CheckoutModal",components:{WarningStep:Ac,SeatsPickingStep:Mn,CheckoutStep:ji,ChosenSeatsInfo:on},data:function(){return{currentModalPage:0,isVisible:!1,isDisabled:!0,steps:[{title:"Прочитайте условия"},{title:"Выберите места"},{title:"Оплатите билеты"}]}},computed:Object(a["a"])({},Object(k["e"])({checkoutModalVisible:function(e){return e.selectedFilm.checkoutModalVisible},tickets:function(e){return e.selectedFilm.selectedTickets},session:function(e){return e.selectedFilm.selectedSession},isTimeExpired:function(e){return e.isTimeExpired}})),methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setCheckoutModalVisible:"selectedFilm/setCheckoutModalVisible",clearTickets:"selectedFilm/clearTickets"})),{},{handleCancel:function(){this.setCheckoutModalVisible(!1)},handleSuccess:function(){this.setCheckoutModalVisible(!1)},next:function(){this.currentModalPage++},prev:function(){this.currentModalPage--}}),watch:{checkoutModalVisible:function(e){!1===e&&(this.currentModalPage=0,this.clearTickets()),this.isVisible=e},tickets:function(e){this.isDisabled=!e.length}},beforeMount:function(){!0===this.isVisible&&(this.isVisible=!1,this.setCheckoutModalVisible(!1))}};c("87c6");const hi=Y()(Oi,[["render",_c]]);var vi=hi,ki={name:"SessionSchedule",components:{CheckoutModal:vi,SessionItem:gc},computed:Object(a["a"])({},Object(k["e"])({cinemas:function(e){return e.cinemaSession.cinema},premiereDate:function(e){return e.selectedFilm.premiereDate},selectedDate:function(e){return e.selectedFilm.selectedDate}})),methods:{setSession:function(e,t,c){return{time:c.time,price:c.price,hall:c.hall,hallType:c.hallType,format:t.format,cinema:{name:e.name,address:e.address}}},hasRelease:function(){return dt()(this.premiereDate,"DD.MM.YYYY").unix()<=dt()(this.selectedDate,"DD.MM.YYYY").unix()}}};c("1551");const gi=Y()(ki,[["render",fc],["__scopeId","data-v-06e01ca1"]]);var yi=gi;function Vi(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("a-date-picker");return Object(n["openBlock"])(),Object(n["createBlock"])(r,{value:a.value,"onUpdate:value":t[0]||(t[0]=function(e){return a.value=e}),onChange:o.onChange,locale:a.locale,"disabled-date":o.disabledDate,format:"DD.MM.YYYY",placeholder:"Сегодня",inputReadOnly:!0,size:"large"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.time?e.time:"SelectTime"),1)]})),_:1},8,["value","onChange","locale","disabled-date"])}var Ni=c("c4ee"),Ci={name:"DatePicker",data:function(){return{locale:Ni["a"],value:null}},computed:Object(a["a"])({},Object(k["e"])({dateOfDatePicker:function(e){return e.selectedFilm.dateOfDatePicker}})),methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setDate:"selectedFilm/setSelectedDate"})),{},{disabledDate:function(e){return e<dt()().subtract(1,"d")||e>dt()().add(7,"d")},onChange:function(e){this.setDate(e.format("DD.MM.YYYY"))}})};const Ei=Y()(Ci,[["render",Vi]]);var wi=Ei,Si={name:"FilmPage",components:{FilmItem:ac,SessionSchedule:yi,DatePicker:wi},props:{id:String},computed:Object(a["a"])({},Object(k["e"])({selectedFilm:function(e){return e.selectedFilm.film},trailerURL:function(e){return e.selectedFilm.trailerUrl},ratingAgeLimits:function(e){return e.selectedFilm.ageLimits}})),data:function(){return{isFetching:!1}},methods:Object(a["a"])(Object(a["a"])({},Object(k["d"])({setFilmData:"selectedFilm/setSelectedFilm",setTrailersUrl:"selectedFilm/setTrailerUrlOfSelectedFilm",setAgeLimits:"selectedFilm/setAgeLimitsOfSelectedFilm",setDate:"selectedFilm/setSelectedDate",setPremiereDate:"selectedFilm/setPremiereDate"})),{},{setFetching:function(e){this.isFetching=e},getCorrectYoutubeTrailerUrl:function(e){var t=/(Трейлер)/i,c=null===e||void 0===e?void 0:e.items.filter((function(e){return"YOUTUBE"===e.site&&t.test(e.name)}));if(c.length){var n,i=/(?:https?:\/\/)?(?:www\.)?youtu\.?be(?:\.com)?\/?.*(?:watch|embed)?(?:.*v=|v\/|\/)([\w\-_]+)?/,a=null===(n=c[0])||void 0===n?void 0:n.url;return"https://www.youtube.com/embed/".concat(a.match(i)[1])}},getAgeRatingLimits:function(e){return null===e.ratingAgeLimits?"0+":"".concat(e.ratingAgeLimits.match(/\d{1,2}/g),"+")},getPremiereDate:function(e){var t=e.items.filter((function(e){var t;return"Россия"===(null===(t=e.country)||void 0===t?void 0:t.country)})),c=t.find((function(e){return!0===e.reRelease}));return c?dt()(c.date,"YYYY-MM-DD").format("DD.MM.YYYY"):dt()(t[0].date,"YYYY-MM-DD").format("DD.MM.YYYY")},fetchFilmsData:function(e){var t=this;return Object(At["a"])(regeneratorRuntime.mark((function c(){var n,i,a,o,r,s,l;return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return n=function(e){return fetch(e,{method:"GET",headers:{"X-API-KEY":"bbd5c8d2-662f-428b-9b73-5fb961a663ad","Content-Type":"application/json"}})},c.prev=1,t.setFetching(!0),c.next=5,n("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(e));case 5:return i=c.sent,c.next=8,i.json();case 8:return a=c.sent,c.next=11,n("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(e,"/videos"));case 11:return o=c.sent,c.next=14,o.json();case 14:return r=c.sent,c.next=17,n("https://kinopoiskapiunofficial.tech/api/v2.2/films/".concat(e,"/distributions"));case 17:return s=c.sent,c.next=20,s.json();case 20:l=c.sent,t.setFilmData(a),t.setAgeLimits(t.getAgeRatingLimits(a)),t.setTrailersUrl(t.getCorrectYoutubeTrailerUrl(r)),t.setPremiereDate(t.getPremiereDate(l)),c.next=30;break;case 27:c.prev=27,c.t0=c["catch"](1),console.error(c.t0);case 30:return c.prev=30,t.setFetching(!1),c.finish(30);case 33:case"end":return c.stop()}}),c,null,[[1,27,30,33]])})))()}}),mounted:function(){this.fetchFilmsData(this.id)},unmounted:function(){this.setDate(dt()().format("DD.MM.YYYY"))}};c("6cf4");const Bi=Y()(Si,[["render",It],["__scopeId","data-v-3d265c4a"]]);var _i=Bi,Mi=function(e){return Object(n["pushScopeId"])("data-v-9da7b76a"),e=e(),Object(n["popScopeId"])(),e},Di=Mi((function(){return Object(n["createElementVNode"])("h1",{class:"page-header"},"Личный кабинет",-1)})),Fi={class:"profile"},Ti={class:"avatar-wrap"},xi={xmlns:"http://www.w3.org/2000/svg",class:"profile__avatar"},Pi=["href"],Ii={class:"profile__info"},Ai=Mi((function(){return Object(n["createElementVNode"])("h2",{class:"profile__info-header"},"Ваша почта",-1)})),$i={class:"profile__info-description"},Yi=Mi((function(){return Object(n["createElementVNode"])("h2",{class:"profile__info-header"},"Ваш номер телефона",-1)})),Li={class:"profile__info-description"},Ri={class:"btn-link-wrap"},Ui=Object(n["createTextVNode"])("Перейти к истории билетов");function zi(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("a-button"),s=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Di,Object(n["createElementVNode"])("div",Fi,[Object(n["createElementVNode"])("div",Ti,[(Object(n["openBlock"])(),Object(n["createElementBlock"])("svg",xi,[Object(n["createElementVNode"])("use",{href:"".concat(a.avatar,"#avatar")},null,8,Pi)]))]),Object(n["createElementVNode"])("div",Ii,[Object(n["createElementVNode"])("div",null,[Ai,Object(n["createElementVNode"])("p",$i,Object(n["toDisplayString"])(e.authAccount.mail),1)]),Object(n["createElementVNode"])("div",null,[Yi,Object(n["createElementVNode"])("p",Li,Object(n["toDisplayString"])(e.authAccount.phoneNumber),1)])]),Object(n["createElementVNode"])("div",Ri,[Object(n["createVNode"])(s,{to:"/profile/history",tag:"li"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(r,{type:"primary"},{default:Object(n["withCtx"])((function(){return[Ui]})),_:1})]})),_:1})])])])}var qi=c("bc28"),Hi=c.n(qi),Gi={name:"ProfilePage",data:function(){return{avatar:Hi.a}},computed:Object(a["a"])({},Object(k["e"])({authAccount:function(e){return e.auth.authAccount}})),watch:{authAccount:function(e){null===e&&this.$router.push("/")}}};c("f3af");const Ji=Y()(Gi,[["render",zi],["__scopeId","data-v-9da7b76a"]]);var Qi=Ji,Wi=Object(n["createElementVNode"])("h2",{class:"page-header"},"История билетов",-1);function Xi(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("tickets-list");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Wi,Object(n["createVNode"])(r)])}var Ki={class:"tickets-list"};function Zi(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("tickets-list-item");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Ki,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.sortedByTimeTicketHistory,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(r,{key:e.id,ticket:e},null,8,["ticket"])})),128))])}var ea=function(e){return Object(n["pushScopeId"])("data-v-48827e7c"),e=e(),Object(n["popScopeId"])(),e},ta={class:"ticket-item"},ca={class:"ticket-item__info"},na={class:"info-film-name"},ia={class:"info-film-date"},aa={class:"ticket-item__qr-code-wrap"},oa=["href"],ra=ea((function(){return Object(n["createElementVNode"])("span",{class:"divider__description"},"Контроль",-1)})),sa={class:"water-mark ticket-item__ageLimits"},la={class:"order-info"},ua={class:"modal-wrap"},da={class:"modal__cinema-name"},ma={class:"modal__film-name"},pa={class:"modal__qr-code-wrap"},ba=ea((function(){return Object(n["createElementVNode"])("p",{class:"modal__qr-code-description"},"Покажите контроллеру перед входом в зал",-1)})),fa={class:"modal__hall-number"};function ja(e,t,c,i,a,o){var r=Object(n["resolveComponent"])("qrcode-vue"),s=Object(n["resolveComponent"])("a-modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("div",ta,[Object(n["createElementVNode"])("div",ca,[Object(n["createElementVNode"])("h1",na,Object(n["toDisplayString"])(c.ticket.filmName)+" "+Object(n["toDisplayString"])("3D"===c.ticket.session.format?"3D":null),1),Object(n["createElementVNode"])("h2",ia,Object(n["toDisplayString"])(c.ticket.date)+" "+Object(n["toDisplayString"])(c.ticket.session.time),1)]),Object(n["createElementVNode"])("div",aa,[(Object(n["openBlock"])(),Object(n["createElementBlock"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"ticket-item__qr-code-btn",onClick:t[0]||(t[0]=function(){return o.showQrCodeModal&&o.showQrCodeModal.apply(o,arguments)})},[Object(n["createElementVNode"])("use",{href:"".concat(a.qrcode,"#qr-code")},null,8,oa)])),ra]),Object(n["createElementVNode"])("div",sa,Object(n["toDisplayString"])(c.ticket.ageLimits),1)]),Object(n["createElementVNode"])("div",la,[Object(n["createElementVNode"])("span",null,"Заказ №"+Object(n["toDisplayString"])(c.ticket.id),1),Object(n["createElementVNode"])("span",null,"Тип оплаты: "+Object(n["toDisplayString"])(c.ticket.paymentMethod),1)])]),Object(n["createVNode"])(s,{visible:a.isVisible,"onUpdate:visible":t[1]||(t[1]=function(e){return a.isVisible=e}),centered:!0,width:"620px",footer:null,afterClose:o.handleCancel,closable:!1,wrapClassName:"modal"},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",ua,[Object(n["createElementVNode"])("h3",da,Object(n["toDisplayString"])(c.ticket.session.cinema.name),1),Object(n["createElementVNode"])("h1",ma,Object(n["toDisplayString"])(c.ticket.filmName)+" "+Object(n["toDisplayString"])("3D"===c.ticket.session.format?"3D":null),1),Object(n["createElementVNode"])("div",pa,[Object(n["createVNode"])(r,{size:"230",value:"https://www.youtube.com/watch?v=dQw4w9WgXcQ",level:"H"})]),ba,Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("h1",fa,"Зал "+Object(n["toDisplayString"])(Number(c.ticket.session.hall)),1),Object(n["createElementVNode"])("div",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(c.ticket.ticketsInfo,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("p",{class:"modal__seat-info",key:e.id}," Ряд "+Object(n["toDisplayString"])(e.row)+", место "+Object(n["toDisplayString"])(e.seat),1)})),128))])])])]})),_:1},8,["visible","afterClose"])],64)}var Oa=c("d39c"),ha=c.n(Oa),va=c("c028"),ka=c.n(va),ga={name:"TicketsItem",components:{QrcodeVue:ha.a},props:{ticket:{type:Object}},data:function(){return{moment:dt.a,qrcode:ka.a,isVisible:!1}},methods:{showQrCodeModal:function(){this.isVisible=!0},handleCancel:function(){this.isVisible=!1}}};c("b8b3");const ya=Y()(ga,[["render",ja],["__scopeId","data-v-48827e7c"]]);var Va=ya,Na={name:"TicketsList",components:{TicketsListItem:Va},computed:Object(a["a"])(Object(a["a"])({},Object(k["e"])({ticketsHistory:function(e){return e.auth.authAccount.ticketsHistory}})),{},{sortedByTimeTicketHistory:function(){return this.ticketsHistory.map((function(e){return e})).sort((function(e,t){return dt()(e.date,"DD.MM.YYYY")-dt()(t.date,"DD.MM.YYYY")||dt()(e.session.time,"HH:mm")-dt()(t.session.time,"HH:mm")}))}})};c("072a");const Ca=Y()(Na,[["render",Zi],["__scopeId","data-v-34514a4e"]]);var Ea=Ca,wa={name:"TicketsHistoryPage",components:{TicketsList:Ea},computed:Object(a["a"])({},Object(k["e"])({authAccount:function(e){return e.auth.authAccount}})),watch:{authAccount:function(e){null===e&&this.$router.push("/")}}};const Sa=Y()(wa,[["render",Xi]]);var Ba=Sa,_a=[{path:"/",name:"Home",component:Ct},{path:"/films",name:"Films",component:Tt},{path:"/films/:id",name:"Film",component:_i,props:!0},{path:"/online-cinema",name:"Online Cinema",component:Tt},{path:"/cinema-rent",name:"Cinema Rent",component:Tt},{path:"/profile",name:"Profile",component:Qi},{path:"/profile/history",name:"History",component:Ba}],Ma=Object(be["a"])({history:Object(be["b"])("/FilmStrip/"),routes:_a}),Da=Ma,Fa={state:function(){return{authModalVisible:!1,authAccount:localStorage.authUser?JSON.parse(localStorage.authUser):null}},mutations:{setAuthModalVisible:function(e,t){e.authModalVisible=t},setAuthAccount:function(e,t){e.authAccount=t,localStorage.setItem("authUser",JSON.stringify(t))},clearAuthAccount:function(e){e.authAccount=null},updateTicketsHistory:function(e,t){e.authAccount=t,localStorage.setItem("authUser",JSON.stringify(t))}}},Ta=c("2909"),xa=c("b85c"),Pa=dt()().subtract(1,"months"),Ia=dt()(),Aa=dt()().add(1,"months"),$a=[Pa,Ia,Aa],Ya={state:function(){return{films:[],releasedFilms:[],unreleasedFilms:[],isFetchingFilms:!1}},getters:{currentPremiers:function(e){return e.films.filter((function(e){return dt()(e.premiereRu,"YYYY-MM-DD").format("MM")===Ia.format("MM")}))},filmsAfterSorts:function(e,t,c){var n=function(e){return c.selectedGenresSort?e.filter((function(e){var t,n=Object(xa["a"])(e.genres);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.genre===c.selectedGenresSort)return!0}}catch(a){n.e(a)}finally{n.f()}})):e};return"released"===c.selectedReleaseSort?n(e.releasedFilms):n(e.unreleasedFilms)}},mutations:{setFilms:function(e,t){e.films=[].concat(Object(Ta["a"])(e.films),Object(Ta["a"])(t))},setReleasedFilms:function(e,t){var c=t.filter((function(e){return dt()(e.premiereRu,"YYYY-MM-DD")<=Ia})).reverse();e.releasedFilms=[].concat(Object(Ta["a"])(c),Object(Ta["a"])(e.releasedFilms))},setUnreleasedFilms:function(e,t){var c=t.filter((function(e){return dt()(e.premiereRu,"YYYY-MM-DD")>Ia&&dt()(e.premiereRu,"YYYY-MM-DD")<Aa}));e.unreleasedFilms=[].concat(Object(Ta["a"])(e.unreleasedFilms),Object(Ta["a"])(c))},setFetchingFilms:function(e,t){e.isFetchingFilms=t}},actions:{fetchFilms:function(e){return Object(At["a"])(regeneratorRuntime.mark((function t(){var c,n,i,a,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:c=e.commit,c("setFetchingFilms",!0),n=Object(xa["a"])($a),t.prev=3,n.s();case 5:if((i=n.n()).done){t.next=30;break}return a=i.value,t.prev=7,t.next=10,fetch("https://kinopoiskapiunofficial.tech/api/v2.2/films/premieres?year=".concat(a.format("YYYY"),"&month=").concat(a.format("MMMM").toUpperCase()),{method:"GET",headers:{"X-API-KEY":"bbd5c8d2-662f-428b-9b73-5fb961a663ad","Content-Type":"application/json"}});case 10:return o=t.sent,t.next=13,o.json();case 13:return r=t.sent,t.next=16,c("setFilms",r.items);case 16:return t.next=18,c("setReleasedFilms",r.items);case 18:return t.next=20,c("setUnreleasedFilms",r.items);case 20:t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](7),console.error(t.t0);case 25:return t.prev=25,c("setFetchingFilms",!1),t.finish(25);case 28:t.next=5;break;case 30:t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](3),n.e(t.t1);case 35:return t.prev=35,n.f(),t.finish(35);case 38:case"end":return t.stop()}}),t,null,[[3,32,35,38],[7,22,25,28]])})))()}},namespaced:!0},La={state:function(){return{cinema:[{name:"Кронверк Вью МЕГА JS",address:"площадь Приведения Типов 13, корпус 3, «МЕГА JS», NaN-й этаж",id:666,formats:[{format:"2D",sessions:[{time:"11:20",price:"200",hall:"01",hallType:"standart"},{time:"13:15",price:"250",hall:"01",hallType:"standart"},{time:"16:10",price:"250",hall:"01",hallType:"standart"},{time:"18:05",price:"300",hall:"01",hallType:"standart"},{time:"21:20",price:"300",hall:"01",hallType:"standart"},{time:"23:55",price:"200",hall:"01",hallType:"standart"}]},{format:"3D",sessions:[{time:"10:30",price:"200",hall:"02",hallType:"standart"},{time:"12:35",price:"250",hall:"02",hallType:"standart"},{time:"15:20",price:"250",hall:"02",hallType:"standart"},{time:"18:20",price:"300",hall:"02",hallType:"standart"},{time:"20:45",price:"300",hall:"02",hallType:"standart"},{time:"23:25",price:"200",hall:"02",hallType:"standart"}]}]},{name:"Async Синема",address:"Булиевое шоссе 14, «ТЦ AWAIT», 4-й этаж",id:999,formats:[{format:"2D",sessions:[{time:"11:20",price:"200",hall:"01",hallType:"standart"},{time:"14:10",price:"250",hall:"01",hallType:"standart"},{time:"15:30",price:"250",hall:"01",hallType:"standart"},{time:"16:25",price:"250",hall:"01",hallType:"standart"},{time:"17:40",price:"250",hall:"01",hallType:"standart"},{time:"18:35",price:"300",hall:"01",hallType:"standart"},{time:"22:10",price:"250",hall:"01",hallType:"standart"},{time:"23:05",price:"200",hall:"01",hallType:"standart"}]},{format:"VIP",sessions:[{time:"10:20",price:"700",hall:"02",hallType:"vip"},{time:"14:55",price:"750",hall:"02",hallType:"vip"},{time:"17:20",price:"750",hall:"02",hallType:"vip"},{time:"17:55",price:"810",hall:"02",hallType:"vip"},{time:"20:35",price:"810",hall:"02",hallType:"vip"},{time:"23:25",price:"700",hall:"02",hallType:"vip"}]}]}],halls:[{hallType:"standart",layout:[{row:1,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!0,peopleCapacity:"single"},{seat:4,isOccupied:!0,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!1,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:2,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!1,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:3,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!0,peopleCapacity:"single"},{seat:5,isOccupied:!0,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:4,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!1,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!1,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!0,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]},{row:5,seats:[{seat:1,isOccupied:!1,peopleCapacity:"single"},{seat:2,isOccupied:!1,peopleCapacity:"single"},{seat:3,isOccupied:!0,peopleCapacity:"single"},{seat:4,isOccupied:!1,peopleCapacity:"single"},{seat:5,isOccupied:!0,peopleCapacity:"single"},{seat:6,isOccupied:!0,peopleCapacity:"single"},{seat:7,isOccupied:!1,peopleCapacity:"single"},{seat:8,isOccupied:!1,peopleCapacity:"single"},{seat:9,isOccupied:!1,peopleCapacity:"single"},{seat:10,isOccupied:!1,peopleCapacity:"single"}]}]},{hallType:"vip",layout:[{row:1,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:2,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:3,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:4,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]},{row:5,seats:[{seat:1,isOccupied:!1,peopleCapacity:"double"},{seat:2,isOccupied:!1,peopleCapacity:"double"},{seat:3,isOccupied:!1,peopleCapacity:"double"},{seat:4,isOccupied:!1,peopleCapacity:"double"}]}]}]}}},Ra={state:function(){return{premiereDate:null,selectedDate:dt()().format("DD.MM.YYYY"),film:null,selectedSession:null,selectedTickets:[],trailerUrl:null,ageLimits:null,checkoutModalVisible:!1}},getters:{getCountInfoAboutTickets:function(e){var t=e.selectedTickets.length;return 1===t?"1 билет":"".concat(t,t<5?" билета":" билетов")},isLimitOfTickets:function(e){return e.selectedTickets.length>=5}},mutations:{setPremiereDate:function(e,t){e.premiereDate=t},setSelectedFilm:function(e,t){e.film=t},setTrailerUrlOfSelectedFilm:function(e,t){e.trailerUrl=t},setAgeLimitsOfSelectedFilm:function(e,t){e.ageLimits=t},setCheckoutModalVisible:function(e,t){e.checkoutModalVisible=t},setSelectedSession:function(e,t){e.selectedSession=t},setTicket:function(e,t){e.selectedTickets=[].concat(Object(Ta["a"])(e.selectedTickets),[t])},removeTicket:function(e,t){e.selectedTickets=e.selectedTickets.filter((function(e){return e.id!==t}))},clearTickets:function(e){e.selectedTickets=[]},setSelectedDate:function(e,t){e.selectedDate=t}},namespaced:!0},Ua=Object(k["a"])({modules:{auth:Fa,films:Ya,cinemaSession:La,selectedFilm:Ra},state:{selectedReleaseSort:"released",selectedGenresSort:"",isTimeExpired:!1},mutations:{setReleaseSort:function(e,t){e.selectedReleaseSort=t},setGenresSort:function(e,t){e.selectedGenresSort=t},setIsTimeExpired:function(e,t){e.isTimeExpired=t}}}),za=c("5333"),qa=c("f23d");c("3aed");Object(n["createApp"])(pe).use(za["a"]).use(qa["a"]).use(Ua).use(Da).mount("#app")},5725:function(e,t,c){"use strict";c("d45e")},"61f6":function(e,t,c){"use strict";c("d42b")},"67b6":function(e,t,c){},6913:function(e,t,c){"use strict";c("7546")},"6bc0":function(e,t,c){},"6cf4":function(e,t,c){"use strict";c("2150")},"6da2":function(e,t,c){},"6e60":function(e,t,c){"use strict";c("e27a")},7546:function(e,t,c){},"7aa6":function(e,t,c){},"7e6d":function(e,t,c){"use strict";c("556f")},"87c6":function(e,t,c){"use strict";c("4cdb")},9193:function(e,t,c){"use strict";c("e868")},"9b19":function(e,t,c){e.exports=c.p+"img/logo.67d4fef4.svg"},a9e9:function(e,t,c){},b8b3:function(e,t,c){"use strict";c("486a")},ba25:function(e,t,c){},ba2d:function(e,t,c){e.exports=c.p+"img/ticket.da8b2b75.svg"},bc28:function(e,t,c){e.exports=c.p+"img/avatar.4d46f01e.svg"},c028:function(e,t,c){e.exports=c.p+"img/qr-code-icon.3dba1849.svg"},c1ba:function(e,t,c){"use strict";c("09a2")},c1d4:function(e,t,c){"use strict";c("e195")},c4ff:function(e,t,c){"use strict";c("7aa6")},c965:function(e,t,c){},cac0:function(e,t,c){"use strict";c("4303")},cfd3:function(e,t,c){},d027:function(e,t,c){"use strict";c("28ed")},d205:function(e,t,c){"use strict";c("ecc5")},d303:function(e,t,c){},d42b:function(e,t,c){},d45e:function(e,t,c){},d588:function(e,t,c){"use strict";c("c965")},d77c:function(e,t,c){},d915:function(e,t,c){"use strict";c("cfd3")},dea3:function(e,t,c){"use strict";c("0b11")},e195:function(e,t,c){},e27a:function(e,t,c){},e868:function(e,t,c){},ecc5:function(e,t,c){},f3af:function(e,t,c){"use strict";c("fc9c")},f4a8:function(e,t,c){"use strict";c("2343")},fa2b:function(e,t,c){"use strict";c("6bc0")},fc9c:function(e,t,c){},ff50:function(e,t,c){}});
//# sourceMappingURL=app.b1cad1d9.js.map